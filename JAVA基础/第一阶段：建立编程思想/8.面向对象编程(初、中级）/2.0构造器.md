æ„é€ å™¨æ˜¯ Java å¯¹è±¡ç”Ÿå‘½çš„èµ·ç‚¹ï¼Œå®ƒæ˜¯**å°†å†…å­˜ä¸­çš„è£¸å¯¹è±¡è½¬å˜ä¸ºå¯ç”¨å¯¹è±¡**çš„å…³é”®å·¥åºã€‚æŒæ¡å®ƒï¼Œæ˜¯å†™å‡º"å®‰å…¨ä»£ç "çš„ç¬¬ä¸€æ­¥ã€‚

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

## ç¬¬1éƒ¨åˆ†ï¼šå»ºç«‹è®¤çŸ¥ï¼ˆWhat & Whyï¼‰

### ğŸ“¦ 1.1 æ ¸å¿ƒè¯­æ³• *ğŸ’¡ æ ¸å¿ƒå¿…å­¦*

**ç›®æ ‡**ï¼šè¯†åˆ«æ„é€ å™¨ä¸æ™®é€šæ–¹æ³•çš„æœ¬è´¨åŒºåˆ«ï¼Œå†™å‡ºæ ‡å‡†å®šä¹‰ã€‚

**åŸºç¡€è¯­æ³•ç»“æ„**ï¼š
æ„é€ å™¨çœ‹ä¼¼åƒæ–¹æ³•ï¼Œä½†æœ‰ä¸¤ä¸ªé“å¾‹ï¼š

1. **æ–¹æ³•åå¿…é¡»ä¸ç±»åå®Œå…¨ä¸€è‡´**ï¼ˆå¤§å°å†™æ•æ„Ÿï¼‰ã€‚
2. **ç»å¯¹ä¸èƒ½æœ‰è¿”å›å€¼ç±»å‹**ï¼ˆè¿ `void` éƒ½ä¸è¡Œï¼Œå†™äº†å°±å˜æ™®é€šæ–¹æ³•äº†ï¼ï¼‰ã€‚

```java
public class User {
    // æˆå‘˜å˜é‡ï¼ˆçŠ¶æ€ï¼‰
    private String name;
    private int age;

    /**
     * âœ… æ ‡å‡†æ„é€ å™¨
     * ä½œç”¨ï¼šåˆå§‹åŒ–å¯¹è±¡çš„åˆå§‹çŠ¶æ€
     * è¯­æ³•ï¼šä¿®é¥°ç¬¦ ç±»å(å‚æ•°åˆ—è¡¨) { ... }
     */
    public User(String inputName, int inputAge) {
        // æ ¸å¿ƒé€»è¾‘ï¼šæŠŠä¼ å…¥çš„å‚æ•°ï¼Œèµ‹å€¼ç»™æˆå‘˜å˜é‡
        name = inputName;
        age = inputAge;
    }
}

```

---

### ğŸ”— 1.2 å…³è”æ¦‚å¿µ *ğŸ’¡ æ ¸å¿ƒå¿…å­¦*

**ç›®æ ‡**ï¼šç†è§£ä¸ºäº†çµæ´»åˆå§‹åŒ–ï¼ŒJava æä¾›çš„é…å¥—æœºåˆ¶ã€‚

**å¿…é¡»åŒ…å«çš„æ¦‚å¿µ**ï¼ˆæŒ‰ä¾èµ–é¡ºåºè®²è§£ï¼‰ï¼š

1. **ç¼–è¯‘å™¨éšå¼è¡Œä¸ºï¼ˆé»˜è®¤æ„é€ å™¨ï¼‰**ï¼š
   * **è§„åˆ™**ï¼šå¦‚æœä½ **æ²¡å†™ä»»ä½•**æ„é€ å™¨ï¼Œç¼–è¯‘å™¨ä¼šé€ä½ ä¸€ä¸ªç©ºå‚æ„é€ å™¨ `public User() {}`ã€‚
   * **ç‰¹ä¾‹**ï¼šä¸€æ—¦ä½ å†™äº†**ä»»æ„ä¸€ä¸ª**æ„é€ å™¨ï¼Œç¼–è¯‘å™¨å°±ä¸é€äº†ã€‚
2. **`this` å…³é”®å­—ï¼ˆå½“å‰å¯¹è±¡å¼•ç”¨ï¼‰**ï¼š
   * **åœºæ™¯**ï¼šå½“å‚æ•°åï¼ˆ`name`ï¼‰å’Œæˆå‘˜å˜é‡åï¼ˆ`name`ï¼‰å†²çªæ—¶ã€‚
   * **ä½œç”¨**ï¼šæŒ‡ä»£å½“å‰æ­£åœ¨è¢«åˆå§‹åŒ–çš„é‚£ä¸ªå¯¹è±¡ã€‚
   
    ```java
    public User(String name) {
        // this.name æ˜¯æˆå‘˜å˜é‡ï¼Œname æ˜¯å‚æ•°
        this.name = name; 
    }
    
    ```
   
3. **æ„é€ å™¨é‡è½½ (Overloading)**ï¼š
   * **å«ä¹‰**ï¼šå…è®¸å­˜åœ¨å¤šä¸ªæ„é€ å™¨ï¼Œåªè¦å‚æ•°åˆ—è¡¨ä¸åŒã€‚
   * **åœºæ™¯**ï¼šæä¾›å¤šç§åˆå§‹åŒ–æ–¹å¼ï¼ˆæ¯”å¦‚ï¼šåªä¼ åå­—ï¼Œæˆ–ä¼ åå­—+å¹´é¾„ï¼‰ã€‚
4. **`this(...)` è°ƒç”¨é“¾**ï¼š
   * **è§„åˆ™**ï¼šä¸€ä¸ªæ„é€ å™¨å¯ä»¥è°ƒç”¨åŒä¸€ä¸ªç±»çš„å¦ä¸€ä¸ªæ„é€ å™¨ã€‚
   * **é™åˆ¶**ï¼šå¿…é¡»æ”¾åœ¨æ„é€ å™¨çš„**ç¬¬ä¸€è¡Œ**ã€‚
   * **ç›®çš„**ï¼šå¤ç”¨ä»£ç ï¼Œé¿å…é€»è¾‘é‡å¤ï¼ˆDRY åŸåˆ™ï¼‰ã€‚

  ```java
  public class Product {
      private String name;
      private double price;
  
      // 1. å…¨å‚æ„é€ å™¨ï¼ˆæ ¸å¿ƒé€»è¾‘éƒ½åœ¨è¿™ï¼‰
      public Product(String name, double price) {
          this.name = name;
          this.price = price;
      }
  
      // 2. ç®€åŒ–æ„é€ å™¨ï¼šåªä¼ åå­—ï¼Œä»·æ ¼é»˜è®¤ 0.0
      // ä¾èµ–ä¸Šé¢çš„å…¨å‚æ„é€ å™¨
      public Product(String name) {
          this(name, 0.0); // ğŸ‘ˆ è¿™é‡Œçš„ this() è°ƒç”¨é“¾å¤ç”¨äº†ä¸Šé¢çš„é€»è¾‘
      }
  }
  
  ```



---

### ğŸš€ 1.3 å¿«é€Ÿä¸Šæ‰‹ *ğŸ’¡ æ ¸å¿ƒå¿…å­¦*

**ç›®æ ‡**ï¼šç»“åˆä¸Šè¿°æ¦‚å¿µï¼Œåˆ›å»ºä¸€ä¸ªç”µå•†å•†å“å¯¹è±¡ã€‚

```java
/**
 * æ¼”ç¤ºï¼šæ„é€ å™¨çš„å®šä¹‰ä¸ä½¿ç”¨
 */
public class ProductDemo {
    // å®šä¹‰ä¸€ä¸ªç®€å•çš„å•†å“ç±»
    static class Item {
        String title;
        int stock;

        // å…¨å‚æ„é€ å™¨
        public Item(String title, int stock) {
            this.title = title;
            this.stock = stock;
            System.out.println("âœ… å•†å“ [" + title + "] åˆå§‹åŒ–å®Œæˆ");
        }
    }

    public static void main(String[] args) {
        // ä½¿ç”¨ new å…³é”®å­— + æ„é€ å™¨ åˆ›å»ºå¯¹è±¡
        // æµç¨‹ï¼šåˆ†é…å†…å­˜ -> è°ƒç”¨æ„é€ å™¨ -> è¿”å›å¼•ç”¨
        Item laptop = new Item("MacBook Pro", 50);
        
        Item phone = new Item("iPhone 15", 100);

        System.out.println("åº“å­˜: " + laptop.stock);
    }
}

```
[æ‹“å±• â€”â€” åµŒå¥—ç±»çš„è¯´æ˜](2.7%5Bè¡¥å……%5DåµŒå¥—ç±».md)

**è¿è¡Œç»“æœ**ï¼š

```text
âœ… å•†å“ [MacBook Pro] åˆå§‹åŒ–å®Œæˆ
âœ… å•†å“ [iPhone 15] åˆå§‹åŒ–å®Œæˆ
åº“å­˜: 50

```

---

### ğŸ’¡ 1.4 å®ƒè§£å†³äº†ä»€ä¹ˆé—®é¢˜ *ğŸ’¡ æ ¸å¿ƒå¿…å­¦*

**ç›®æ ‡**ï¼šç†è§£ä¸ºä»€ä¹ˆä¸èƒ½åªé  `set` æ–¹æ³•ã€‚

**å†å²èƒŒæ™¯ï¼ˆæ²¡æœ‰æ„é€ å™¨çš„ä¸–ç•Œï¼‰**ï¼š
åœ¨æ„é€ å™¨æ™®åŠå‰ï¼Œåˆ›å»ºä¸€ä¸ª"å®Œæ•´å¯¹è±¡"éœ€è¦ä¸¤æ­¥ï¼š

1. åˆ›å»ºç©ºå¯¹è±¡ã€‚
2. æ‰‹åŠ¨è°ƒç”¨ä¸€å † `set` æ–¹æ³•èµ‹å€¼ã€‚

**å¯¹æ¯”ä»£ç **ï¼š

```java
// âŒ æ²¡ç”¨æ„é€ å™¨ï¼ˆé£é™©é«˜ï¼‰
User u = new User();
// ä¸‡ä¸€ç¨‹åºå‘˜å¿˜äº†å†™ä¸‹é¢è¿™è¡Œï¼Œå¯¹è±¡å°±æ˜¯"åŠæˆå“"ï¼Œæ•°æ®ä¸å®Œæ•´ï¼
u.setName("Alice"); 

// âœ… ä½¿ç”¨æ„é€ å™¨ï¼ˆå¼ºåˆ¶çº¦æŸï¼‰
// æƒ³è¦åˆ›å»º Userï¼Ÿå¿…é¡»ç»™æˆ‘åå­—ï¼å¦åˆ™ç¼–è¯‘éƒ½ä¸é€šè¿‡ã€‚
User u = new User("Alice"); 

```

**è®¾è®¡æ”¶ç›Š**ï¼š

* **åŸå­æ€§**ï¼šåˆ›å»ºå³åˆå§‹åŒ–ï¼Œè¦ä¹ˆæˆåŠŸå¾—åˆ°å®Œæ•´å¯¹è±¡ï¼Œè¦ä¹ˆå¤±è´¥ï¼ˆæŠ¥é”™ï¼‰ã€‚
* **ä¸€è‡´æ€§**ï¼šä¿è¯å¯¹è±¡åœ¨ä»»ä½•æ—¶å€™è¢«ä½¿ç”¨æ—¶ï¼Œå†…éƒ¨çŠ¶æ€éƒ½æ˜¯åˆæ³•çš„ã€‚

---

### âš™ï¸ 1.5 åº•å±‚åŸç† *â­ è¿›é˜¶é€‰å­¦*

**ç›®æ ‡**ï¼šç†è§£ `new User()` æ—¶ï¼Œå†…å­˜é‡Œå‘ç”Ÿäº†ä»€ä¹ˆã€‚

**æ‰§è¡Œæµç¨‹**ï¼š
å½“æ‰§è¡Œ `User u = new User("Alice", 18);` æ—¶ï¼š

1. **åŠ è½½**ï¼šJVM ç¡®è®¤ `User` ç±»å·²åŠ è½½ã€‚
2. **åˆ†é…å†…å­˜ï¼ˆHeapï¼‰**ï¼šåœ¨å †ä¸­å¼€è¾Ÿç©ºé—´ã€‚
3. **é›¶å€¼åˆå§‹åŒ–**ï¼šå°†æ‰€æœ‰æˆå‘˜å˜é‡è®¾ä¸ºé»˜è®¤å€¼ï¼ˆint=0, boolean=false, String=nullï¼‰ã€‚
   * *æ­¤æ—¶å¯¹è±¡å·²å­˜åœ¨ï¼Œä½†è¿˜æ˜¯ä¸€å¼ ç™½çº¸ã€‚*
4. **æ˜¾å¼åˆå§‹åŒ–**ï¼šæ‰§è¡Œ `private int age = 10;` è¿™ç§ç›´æ¥èµ‹å€¼ã€‚
5. **æ‰§è¡Œæ„é€ å™¨**ï¼š
   * è°ƒç”¨ `super()` (çˆ¶ç±»æ„é€ å™¨)ã€‚
   * æ‰§è¡Œæ„é€ å™¨å†…çš„ä»£ç ï¼ˆ`this.name = "Alice"`ï¼‰ã€‚
6. **å…³è”å¼•ç”¨**ï¼šå°†å †ä¸­çš„åœ°å€èµ‹å€¼ç»™æ ˆä¸­çš„å˜é‡ `u`ã€‚

**å†…å­˜æ¨¡å‹ ASCII å›¾**ï¼š

```
Thread Stack (æ ˆ)                   Heap Memory (å †)
+----------------+                +--------------------------+
| u (å¼•ç”¨å˜é‡)    |--------------> | 0x1A2B (Userå¯¹è±¡)         |
+----------------+                |--------------------------|
                                  | [Header] å…ƒæ•°æ®           |
                                  | name: "Alice"            |
                                  | age:  18                 |
                                  +--------------------------+

```

---

## ç¬¬2éƒ¨åˆ†ï¼šå·¥ç¨‹å®è·µï¼ˆHow to Do Rightï¼‰

åœ¨é˜¶æ®µ1ä¸­ï¼Œæˆ‘ä»¬æŒæ¡äº†æ„é€ å™¨çš„åŸºæœ¬å†™æ³•ã€‚ä½†åœ¨ä¼ä¸šçº§å¼€å‘ä¸­ï¼Œ"èƒ½è·‘"è¿œè¿œä¸å¤Ÿï¼Œæˆ‘ä»¬è¦å†™å‡ºå®‰å…¨ã€æ˜“ç»´æŠ¤çš„"å·¥ç¨‹åŒ–ä»£ç "ã€‚

### ğŸ” å‰ç½®çŸ¥è¯†æ£€æŸ¥

```
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ“š å‰ç½®çŸ¥è¯†å›é¡¾
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
æœ¬é˜¶æ®µä¼šç”¨åˆ°ä»¥ä¸‹æ¦‚å¿µï¼ˆå·²åœ¨é˜¶æ®µ1å­¦è¿‡ï¼‰ï¼š
Â· æ–¹æ³•é‡è½½ï¼ˆOverloadingï¼‰
Â· this(...) è°ƒç”¨é“¾
Â· æˆå‘˜å˜é‡åˆå§‹åŒ–

å¦‚æœä¸è®°å¾—äº†ï¼Œå»ºè®®å…ˆå›é¡¾é˜¶æ®µ1ã€‚
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

```

---

### ğŸŒ 2.1 çœŸå®åœºæ™¯ *ğŸ’¡ æ ¸å¿ƒå¿…å­¦*

**ç›®æ ‡**ï¼šåœ¨çœŸå®ä¸šåŠ¡ä¸­ï¼Œå¦‚ä½•é€šè¿‡æ„é€ å™¨ä¿è¯æ•°æ®çš„"åˆæ³•æ€§"ã€‚

**åœºæ™¯æè¿°**ï¼š
æˆ‘ä»¬è¦æ„å»ºä¸€ä¸ª**ç”µå•†è®¢å•ç³»ç»Ÿ**ã€‚

* **ä¸šåŠ¡è§„åˆ™**ï¼š
1. è®¢å•åˆ›å»ºæ—¶å¿…é¡»æœ‰å”¯ä¸€çš„ `orderId` å’Œæ‰€å± `userId`ã€‚
2. è®¢å•é‡‘é¢ `totalAmount` å¿…é¡» >= 0ã€‚
3. å¦‚æœæ•°æ®ä¸åˆæ³•ï¼Œ**ç»å¯¹ä¸å…è®¸**åˆ›å»ºå‡ºå¯¹è±¡ï¼ˆå¿«é€Ÿå¤±è´¥ï¼‰ã€‚



**ä»£ç å¯¹æ¯”**ï¼š

```java
// âŒ é”™è¯¯ç¤ºèŒƒï¼šè´«è¡€æ¨¡å‹ï¼ˆAnemic Modelï¼‰
// é—®é¢˜ï¼šå…è®¸åˆ›å»ºå‡º"é‡‘é¢ä¸ºè´Ÿ"æˆ–"æ²¡æœ‰ç”¨æˆ·"çš„éæ³•è®¢å•
public class BadOrder {
    public String orderId;
    public double amount;
    // é»˜è®¤æ„é€ å™¨... éšä¾¿åˆ«äººæ€ä¹ˆèµ‹å€¼
}

// âœ… æ­£ç¡®ç¤ºèŒƒï¼šå……è¡€æ¨¡å‹ï¼ˆRich Modelï¼‰
// ä¼˜åŠ¿ï¼šæ„é€ å™¨å……å½“"å®ˆé—¨å‘˜"ï¼ŒæŠŠéæ³•æ•°æ®æŒ¡åœ¨é—¨å¤–
public class Order {
    private final String orderId; // final: ä¸€æ—¦èµ‹å€¼ä¸å¯ä¿®æ”¹
    private final String userId;
    private double totalAmount;

    public Order(String orderId, String userId, double totalAmount) {
        // 1. é˜²å¾¡æ€§ç¼–ç¨‹ï¼šå‚æ•°æ ¡éªŒ
        if (totalAmount < 0) {
            throw new IllegalArgumentException("è®¢å•é‡‘é¢ä¸èƒ½ä¸ºè´Ÿ: " + totalAmount);
        }
        if (userId == null || userId.isEmpty()) {
            throw new IllegalArgumentException("å¿…é¡»æŒ‡å®šç”¨æˆ·");
        }

        // 2. èµ‹å€¼ï¼ˆåªæœ‰æ ¡éªŒé€šè¿‡æ‰ä¼šæ‰§è¡Œåˆ°è¿™é‡Œï¼‰
        this.orderId = orderId;
        this.userId = userId;
        this.totalAmount = totalAmount;
    }
}

```

**è®¾è®¡å†³ç­–**ï¼š

* **Fail Fastï¼ˆå¿«é€Ÿå¤±è´¥ï¼‰**ï¼šä¸å…¶è®©é”™è¯¯çš„æ•°æ®åœ¨ç³»ç»Ÿä¸­æµè½¬å¯¼è‡´åç»­å´©æºƒï¼Œä¸å¦‚åœ¨æºå¤´ï¼ˆæ„é€ å™¨ï¼‰å°±æŠ¥é”™ã€‚

---

### âœ… 2.2 å·¥ç¨‹è§„èŒƒ *ğŸ”¥ å®æˆ˜å¿…å¤‡*

åŸºäº **Java 17 LTS** æ ‡å‡†ï¼Œæˆ‘ä»¬é‡‡ç”¨çº¢ç»¿ç¯åˆ†çº§ï¼š

**ğŸ”´ REDï¼ˆç»å¯¹ç¦æ­¢ï¼‰**ï¼š

1. **åœ¨æ„é€ å™¨ä¸­æ‰§è¡Œå¤æ‚é€»è¾‘**ï¼š
   * **ç¦æ­¢**ï¼šåœ¨æ„é€ å™¨é‡Œè¿æ¥æ•°æ®åº“ã€è§£æå¤§æ–‡ä»¶ã€å‘èµ·ç½‘ç»œè¯·æ±‚ã€‚
   * **åæœ**ï¼šä¼šå¯¼è‡´ `new` å¯¹è±¡éå¸¸æ…¢ï¼Œä¸”éš¾ä»¥è¿›è¡Œå•å…ƒæµ‹è¯•ã€‚
   * **åŸåˆ™**ï¼šæ„é€ å™¨åªåš"èµ‹å€¼"å’Œ"æ ¡éªŒ"ã€‚
   * 
    ```java
    // âŒ é”™è¯¯ï¼šæ„é€ å™¨å˜æ…¢ï¼Œæ‹–ç´¯ç³»ç»Ÿ
    public User(String id) {
        this.name = Database.queryNameById(id); // ç¦æ­¢ï¼IOæ“ä½œ
    }
    
    ```
   
2. **åœ¨æ„é€ å™¨ä¸­æš´éœ² `this` å¼•ç”¨**ï¼š
   * **ç¦æ­¢**ï¼šå¯¹è±¡è¿˜æ²¡åˆå§‹åŒ–å®Œï¼Œå°±æŠŠ `this` ä¼ ç»™åˆ«äººã€‚
   * **åæœ**ï¼šå¤šçº¿ç¨‹ç¯å¢ƒä¸‹ï¼Œåˆ«äººå¯èƒ½è¯»åˆ°ç©ºæŒ‡é’ˆæˆ–æœªåˆå§‹åŒ–çš„å­—æ®µã€‚


**ğŸŸ¢ GREENï¼ˆæ¨èé£æ ¼ï¼‰**ï¼š

1. **ä½¿ç”¨ `@Builder` æ¨¡å¼å¤„ç†é•¿å‚æ•°**ï¼š
   * å¦‚æœæ„é€ å™¨å‚æ•°è¶…è¿‡ 5 ä¸ªï¼Œä»£ç å¯è¯»æ€§ä¼šæ€¥å‰§ä¸‹é™ã€‚æ­¤æ—¶æ¨èä½¿ç”¨ Builder æ¨¡å¼ï¼ˆé˜¶æ®µ3ä¼šç»†è®²ï¼‰æˆ– Lombok æ’ä»¶ã€‚

2. **æ·±æ‹·è´å¯å˜å¯¹è±¡**ï¼š
   * å¦‚æœä¼ å…¥çš„æ˜¯ `Date` æˆ– `List`ï¼Œå»ºè®®æ‹·è´ä¸€ä»½ï¼Œé˜²æ­¢å¤–éƒ¨ä¿®æ”¹å½±å“å†…éƒ¨ã€‚

  ```java
  // ğŸŸ¢ æ¨èï¼šé˜²å¾¡æ€§å¤åˆ¶
  public Team(List<String> members) {
      // åˆ›å»ºä¸€ä¸ªæ–°çš„Listï¼Œè€Œä¸æ˜¯ç›´æ¥å¼•ç”¨ä¼ å…¥çš„List
      this.members = new ArrayList<>(members);
  }
  
  ```



---

### ğŸ”„ 2.3 ç‰ˆæœ¬æ¼”è¿› *ğŸ’¡ æ ¸å¿ƒå¿…å­¦*

**ç›®æ ‡**ï¼šä½“éªŒ **Java 14+** å¼•å…¥çš„ `Record`ï¼ˆè®°å½•ç±»å‹ï¼‰å¦‚ä½•å½»åº•æ”¹å˜"æ•°æ®è½½ä½“"ç±»ï¼ˆDTO/VOï¼‰çš„å†™æ³•ã€‚

**åœºæ™¯**ï¼šæˆ‘ä»¬éœ€è¦å®šä¹‰ä¸€ä¸ªç®€å•çš„ `Point`ï¼ˆåæ ‡ç‚¹ï¼‰ç±»ï¼ŒåŒ…å« x å’Œ yã€‚

**ä¼ ç»Ÿå†™æ³•ï¼ˆJava 8 åŠä¹‹å‰ï¼‰**ï¼š

* ç—›ç‚¹ï¼šä¸ºäº†ä¸¤ä¸ªå˜é‡ï¼Œè¦å†™ 50 è¡Œä»£ç ï¼ˆæ„é€ å™¨ã€gettersã€hashCodeã€equalsã€toStringï¼‰ã€‚

**ç°ä»£å†™æ³•ï¼ˆJava 17+ Recordï¼‰**ï¼š

```java
/**
 * ç°ä»£å†™æ³•ï¼šRecord ç±»å‹
 * ç¼–è¯‘å™¨è‡ªåŠ¨ç”Ÿæˆï¼š
 * 1. å…¨å‚æ„é€ å™¨
 * 2. public è®¿é—®å™¨æ–¹æ³•ï¼ˆx(), y() è€Œä¸æ˜¯ getX()ï¼‰
 * 3. equals(), hashCode(), toString()
 * 4. final å­—æ®µï¼ˆä¸å¯å˜ï¼‰
 */
public record Point(int x, int y) {
    
    // ğŸ’¡ ç´§å‡‘æ„é€ å™¨ (Compact Constructor)
    // è¯´æ˜ï¼šRecord ä¸“å±è¯­æ³•ï¼Œç”¨äºæ·»åŠ æ ¡éªŒé€»è¾‘
    // ç‰¹ç‚¹ï¼šä¸éœ€è¦é‡å¤å†™å‚æ•°åˆ—è¡¨ï¼Œä¸éœ€è¦å†™ this.x = x
    public Point {
        if (x < 0 || y < 0) {
            throw new IllegalArgumentException("åæ ‡ä¸èƒ½ä¸ºè´Ÿæ•°");
        }
        // ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨åœ¨æœ€åæ’å…¥èµ‹å€¼é€»è¾‘ï¼š
        // this.x = x;
        // this.y = y;
    }
}

```

**å¯¹æ¯”æ€»ç»“**ï¼š

| å¯¹æ¯”ç»´åº¦ | æ™®é€š Class | Java Record |
| --- | --- | --- |
| **ä»£ç é‡** | å†—é•¿ï¼ˆæ ·æ¿ä»£ç å¤šï¼‰ | æç®€ï¼ˆ1è¡Œæå®šï¼‰ |
| **å¯å˜æ€§** | é»˜è®¤å¯å˜ï¼ˆéœ€æ‰‹åŠ¨åŠ finalï¼‰ | é»˜è®¤ä¸å¯å˜ï¼ˆçº¿ç¨‹å®‰å…¨ï¼‰ |
| **é€‚ç”¨åœºæ™¯** | æœ‰å¤æ‚ä¸šåŠ¡é€»è¾‘çš„å¯¹è±¡ | çº¯æ•°æ®è½½ä½“ (DTO, Config) |
| **æ„é€ å™¨** | éœ€æ‰‹åŠ¨ç¼–å†™èµ‹å€¼é€»è¾‘ | è‡ªåŠ¨ç”Ÿæˆï¼Œæ”¯æŒç´§å‡‘å†™æ³• |

---

## ç¬¬3éƒ¨åˆ†ï¼šé¿å‘è¿›é˜¶ï¼ˆWhat to Avoid & Beyondï¼‰

### ğŸ” å‰ç½®çŸ¥è¯†æ£€æŸ¥

```
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ“š å‰ç½®çŸ¥è¯†å›é¡¾
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
æœ¬é˜¶æ®µä¼šç”¨åˆ°ä»¥ä¸‹æ¦‚å¿µï¼š
Â· this å…³é”®å­—ï¼ˆåœ¨1.2èŠ‚å­¦è¿‡ï¼‰
Â· æ–¹æ³•è°ƒç”¨é“¾ï¼ˆåœ¨1.2èŠ‚å­¦è¿‡ï¼‰
Â· å†…éƒ¨ç±»ï¼ˆæœ¬èŠ‚ä¼šç®€è¦è¯´æ˜ï¼‰

å¦‚æœä¸è®°å¾—äº†ï¼Œå»ºè®®å…ˆå›é¡¾ç›¸å…³ç« èŠ‚ã€‚
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

```

---

### âš ï¸ 3.1 å¸¸è§é™·é˜±åˆé›† *ğŸ”¥ å®æˆ˜å¿…å¤‡*

#### é™·é˜± 1ï¼šå‚æ•°é®è”½ï¼ˆParameter Shadowingï¼‰

**æŠ¥é”™ç‰¹å¾**ï¼š

* **ä¸æŠ¥é”™ï¼** è¿™æ˜¯æœ€å¯æ€•çš„é€»è¾‘é”™è¯¯ã€‚
* è¡¨ç°ä¸ºï¼šæ˜æ˜ä¼ äº†å‚æ•°ï¼Œå¯¹è±¡é‡Œçš„å±æ€§å´å…¨æ˜¯ `null` æˆ– `0`ã€‚

**é”™è¯¯ä»£ç **ï¼š

```java
public class User {
    private String name;

    public User(String name) {
        // âŒ é”™è¯¯ç¤ºèŒƒï¼šæ²¡æœ‰åŠ  this.
        // ç¼–è¯‘å™¨ç†è§£ä¸ºï¼šæŠŠå‚æ•° name èµ‹å€¼ç»™å‚æ•° nameï¼ˆè‡ªå·±ç»™è‡ªå·±èµ‹å€¼ï¼‰
        // æˆå‘˜å˜é‡ name æ ¹æœ¬æ²¡åŠ¨è¿‡ï¼
        name = name; 
    }
}

```

**é€è¡Œåˆ†æ**ï¼š

* Java çš„å˜é‡ä½œç”¨åŸŸéµå¾ª"å°±è¿‘åŸåˆ™"ã€‚
* åœ¨æ„é€ å™¨å†…ï¼Œå‚æ•° `name` æ¯”æˆå‘˜å˜é‡ `name` æ›´è¿‘ï¼Œæ‰€ä»¥å¦‚æœä¸åŠ  `this.`ï¼ŒæŒ‡çš„éƒ½æ˜¯å‚æ•°ã€‚

**ä¿®å¤æ–¹æ¡ˆ**ï¼š

```java
// âœ… ä¿®å¤ï¼šä½¿ç”¨ this æ˜ç¡®æŒ‡å®šæˆå‘˜å˜é‡
public User(String name) {
    this.name = name;
}

```

---

#### é™·é˜± 2ï¼šé€’å½’æ„é€ æ­»å¾ªç¯ï¼ˆRecursive Constructor Invocationï¼‰

**æŠ¥é”™ç‰¹å¾**ï¼š

* ç¼–è¯‘æœŸé”™è¯¯ï¼š`Recursive constructor invocation`
* è¿è¡Œæ—¶é”™è¯¯ï¼ˆå¦‚æœç»•è¿‡ç¼–è¯‘å™¨ï¼‰ï¼š`StackOverflowError`

**é”™è¯¯ä»£ç **ï¼š

```java
public class Server {
    // æ— å‚æ„é€ å™¨è°ƒç”¨å¸¦å‚
    public Server() {
        this(8080); 
    }

    // å¸¦å‚æ„é€ å™¨åˆè°ƒå›æ— å‚
    public Server(int port) {
        this(); // âŒ é”™è¯¯ï¼šå½¢æˆé—­ç¯ A -> B -> A
    }
}

```

**ä»€ä¹ˆæƒ…å†µä¸‹ä¼šå‡ºé”™**ï¼š

* è¯•å›¾å¤ç”¨ä»£ç æ—¶ï¼Œé€»è¾‘æåäº†ï¼Œå¯¼è‡´ä¸¤ä¸ªæ„é€ å™¨äº’ç›¸è¸¢çš®çƒã€‚

**åº•å±‚åŸç†**ï¼š

* æ¯æ¬¡è°ƒç”¨æ„é€ å™¨éƒ½ä¼šå‹å…¥ä¸€ä¸ªæ ˆå¸§ï¼ˆStack Frameï¼‰ã€‚
* äº’ç›¸è°ƒç”¨å¯¼è‡´æ ˆå¸§æ— é™å †å ï¼Œç›´åˆ°æŠŠ Stack å†…å­˜æ’‘çˆ†ã€‚

---

### ğŸš€ 3.2 é«˜çº§æ¨¡å¼ï¼šBuilder æ¨¡å¼ *â­ è¿›é˜¶é€‰å­¦*

**ç›®æ ‡**ï¼šè§£å†³"å‚æ•°è¿‡å¤š"å¯¼è‡´çš„æ„é€ å™¨åœ°ç‹±ã€‚

**é—®é¢˜åœºæ™¯**ï¼š
å‡è®¾ä¸€ä¸ª `Pizza` ç±»ï¼Œæœ‰ 10 ä¸ªå¯é€‰é¡¹ï¼ˆå¥¶é…ªã€ç«è…¿ã€è èã€å°ºå¯¸ã€é¥¼åº•...ï¼‰ã€‚

* **ä¼ ç»Ÿåšæ³•**ï¼šå†™ä¸€ä¸ªåŒ…å« 10 ä¸ªå‚æ•°çš„æ„é€ å™¨ï¼Ÿ
* è°ƒç”¨æ—¶ï¼š`new Pizza(true, false, true, 12, "Thin", ...)`
* **ç—›ç‚¹**ï¼šè¿™æ˜¯ä»€ä¹ˆï¼Ÿé‚£ä¸€å † `true/false` åˆ°åº•ä»£è¡¨ä»€ä¹ˆï¼Ÿä¸€æ—¦ä¼ é”™ä½ï¼Œç¼–è¯‘å™¨æ ¹æœ¬æŸ¥ä¸å‡ºæ¥ã€‚



**æ¨¡å¼å®ç°ï¼ˆBuilder Patternï¼‰**ï¼š
ä¸ç›´æ¥ `new` å¯¹è±¡ï¼Œè€Œæ˜¯æ‰¾ä¸€ä¸ª"æ„å»ºè€…"ä¸€æ­¥æ­¥ç»„è£…ã€‚

```java
public class Pizza {
    private final int size;
    private final boolean cheese;
    private final boolean pepperoni;

    // 1. æ„é€ å™¨ç§æœ‰åŒ– (private)ï¼šç¦æ­¢å¤–éƒ¨ç›´æ¥ new
    private Pizza(Builder builder) {
        this.size = builder.size;
        this.cheese = builder.cheese;
        this.pepperoni = builder.pepperoni;
    }

    // 2. é™æ€å†…éƒ¨ç±»ï¼šæ„å»ºè€…
    public static class Builder {
        // å¿…é€‰å‚æ•°
        private final int size;
        // å¯é€‰å‚æ•°ï¼ˆè®¾é»˜è®¤å€¼ï¼‰
        private boolean cheese = false;
        private boolean pepperoni = false;

        public Builder(int size) {
            this.size = size;
        }

        // é“¾å¼è°ƒç”¨æ–¹æ³•ï¼šè¿”å› Builder è‡ªå·±
        public Builder addCheese() {
            this.cheese = true;
            return this; // ğŸ‘ˆ å…³é”®ï¼šè¿”å› this å®ç°é“¾å¼è°ƒç”¨
        }

        public Builder addPepperoni() {
            this.pepperoni = true;
            return this;
        }

        // æœ€ç»ˆæ„å»ºæ–¹æ³•
        public Pizza build() {
            return new Pizza(this);
        }
    }
}

```

**ä½¿ç”¨å†³ç­–**ï¼š

```java
// âœ… åƒè¯´è¯ä¸€æ ·å†™ä»£ç ï¼šæ¸…æ™°æ˜“è¯»
Pizza p = new Pizza.Builder(12)
            .addCheese()
            .addPepperoni()
            .build();

```

**æ”¶ç›Šåˆ†æ**ï¼š

| ç»´åº¦ | ä¼ ç»Ÿé•¿å‚æ•°æ„é€ å™¨ | Builder æ¨¡å¼ |
| --- | --- | --- |
| **å¯è¯»æ€§** | å·® (ç›²çŒœå‚æ•°å«ä¹‰) | ä¼˜ (æ–¹æ³•åå³æ³¨é‡Š) |
| **å‚æ•°é¡ºåº** | å¿…é¡»æ­»è®°ç¡¬èƒŒ | æ— æ‰€è°“é¡ºåº |
| **ä¸å¯å˜æ€§** | æ”¯æŒ | æ”¯æŒ (æ„å»ºå‡ºçš„å¯¹è±¡æ˜¯ final çš„) |
| **ä»£ç é‡** | å°‘ | å¤š (éœ€è¦å†™å†…éƒ¨ç±») |

---

### ğŸ“ 3.3 å®æˆ˜æŒ‘æˆ˜

**åœºæ™¯**ï¼š
ä½ éœ€è¦ç»´æŠ¤ä¸€ä¸ªè€æ—§çš„ `DatabaseConfig` ç±»ã€‚ç›®å‰çš„å†™æ³•éå¸¸ä¸å®‰å…¨ï¼Œä»»ä½•äººéƒ½å¯ä»¥éšä¾¿ä¿®æ”¹é…ç½®ï¼Œä¸”æ²¡æœ‰æ ¡éªŒã€‚

**è¦æ±‚**ï¼š

1. å°†ç±»æ”¹é€ ä¸º**ä¸å¯å˜å¯¹è±¡**ï¼ˆå­—æ®µä¸èƒ½è¢«å¤–éƒ¨ä¿®æ”¹ï¼‰ã€‚
2. ç¡®ä¿ `port` ç«¯å£å·å¿…é¡»åœ¨ 0-65535 ä¹‹é—´ã€‚
3. ç¡®ä¿ `host` ä¸ä¸ºç©ºã€‚
4. æä¾›ä¸€ä¸ª**é™æ€å·¥å‚æ–¹æ³•** `create(host, port)` æ¥æ›¿ä»£æ„é€ å™¨ï¼ˆè¿™æ˜¯å¦ä¸€ç§ç®€åŒ–æ„é€ çš„å¸¸ç”¨æ¨¡å¼ï¼‰ã€‚

**è¯·ä¿®å¤ä»¥ä¸‹ä»£ç **ï¼š

```java
/**
 * âŒ å¾…ä¿®å¤ä»£ç 
 */
public class DatabaseConfig {
    public String host; // å…¬æœ‰ï¼Œä¸å®‰å…¨
    public int port;

    // é»˜è®¤æ„é€ å™¨ï¼Œä»€ä¹ˆéƒ½æ²¡æ£€æŸ¥
    public DatabaseConfig() {}
}

```

[ä»£ç è§Constructor02.java](ä»£ç /Constructor02.java)

**è®¾è®¡é€»è¾‘ï¼š** æ„é€ å™¨åªè´Ÿè´£æ ¡éªŒæ•°æ®å’Œèµ‹å€¼æ“ä½œï¼Œç”±äºæ•°æ®å¯èƒ½éœ€è¦å¤„ç†ï¼Œæ‰€ä»¥è¦ç”¨createä»£æ›¿æ„é€ å™¨ã€‚ä½†æ˜¯ä¸ºäº†ä¿è¯æ„é€ å™¨æœ¬èº«å’Œcreateçš„å…¥å£ä¸åŒå¯¼è‡´åˆ›å»ºå¯¹è±¡æ—¶æœ‰æ­§ä¹‰ï¼Œæ‰€ä»¥ç§æœ‰åŒ–æ„é€ å™¨ã€‚é‚£ä¹ˆcreateæ–¹æ³•ä¹Ÿå°±å¿…é¡»æ˜¯é™æ€æ–¹æ³•ã€‚[ç»†è‡´è¯´æ˜è§Constructor02çš„æ„é€ å™¨ä¸ºä»€ä¹ˆå¿…é¡»ç§æœ‰](ä»£ç /Constructor02ä¸­çš„æ„é€ å™¨å¿…é¡»ç§æœ‰.md)