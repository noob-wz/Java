å¤šæ€åœ¨ Java ä»£ç ä¸­ä¸ä»…ä»…æ˜¯ä¸€ä¸ªæ¦‚å¿µï¼Œå®ƒåœ¨å®é™…å·¥ç¨‹ä¸­ä¸»è¦é€šè¿‡ **3 ç§å…·ä½“å½¢å¼** æ¥ä½“ç°ã€‚

æˆ‘ä»¬ç”¨ `Employee` (çˆ¶ç±»)ã€`Manager` (å­ç±»)ã€`Worker` (å­ç±») çš„ä¾‹å­ã€‚

---

### 1. ä½“ç°ä¸€ï¼šå¤šæ€å‚æ•° (Polymorphic Parameters) â€”â€” ğŸ”¥ æœ€å¸¸ç”¨

**å®šä¹‰**ï¼šæ–¹æ³•çš„å½¢å‚å®šä¹‰ä¸º**çˆ¶ç±»ç±»å‹**ï¼Œå®å‚å¯ä»¥ä¼ å…¥**ä»»æ„å­ç±»å¯¹è±¡**ã€‚

**åœºæ™¯**ï¼š
ä¸ç®¡ä»¥åå¢åŠ å¤šå°‘ç§å‘˜å·¥ï¼Œå…¬å¸å‘å·¥èµ„çš„æ–¹æ³• `paySalary` **ä¸€è¡Œä»£ç éƒ½ä¸ç”¨æ”¹**ã€‚

**ä»£ç æ¼”ç¤º**ï¼š

```java
public class Company {
    // è¿™é‡Œçš„å‚æ•°æ˜¯ Employee (çˆ¶ç±»)
    // å®ƒå¯ä»¥æ¥æ”¶ Managerï¼Œä¹Ÿå¯ä»¥æ¥æ”¶ Worker
    public void paySalary(Employee e) {
        // åŠ¨æ€ç»‘å®šæœºåˆ¶ç”Ÿæ•ˆï¼š
        // å¦‚æœä¼ è¿›æ¥çš„æ˜¯ Managerï¼Œè°ƒç”¨çš„å°±æ˜¯ Manager çš„ totalSalary()
        // å¦‚æœä¼ è¿›æ¥çš„æ˜¯ Workerï¼Œè°ƒç”¨çš„å°±æ˜¯ Worker çš„ totalSalary()
        System.out.println("åº”å‘å·¥èµ„ï¼š" + e.totalSalary());
    }
}

// è°ƒç”¨å¤„
Company company = new Company();
company.paySalary(new Manager(...)); // ä¼ å…¥å­ç±»å¯¹è±¡1
company.paySalary(new Worker(...));  // ä¼ å…¥å­ç±»å¯¹è±¡2

```

---

**æ²¡æœ‰å¤šæ€ä¼šæ€æ ·ï¼Ÿ**
ä½ éœ€è¦å†™ `paySalary(Manager m)` å’Œ `paySalary(Worker w)` ä¸¤ä¸ªæ–¹æ³•ã€‚å¦‚æœæœ‰ 100 ç§å‘˜å·¥ï¼Œä½ å°±å¾—å†™ 100 ä¸ªæ–¹æ³•ï¼Œè¿™å«ä»£ç çˆ†ç‚¸ã€‚

---

### 2. ä½“ç°äºŒï¼šå¤šæ€æ•°ç»„ (Polymorphic Arrays) â€”â€” ğŸ“¦ ç»Ÿä¸€ç®¡ç†

**å®šä¹‰**ï¼šæ•°ç»„çš„å®šä¹‰ç±»å‹ä¸º**çˆ¶ç±»ç±»å‹**ï¼Œé‡Œé¢å®é™…ä¿å­˜çš„æ˜¯**å„ç§å­ç±»å¯¹è±¡**ã€‚

**åœºæ™¯**ï¼š
å…¬å¸å¼€å¹´ä¼šï¼Œè¦æŠŠæ‰€æœ‰å‘˜å·¥æ”¾åœ¨ä¸€ä¸ªåå•é‡Œã€‚å°½ç®¡ç»ç†å’Œå·¥äººæ˜¯ä¸åŒç±»å‹ï¼Œä½†ä»–ä»¬éƒ½æ˜¯ `Employee`ã€‚

**ä»£ç æ¼”ç¤º**ï¼š

```java
public class Party {
    public static void main(String[] args) {
        // å®šä¹‰ä¸€ä¸ªèƒ½è£… 3 ä¸ªäººçš„å¤§ç®±å­ï¼Œæ ‡ç­¾è´´çš„æ˜¯ "Employee"
        Employee[] employees = new Employee[3];

        // å¾€é‡Œè£…ä¸åŒç±»å‹çš„äºº
        employees[0] = new Manager("ç»ç†è€ç‹", ...);
        employees[1] = new Worker("å·¥äººå°æ", ...);
        employees[2] = new Worker("å·¥äººå°å¼ ", ...);

        // éå†ï¼šç»Ÿä¸€ç®¡ç†
        for (int i = 0; i < employees.length; i++) {
            // æ­¤æ—¶ employees[i] çœ‹èµ·æ¥æ˜¯ Employee
            // ä½†è¿è¡Œèµ·æ¥æ˜¯å„è‡ªåŸæœ¬çš„æ ·å­
            employees[i].printSalary(); 
        }
    }
}

```

---

### 3. ä½“ç°ä¸‰ï¼šå¤šæ€è¿”å›å€¼ (Polymorphic Return Types) â€”â€” ğŸ­ çµæ´»ç”Ÿäº§

**å®šä¹‰**ï¼šæ–¹æ³•çš„è¿”å›å€¼ç±»å‹æ˜¯**çˆ¶ç±»ç±»å‹**ï¼Œå®é™…è¿”å›çš„æ˜¯**å­ç±»å¯¹è±¡**ã€‚

**åœºæ™¯**ï¼š
æ¯”å¦‚ç®€å•çš„å·¥å‚æ¨¡å¼ã€‚ä½ å»â€œå‘˜å·¥ä¸­ä»‹æ‰€â€æ‹›äººï¼Œä½ åªè¦å–Šä¸€å£°â€œæˆ‘è¦ä¸ªå¹²æ´»çš„â€ï¼Œä¸­ä»‹å¯èƒ½ç»™ä½ ä¸ª `Worker`ï¼Œä¹Ÿå¯èƒ½ç»™ä½ ä¸ª `Manager`ã€‚

**ä»£ç æ¼”ç¤º**ï¼š

```java
public class Agency {
    // è¿”å›ç±»å‹æ˜¯ Employee
    public Employee recruit(String type) {
        if ("é«˜ç®¡".equals(type)) {
            return new Manager(...); // è¿”å›å­ç±»
        } else if ("è‹¦åŠ›".equals(type)) {
            return new Worker(...);  // è¿”å›å­ç±»
        }
        return null;
    }
}

```

---

### ğŸ’¡ è¡¥å……ï¼šå¤šæ€çš„å±€é™ä¸è§£å†³ï¼ˆå‘ä¸‹è½¬å‹ï¼‰

å¤šæ€æœ‰ä¸€ä¸ª**å‰¯ä½œç”¨**ï¼š
å½“çˆ¶ç±»å¼•ç”¨æŒ‡å‘å­ç±»å¯¹è±¡æ—¶ï¼Œ**ä½ çœ‹ä¸åˆ°å­ç±»ç‰¹æœ‰çš„åŠŸèƒ½**ã€‚

* `Employee e = new Manager();`
* `e` åªèƒ½è°ƒç”¨ `Employee` é‡Œæœ‰çš„æ–¹æ³•ï¼ˆå¦‚ `printSalary`ï¼‰ã€‚
* å‡è®¾ `Manager` æœ‰ä¸€ä¸ªç‰¹æœ‰æ–¹æ³• `manageTeam()`ï¼Œ`e.manageTeam()` **ä¼šç¼–è¯‘æŠ¥é”™**ã€‚

**è§£å†³åŠæ³•ï¼šå‘ä¸‹è½¬å‹ (Downcasting)**
å¦‚æœä½ ç¡®å®šè¿™ä¸ªå‘˜å·¥çœŸçš„æ˜¯ç»ç†ï¼Œä½ å¯ä»¥æŠŠä»–å¼ºè½¬å›ç»ç†ï¼Œä»è€Œä½¿ç”¨ç‰¹æœ‰åŠŸèƒ½ã€‚

```java
Employee e = new Manager(...);
e.printSalary(); // âœ… é€šç”¨åŠŸèƒ½ï¼Œç›´æ¥è°ƒ

// e.manageTeam(); // âŒ ç¼–è¯‘æŠ¥é”™ï¼ŒEmployee çœ‹ä¸åˆ°è¿™ä¸ªæ–¹æ³•

// è§£å†³æ–¹æ¡ˆï¼šinstanceof åˆ¤æ–­ + å¼ºè½¬
if (e instanceof Manager) {
    Manager m = (Manager) e; // è¿˜åŸçœŸèº«
    m.manageTeam(); // âœ… ç°åœ¨å¯ä»¥è°ƒç”¨ç‰¹æœ‰æ–¹æ³•äº†
}

```

### æ€»ç»“

å¤šæ€çš„å…·ä½“ä½“ç°å°±è¿™ä¸‰æ¿æ–§ï¼š

1. **å‚æ•°å¤šæ€**ï¼šå†™ä¸€ä¸ªæ–¹æ³•ï¼Œå¤„ç†æ‰€æœ‰å­ç±»ã€‚ï¼ˆæœ€å¼ºå¤§å¤šï¼‰
2. **æ•°ç»„å¤šæ€**ï¼šé€ ä¸€ä¸ªå®¹å™¨ï¼Œè£…ä¸‹æ‰€æœ‰å­ç±»ã€‚
3. **è¿”å›å€¼å¤šæ€**ï¼šå®šä¹‰ä¸€ä¸ªæ ‡å‡†ï¼Œè¿”å›å„ç§å­ç±»ã€‚