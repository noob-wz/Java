<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JVMÊñπÊ≥ïË∞ÉÁî®ÂÖ®ËøáÁ®ã - JavaÂàùÂ≠¶ËÄÖÂèãÂ•ΩÁâà</title>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600&family=Noto+Sans+SC:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #6366f1;
            --primary-light: #818cf8;
            --primary-dark: #4f46e5;
            --secondary: #10b981;
            --accent: #f59e0b;
            --danger: #ef4444;
            --compile: #8b5cf6;
            --classload: #06b6d4;
            --runtime: #ec4899;
            --bg-dark: #1e1e2e;
            --bg-card: #ffffff;
            --text-primary: #1f2937;
            --text-secondary: #6b7280;
            --border: #e5e7eb;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans SC', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            min-height: 100vh;
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.98);
            border-radius: 24px;
            padding: 32px;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        }

        /* ===== Â§¥ÈÉ®Âå∫Âüü ===== */
        .header {
            text-align: center;
            margin-bottom: 24px;
            padding-bottom: 24px;
            border-bottom: 2px solid var(--border);
        }

        .header h1 {
            font-size: 2.2em;
            font-weight: 700;
            background: linear-gradient(135deg, var(--primary), var(--runtime));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 12px;
        }

        .header-subtitle {
            color: var(--text-secondary);
            font-size: 1.1em;
        }

        .code-example {
            display: inline-block;
            background: var(--bg-dark);
            color: #f8f8f2;
            padding: 8px 16px;
            border-radius: 8px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.95em;
            margin-top: 12px;
        }

        .code-example .type { color: #66d9ef; }
        .code-example .keyword { color: #ff79c6; }
        .code-example .method { color: #50fa7b; }
        .code-example .number { color: #bd93f9; }

        /* ===== Â≠¶‰π†ÁõÆÊ†áÂç°Áâá ===== */
        .learning-goals {
            background: linear-gradient(135deg, #fef3c7, #fde68a);
            border: 2px solid #f59e0b;
            border-radius: 16px;
            padding: 20px 24px;
            margin-bottom: 24px;
        }

        .learning-goals h3 {
            color: #92400e;
            font-size: 1.1em;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .goals-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 12px;
        }

        .goal-item {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            background: rgba(255,255,255,0.7);
            padding: 12px;
            border-radius: 8px;
        }

        .goal-icon {
            width: 24px;
            height: 24px;
            background: #f59e0b;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8em;
            flex-shrink: 0;
        }

        .goal-text {
            color: #78350f;
            font-size: 0.95em;
        }

        /* ===== Êó∂Èó¥Á∫ø ===== */
        .timeline-section {
            margin: 24px 0;
        }

        .timeline {
            display: flex;
            justify-content: space-between;
            position: relative;
            padding: 0 60px;
        }

        .timeline::before {
            content: '';
            position: absolute;
            top: 28px;
            left: 60px;
            right: 60px;
            height: 6px;
            background: #e5e7eb;
            border-radius: 3px;
        }

        .timeline-progress {
            position: absolute;
            top: 28px;
            left: 60px;
            height: 6px;
            background: linear-gradient(90deg, var(--compile), var(--classload), var(--runtime));
            border-radius: 3px;
            transition: width 0.5s ease;
            width: 0%;
        }

        .timeline-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            z-index: 2;
            flex: 1;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .timeline-item:hover {
            transform: translateY(-3px);
        }

        .timeline-dot {
            width: 56px;
            height: 56px;
            border-radius: 50%;
            background: #e5e7eb;
            border: 4px solid white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.2em;
            color: white;
            transition: all 0.4s ease;
            box-shadow: var(--shadow);
        }

        .timeline-item[data-stage="0"] .timeline-dot.active { background: var(--compile); }
        .timeline-item[data-stage="1"] .timeline-dot.active { background: var(--classload); }
        .timeline-item[data-stage="2"] .timeline-dot.active { background: var(--runtime); }

        .timeline-dot.completed {
            background: var(--secondary) !important;
        }

        .timeline-dot.active {
            transform: scale(1.15);
            box-shadow: 0 0 0 8px rgba(99, 102, 241, 0.2);
        }

        .timeline-label {
            margin-top: 16px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .timeline-label-main {
            font-weight: 700;
            font-size: 1em;
            color: var(--text-secondary);
        }

        .timeline-label-sub {
            font-size: 0.85em;
            color: #9ca3af;
            margin-top: 4px;
        }

        .timeline-item.active .timeline-label-main {
            color: var(--primary);
        }

        /* ===== ËøõÂ∫¶ÊåáÁ§∫Âô® ===== */
        .progress-indicator {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 16px;
            margin: 20px 0;
            padding: 16px;
            background: #f9fafb;
            border-radius: 12px;
        }

        .step-counter {
            font-size: 1.1em;
            font-weight: 600;
            color: var(--text-primary);
        }

        .step-counter span {
            color: var(--primary);
            font-size: 1.3em;
        }

        .progress-bar {
            flex: 1;
            max-width: 400px;
            height: 8px;
            background: #e5e7eb;
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-bar-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--compile), var(--classload), var(--runtime));
            border-radius: 4px;
            transition: width 0.4s ease;
        }

        /* ===== ÊéßÂà∂ÊåâÈíÆ ===== */
        .controls {
            display: flex;
            gap: 12px;
            justify-content: center;
            flex-wrap: wrap;
            margin: 20px 0;
        }

        .btn {
            padding: 12px 24px;
            font-size: 0.95em;
            font-weight: 600;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            font-family: inherit;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            box-shadow: 0 4px 14px rgba(99, 102, 241, 0.4);
        }

        .btn-primary:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(99, 102, 241, 0.5);
        }

        .btn-primary:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .btn-secondary {
            background: #f3f4f6;
            color: var(--text-primary);
            border: 2px solid #e5e7eb;
        }

        .btn-secondary:hover:not(:disabled) {
            background: #e5e7eb;
            transform: translateY(-2px);
        }

        .btn-secondary:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .btn-icon {
            font-size: 1.1em;
        }

        .keyboard-hint {
            font-size: 0.75em;
            background: rgba(0,0,0,0.1);
            padding: 2px 6px;
            border-radius: 4px;
            margin-left: 4px;
        }

        /* ===== ‰∏ªÂÜÖÂÆπÂå∫ ===== */
        .stage-content {
            min-height: 600px;
            position: relative;
            margin-top: 24px;
        }

        .stage-panel {
            display: none;
            animation: slideIn 0.5s ease-out;
        }

        .stage-panel.active {
            display: block;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        /* ===== Èò∂ÊÆµÈõ∂ÔºöÂâçÁΩÆÁü•ËØÜ ===== */
        .intro-stage {
            max-width: 900px;
            margin: 0 auto;
        }

        .concept-card {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 20px;
            box-shadow: var(--shadow);
            border-left: 5px solid var(--primary);
        }

        .concept-card h3 {
            color: var(--primary);
            font-size: 1.3em;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .concept-content {
            color: var(--text-primary);
            line-height: 1.8;
        }

        .analogy-box {
            background: linear-gradient(135deg, #ecfdf5, #d1fae5);
            border: 2px solid #10b981;
            border-radius: 12px;
            padding: 16px 20px;
            margin: 16px 0;
        }

        .analogy-box h4 {
            color: #065f46;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .analogy-box p {
            color: #047857;
        }

        .key-terms {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 12px;
            margin-top: 16px;
        }

        .term-badge {
            background: #f3f4f6;
            padding: 12px 16px;
            border-radius: 8px;
            cursor: help;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .term-badge:hover {
            border-color: var(--primary);
            background: #eef2ff;
        }

        .term-badge strong {
            color: var(--primary);
            display: block;
            margin-bottom: 4px;
        }

        .term-badge span {
            font-size: 0.9em;
            color: var(--text-secondary);
        }

        /* ===== Èò∂ÊÆµ‰∏ÄÔºöÁºñËØëÊúü ===== */
        .compile-stage {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 24px;
        }

        .panel {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 24px;
            box-shadow: var(--shadow);
        }

        .panel-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 20px;
            padding-bottom: 16px;
            border-bottom: 3px solid;
        }

        .panel-header.compile { border-color: var(--compile); }
        .panel-header.classload { border-color: var(--classload); }
        .panel-header.runtime { border-color: var(--runtime); }

        .panel-icon {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.3em;
        }

        .panel-icon.compile { background: rgba(139, 92, 246, 0.15); }
        .panel-icon.classload { background: rgba(6, 182, 212, 0.15); }
        .panel-icon.runtime { background: rgba(236, 72, 153, 0.15); }

        .panel-title {
            font-size: 1.3em;
            font-weight: 700;
            color: var(--text-primary);
        }

        /* ‰ª£Á†ÅÊòæÁ§∫ */
        .code-display {
            background: white;
            border-radius: 12px;
            padding: 20px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9em;
            line-height: 1.8;
            overflow-x: auto;
        }

        .code-line {
            padding: 4px 12px;
            margin: 2px 0;
            border-radius: 4px;
            transition: all 0.3s ease;
            white-space: pre;
        }

        .code-line.highlight {
            background: rgba(139, 92, 246, 0.3);
            border-left: 4px solid var(--compile);
            transform: translateX(4px);
        }

        .code-line.focus {
            background: rgba(16, 185, 129, 0.3);
            border-left: 4px solid var(--secondary);
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        .code-line .keyword { color: #ff79c6; }
        .code-line .type { color: #8be9fd; }
        .code-line .method { color: #50fa7b; }
        .code-line .string { color: #f1fa8c; }
        .code-line .comment { color: #6272a4; font-style: italic; }
        .code-line .annotation { color: #ffb86c; }
        .code-line .number { color: #bd93f9; }

        /* ÂàÜÊûêËøáÁ®ã */
        .analysis-section {
            margin-top: 20px;
        }

        .step-box {
            background: #f9fafb;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 16px;
            border: 2px solid #e5e7eb;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.5s ease;
        }

        .step-box.active {
            opacity: 1;
            transform: translateY(0);
        }

        .step-box.highlight {
            border-color: var(--accent);
            background: #fffbeb;
        }

        .step-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
        }

        .step-number {
            width: 32px;
            height: 32px;
            background: var(--compile);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
        }

        .step-title {
            font-weight: 700;
            color: var(--text-primary);
            font-size: 1.05em;
        }

        .step-content {
            padding-left: 44px;
            color: var(--text-secondary);
        }

        .step-content code {
            background: #e5e7eb;
            padding: 2px 8px;
            border-radius: 4px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9em;
            color: var(--danger);
        }

        .step-result {
            margin-top: 12px;
            padding: 12px 16px;
            background: rgba(16, 185, 129, 0.1);
            border-left: 4px solid var(--secondary);
            border-radius: 0 8px 8px 0;
        }

        .step-result strong {
            color: var(--secondary);
        }

        /* Â≠óËäÇÁ†ÅÂ±ïÁ§∫ */
        .bytecode-box {
            background: #1e1e2e;
            border-radius: 12px;
            padding: 20px;
            margin-top: 16px;
            font-family: 'JetBrains Mono', monospace;
        }

        .bytecode-instruction {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            padding: 12px;
            margin: 8px 0;
            background: rgba(255,255,255,0.05);
            border-radius: 8px;
            color: #f8f8f2;
            opacity: 0;
            transform: translateX(-20px);
            transition: all 0.4s ease;
        }

        .bytecode-instruction.active {
            opacity: 1;
            transform: translateX(0);
        }

        .bytecode-instruction.highlight {
            background: rgba(245, 158, 11, 0.2);
            border: 1px solid var(--accent);
        }

        .bytecode-op {
            color: #ff79c6;
            font-weight: 600;
            min-width: 120px;
        }

        .bytecode-arg {
            color: #50fa7b;
        }

        .bytecode-comment {
            color: #6272a4;
            margin-left: auto;
            font-size: 0.9em;
        }

        /* ===== Èò∂ÊÆµ‰∫åÔºöÁ±ªÂä†ËΩΩÊúü ===== */
        .classload-stage {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 24px;
        }

        .class-box {
            background: var(--bg-card);
            border-radius: 16px;
            overflow: hidden;
            box-shadow: var(--shadow);
        }

        .class-header {
            padding: 20px 24px;
            color: white;
            font-weight: 700;
            font-size: 1.2em;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .class-header.father {
            background: linear-gradient(135deg, var(--classload), #0891b2);
        }

        .class-header.son {
            background: linear-gradient(135deg, var(--runtime), #db2777);
        }

        .class-content {
            padding: 24px;
        }

        .class-info {
            background: #f9fafb;
            border-radius: 10px;
            padding: 16px;
            margin-bottom: 20px;
        }

        .class-info-row {
            display: flex;
            padding: 8px 0;
            border-bottom: 1px solid #e5e7eb;
        }

        .class-info-row:last-child {
            border-bottom: none;
        }

        .class-info-label {
            width: 100px;
            color: var(--text-secondary);
            font-size: 0.9em;
        }

        .class-info-value {
            flex: 1;
            color: var(--text-primary);
            font-weight: 500;
        }

        /* vtableÂ±ïÁ§∫ */
        .vtable-section {
            margin-top: 20px;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.5s ease;
        }

        .vtable-section.active {
            opacity: 1;
            transform: translateY(0);
        }

        .vtable-header {
            background: linear-gradient(135deg, #fef3c7, #fde68a);
            padding: 12px 16px;
            border-radius: 10px 10px 0 0;
            font-weight: 700;
            color: #92400e;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .vtable-body {
            background: white;
            border: 2px solid #fde68a;
            border-top: none;
            border-radius: 0 0 10px 10px;
            overflow: hidden;
        }

        .vtable-row {
            display: flex;
            align-items: center;
            padding: 14px 16px;
            border-bottom: 1px solid #f3f4f6;
            opacity: 0;
            transform: translateX(20px);
            transition: all 0.4s ease;
        }

        .vtable-row.active {
            opacity: 1;
            transform: translateX(0);
        }

        .vtable-row:last-child {
            border-bottom: none;
        }

        .vtable-row.highlight {
            background: #fef3c7;
            animation: pulse 1.5s ease-in-out infinite;
        }

        .vtable-index {
            min-width: 80px;
            padding: 6px 12px;
            background: var(--classload);
            color: white;
            border-radius: 6px;
            font-family: 'JetBrains Mono', monospace;
            font-weight: 600;
            font-size: 0.85em;
            text-align: center;
            margin-right: 16px;
        }

        .vtable-method {
            flex: 1;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9em;
        }

        .vtable-method-name {
            color: var(--text-primary);
            font-weight: 600;
        }

        .vtable-method-addr {
            color: var(--text-secondary);
            font-size: 0.85em;
            margin-top: 4px;
        }

        .vtable-badge {
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: 600;
        }

        .vtable-badge.override {
            background: rgba(236, 72, 153, 0.15);
            color: var(--runtime);
        }

        .vtable-badge.inherit {
            background: rgba(107, 114, 128, 0.15);
            color: var(--text-secondary);
        }

        .vtable-note {
            background: linear-gradient(135deg, #fef2f2, #fee2e2);
            border: 2px solid #fca5a5;
            border-radius: 10px;
            padding: 16px;
            margin-top: 20px;
        }

        .vtable-note h4 {
            color: #dc2626;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .vtable-note p {
            color: #991b1b;
            font-size: 0.95em;
            line-height: 1.7;
        }

        /* ===== Èò∂ÊÆµ‰∏âÔºöËøêË°åÊúü ===== */
        .runtime-stage {
            display: grid;
            grid-template-columns: 1fr 1.2fr 1.3fr;
            gap: 20px;
        }

        .memory-panel {
            background: var(--bg-card);
            border-radius: 16px;
            overflow: hidden;
            box-shadow: var(--shadow);
        }

        .memory-header {
            padding: 16px 20px;
            color: white;
            font-weight: 700;
            font-size: 1.1em;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .memory-header.stack { background: linear-gradient(135deg, #ef4444, #dc2626); }
        .memory-header.heap { background: linear-gradient(135deg, #10b981, #059669); }
        .memory-header.method { background: linear-gradient(135deg, #6366f1, #4f46e5); }

        .memory-content {
            padding: 20px;
            min-height: 400px;
        }

        /* Ê†àÂ∏ß */
        .stack-frame {
            background: linear-gradient(135deg, #fef2f2, #fee2e2);
            border: 2px solid #fca5a5;
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 12px;
            opacity: 0;
            transform: translateY(-20px);
            transition: all 0.5s ease;
        }

        .stack-frame.active {
            opacity: 1;
            transform: translateY(0);
        }

        .frame-title {
            font-weight: 700;
            color: #dc2626;
            margin-bottom: 12px;
            padding-bottom: 8px;
            border-bottom: 2px dashed #fca5a5;
        }

        .frame-section {
            margin-top: 12px;
        }

        .frame-section-title {
            font-size: 0.85em;
            color: var(--text-secondary);
            margin-bottom: 8px;
        }

        .var-slot {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 12px;
            background: white;
            border-radius: 6px;
            margin: 6px 0;
            border-left: 3px solid #ef4444;
            opacity: 0;
            transform: translateX(-10px);
            transition: all 0.3s ease;
        }

        .var-slot.active {
            opacity: 1;
            transform: translateX(0);
        }

        .var-slot.highlight {
            background: #fef3c7;
            border-left-color: var(--accent);
        }

        .var-name {
            font-weight: 600;
            color: var(--text-primary);
        }

        .var-type {
            font-size: 0.85em;
            color: var(--text-secondary);
            margin-left: 4px;
        }

        .var-value {
            font-family: 'JetBrains Mono', monospace;
            color: var(--primary);
            font-weight: 600;
        }

        /* Â†ÜÂØπË±° */
        .heap-object {
            background: linear-gradient(135deg, #ecfdf5, #d1fae5);
            border: 3px solid #10b981;
            border-radius: 14px;
            padding: 20px;
            opacity: 0;
            transform: scale(0.9);
            transition: all 0.5s ease;
        }

        .heap-object.active {
            opacity: 1;
            transform: scale(1);
        }

        .heap-object.highlight {
            border-color: var(--accent);
            box-shadow: 0 0 0 4px rgba(245, 158, 11, 0.3);
            animation: glow 1.5s ease-in-out infinite;
        }

        @keyframes glow {
            0%, 100% { box-shadow: 0 0 0 4px rgba(245, 158, 11, 0.3); }
            50% { box-shadow: 0 0 0 8px rgba(245, 158, 11, 0.5); }
        }

        .object-title {
            background: #10b981;
            color: white;
            padding: 10px 16px;
            border-radius: 8px;
            font-weight: 700;
            text-align: center;
            margin-bottom: 16px;
            font-family: 'JetBrains Mono', monospace;
        }

        .object-section {
            margin-top: 16px;
        }

        .object-section-header {
            font-weight: 600;
            color: #065f46;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.95em;
        }

        .object-field {
            display: flex;
            justify-content: space-between;
            padding: 10px 12px;
            background: white;
            border-radius: 6px;
            margin: 6px 0;
            border-left: 3px solid #10b981;
        }

        .object-field.pointer {
            border-left-color: var(--danger);
            background: #fef2f2;
        }

        .object-field.pointer .field-value {
            color: var(--danger);
            font-weight: 700;
        }

        .field-name {
            color: var(--text-primary);
            font-weight: 500;
        }

        .field-value {
            font-family: 'JetBrains Mono', monospace;
            color: var(--text-secondary);
            font-size: 0.9em;
        }

        /* ÊñπÊ≥ïÂå∫ÂÜÖÂÆπ */
        .method-class-info {
            background: linear-gradient(135deg, #eef2ff, #e0e7ff);
            border: 2px solid #6366f1;
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 16px;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.5s ease;
        }

        .method-class-info.active {
            opacity: 1;
            transform: translateY(0);
        }

        .method-class-title {
            background: var(--primary);
            color: white;
            padding: 10px 16px;
            border-radius: 8px;
            font-weight: 700;
            text-align: center;
            margin-bottom: 12px;
        }

        /* Êï∞ÊçÆÊµÅÁÆ≠Â§¥ */
        .data-flow {
            position: relative;
            margin: 20px 0;
            padding: 16px;
            background: linear-gradient(135deg, #fef3c7, #fde68a);
            border-radius: 12px;
            border: 2px solid var(--accent);
        }

        .flow-title {
            font-weight: 700;
            color: #92400e;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .flow-step {
            display: flex;
            align-items: center;
            padding: 10px;
            margin: 8px 0;
            background: white;
            border-radius: 8px;
            opacity: 0;
            transform: translateX(-20px);
            transition: all 0.4s ease;
        }

        .flow-step.active {
            opacity: 1;
            transform: translateX(0);
        }

        .flow-step.current {
            background: #d1fae5;
            border: 2px solid var(--secondary);
        }

        .flow-num {
            width: 28px;
            height: 28px;
            background: var(--accent);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 0.85em;
            margin-right: 12px;
            flex-shrink: 0;
        }

        .flow-arrow {
            color: var(--accent);
            font-size: 1.2em;
            margin: 0 12px;
        }

        /* ===== ËØ¥ÊòéÈù¢Êùø ===== */
        .explanation-panel {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 24px;
            margin-top: 24px;
            box-shadow: var(--shadow);
            border-top: 4px solid var(--accent);
        }

        .explanation-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 16px;
        }

        .explanation-icon {
            width: 44px;
            height: 44px;
            background: linear-gradient(135deg, #fef3c7, #fde68a);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.4em;
        }

        .explanation-title {
            font-size: 1.25em;
            font-weight: 700;
            color: var(--text-primary);
        }

        .explanation-content {
            color: var(--text-primary);
            line-height: 1.9;
        }

        .explanation-content strong {
            color: var(--primary);
        }

        .explanation-content code {
            background: #f3f4f6;
            padding: 2px 8px;
            border-radius: 4px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9em;
            color: var(--danger);
        }

        .tip-box {
            background: linear-gradient(135deg, #ecfdf5, #d1fae5);
            border: 2px solid var(--secondary);
            border-radius: 10px;
            padding: 16px;
            margin: 16px 0;
        }

        .tip-box h4 {
            color: #065f46;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .tip-box p, .tip-box ul {
            color: #047857;
        }

        .warning-box {
            background: linear-gradient(135deg, #fef2f2, #fee2e2);
            border: 2px solid var(--danger);
            border-radius: 10px;
            padding: 16px;
            margin: 16px 0;
        }

        .warning-box h4 {
            color: #dc2626;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .warning-box p {
            color: #991b1b;
        }

        .key-point {
            background: linear-gradient(135deg, #eef2ff, #e0e7ff);
            border: 2px solid var(--primary);
            border-radius: 10px;
            padding: 16px;
            margin: 16px 0;
        }

        .key-point h4 {
            color: var(--primary);
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .key-point p {
            color: #3730a3;
        }

        /* ÂØπÊØîË°®Ê†º */
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 16px 0;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: var(--shadow);
        }

        .comparison-table th {
            background: var(--primary);
            color: white;
            padding: 14px;
            text-align: left;
            font-weight: 600;
        }

        .comparison-table td {
            padding: 12px 14px;
            border-bottom: 1px solid #e5e7eb;
            background: white;
        }

        .comparison-table tr:last-child td {
            border-bottom: none;
        }

        .comparison-table .highlight-cell {
            background: #fef3c7;
            font-weight: 600;
        }

        /* ===== ÊÄªÁªìÂç°Áâá ===== */
        .summary-card {
            background: linear-gradient(135deg, #1e1e2e, #2d2d44);
            border-radius: 16px;
            padding: 28px;
            margin-top: 30px;
            color: white;
        }

        .summary-title {
            font-size: 1.5em;
            font-weight: 700;
            margin-bottom: 20px;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
        }

        .summary-flow {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
            gap: 16px;
            margin: 24px 0;
        }

        .summary-stage {
            background: rgba(255,255,255,0.1);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            min-width: 180px;
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255,255,255,0.2);
        }

        .summary-stage.compile { border-color: var(--compile); }
        .summary-stage.classload { border-color: var(--classload); }
        .summary-stage.runtime { border-color: var(--runtime); }

        .summary-stage-icon {
            font-size: 2em;
            margin-bottom: 10px;
        }

        .summary-stage-title {
            font-weight: 700;
            margin-bottom: 8px;
        }

        .summary-stage-desc {
            font-size: 0.9em;
            color: rgba(255,255,255,0.7);
        }

        .summary-arrow {
            font-size: 1.5em;
            color: rgba(255,255,255,0.5);
        }

        .summary-conclusion {
            background: rgba(16, 185, 129, 0.2);
            border: 2px solid var(--secondary);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            margin-top: 24px;
        }

        .summary-conclusion h4 {
            color: #6ee7b7;
            margin-bottom: 10px;
            font-size: 1.2em;
        }

        .summary-conclusion p {
            color: rgba(255,255,255,0.9);
            line-height: 1.8;
        }

        /* ===== ÊúØËØ≠ÂºπÁ™ó ===== */
        .tooltip {
            position: relative;
            display: inline-block;
            cursor: help;
            border-bottom: 2px dotted var(--primary);
        }

        .tooltip:hover .tooltip-content {
            visibility: visible;
            opacity: 1;
            transform: translateY(0);
        }

        .tooltip-content {
            visibility: hidden;
            opacity: 0;
            transform: translateY(10px);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: var(--bg-dark);
            color: white;
            padding: 12px 16px;
            border-radius: 8px;
            font-size: 0.9em;
            min-width: 250px;
            z-index: 1000;
            box-shadow: var(--shadow-lg);
            transition: all 0.3s ease;
            margin-bottom: 10px;
        }

        .tooltip-content::after {
            content: '';
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            border: 8px solid transparent;
            border-top-color: var(--bg-dark);
        }

        /* ===== ÊµãÈ™åÂå∫Âüü ===== */
        .quiz-section {
            background: linear-gradient(135deg, #fef3c7, #fde68a);
            border: 3px solid var(--accent);
            border-radius: 16px;
            padding: 24px;
            margin-top: 30px;
        }

        .quiz-title {
            font-size: 1.3em;
            font-weight: 700;
            color: #92400e;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .quiz-question {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 16px;
        }

        .quiz-question h4 {
            color: var(--text-primary);
            margin-bottom: 16px;
        }

        .quiz-options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .quiz-option {
            padding: 14px 18px;
            background: #f9fafb;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .quiz-option:hover {
            border-color: var(--primary);
            background: #eef2ff;
        }

        .quiz-option.selected {
            border-color: var(--primary);
            background: #eef2ff;
        }

        .quiz-option.correct {
            border-color: var(--secondary);
            background: #d1fae5;
        }

        .quiz-option.wrong {
            border-color: var(--danger);
            background: #fee2e2;
        }

        .option-marker {
            width: 28px;
            height: 28px;
            border: 2px solid #d1d5db;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            color: var(--text-secondary);
            flex-shrink: 0;
        }

        .quiz-option.selected .option-marker {
            background: var(--primary);
            border-color: var(--primary);
            color: white;
        }

        .quiz-option.correct .option-marker {
            background: var(--secondary);
            border-color: var(--secondary);
            color: white;
        }

        .quiz-option.wrong .option-marker {
            background: var(--danger);
            border-color: var(--danger);
            color: white;
        }

        .quiz-feedback {
            margin-top: 16px;
            padding: 16px;
            border-radius: 10px;
            display: none;
        }

        .quiz-feedback.show {
            display: block;
        }

        .quiz-feedback.correct {
            background: #d1fae5;
            border: 2px solid var(--secondary);
            color: #065f46;
        }

        .quiz-feedback.wrong {
            background: #fee2e2;
            border: 2px solid var(--danger);
            color: #991b1b;
        }

        /* ===== ÂìçÂ∫îÂºè ===== */
        @media (max-width: 1200px) {
            .runtime-stage {
                grid-template-columns: 1fr;
            }

            .compile-stage, .classload-stage {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }

            .header h1 {
                font-size: 1.6em;
            }

            .timeline {
                padding: 0 20px;
            }

            .timeline-dot {
                width: 44px;
                height: 44px;
            }

            .controls {
                flex-direction: column;
            }

            .btn {
                width: 100%;
                justify-content: center;
            }

            .summary-flow {
                flex-direction: column;
            }

            .summary-arrow {
                transform: rotate(90deg);
            }
        }

        /* ===== Â∑•ÂÖ∑Á±ª ===== */
        .text-compile { color: var(--compile); }
        .text-classload { color: var(--classload); }
        .text-runtime { color: var(--runtime); }
        .text-success { color: var(--secondary); }
        .text-warning { color: var(--accent); }
        .text-danger { color: var(--danger); }

        .bg-compile { background: var(--compile); }
        .bg-classload { background: var(--classload); }
        .bg-runtime { background: var(--runtime); }

        .font-mono {
            font-family: 'JetBrains Mono', monospace;
        }

        .hidden { display: none; }
    </style>
</head>
<body>
<div class="container">
    <!-- ===== Â§¥ÈÉ® ===== -->
    <header class="header">
        <h1>üî¨ JVMÊñπÊ≥ïË∞ÉÁî®ÂÖ®ËøáÁ®ãÊºîÁ§∫</h1>
        <p class="header-subtitle">Èù¢ÂêëJavaÂàùÂ≠¶ËÄÖÁöÑÂèØËßÜÂåñÊïôÁ®ã ‚Äî‚Äî ÁêÜËß£Â§öÊÄÅÁöÑÂ∫ïÂ±ÇÂéüÁêÜ</p>
        <div class="code-example">
            <span class="type">Father</span> f = <span class="keyword">new</span> <span class="type">Son</span>();
            f.<span class="method">method</span>(<span class="number">10</span>);
        </div>
    </header>

    <!-- ===== Â≠¶‰π†ÁõÆÊ†á ===== -->
    <div class="learning-goals">
        <h3>üéØ Â≠¶ÂÆåËøô‰∏™ÊºîÁ§∫Ôºå‰Ω†Â∞ÜÁêÜËß£Ôºö</h3>
        <div class="goals-grid">
            <div class="goal-item">
                <div class="goal-icon">1</div>
                <div class="goal-text">‰∏∫‰ªÄ‰πà <code>f.method(10)</code> ‰ºöË∞ÉÁî®<strong>Áà∂Á±ª</strong>ÁöÑÂÆûÁé∞Ôºü</div>
            </div>
            <div class="goal-item">
                <div class="goal-icon">2</div>
                <div class="goal-text"><strong>ÈáçËΩΩ</strong>Âíå<strong>ÈáçÂÜô</strong>ÂàÜÂà´Âú®‰ªÄ‰πàÊó∂ÂÄôËµ∑‰ΩúÁî®Ôºü</div>
            </div>
            <div class="goal-item">
                <div class="goal-icon">3</div>
                <div class="goal-text">JVMÊòØÂ¶Ç‰ΩïÂú®ËøêË°åÊó∂ÊâæÂà∞Ê≠£Á°ÆÁöÑÊñπÊ≥ïÁöÑÔºü</div>
            </div>
            <div class="goal-item">
                <div class="goal-icon">4</div>
                <div class="goal-text"><strong>ËôöÊñπÊ≥ïË°®(vtable)</strong>ÊòØ‰ªÄ‰πàÔºüÂÆÉÂ¶Ç‰ΩïÂÆûÁé∞Â§öÊÄÅÔºü</div>
            </div>
        </div>
    </div>

    <!-- ===== Êó∂Èó¥Á∫ø ===== -->
    <div class="timeline-section">
        <div class="timeline">
            <div class="timeline-progress" id="timelineProgress"></div>
            <div class="timeline-item" data-stage="0">
                <div class="timeline-dot">0</div>
                <div class="timeline-label">
                    <div class="timeline-label-main">ÂâçÁΩÆÁü•ËØÜ</div>
                    <div class="timeline-label-sub">Ê¶ÇÂøµÈì∫Âû´</div>
                </div>
            </div>
            <div class="timeline-item" data-stage="1">
                <div class="timeline-dot">1</div>
                <div class="timeline-label">
                    <div class="timeline-label-main">ÁºñËØëÊúü</div>
                    <div class="timeline-label-sub">ÈùôÊÄÅÂàÜÊ¥æ</div>
                </div>
            </div>
            <div class="timeline-item" data-stage="2">
                <div class="timeline-dot">2</div>
                <div class="timeline-label">
                    <div class="timeline-label-main">Á±ªÂä†ËΩΩÊúü</div>
                    <div class="timeline-label-sub">ÊûÑÂª∫vtable</div>
                </div>
            </div>
            <div class="timeline-item" data-stage="3">
                <div class="timeline-dot">3</div>
                <div class="timeline-label">
                    <div class="timeline-label-main">ËøêË°åÊúü</div>
                    <div class="timeline-label-sub">Âä®ÊÄÅÂàÜÊ¥æ</div>
                </div>
            </div>
        </div>
    </div>

    <!-- ===== ËøõÂ∫¶ÊåáÁ§∫Âô® ===== -->
    <div class="progress-indicator">
        <div class="step-counter">
            Ê≠•È™§ <span id="currentStep">0</span> / <span id="totalSteps">0</span>
        </div>
        <div class="progress-bar">
            <div class="progress-bar-fill" id="progressFill"></div>
        </div>
    </div>

    <!-- ===== ÊéßÂà∂ÊåâÈíÆ ===== -->
    <div class="controls">
        <button class="btn btn-primary" onclick="startAnimation()" id="startBtn">
            <span class="btn-icon">‚ñ∂</span>
            ÂºÄÂßãÂÆåÊï¥ÊºîÁ§∫
            <span class="keyboard-hint">Space</span>
        </button>
        <button class="btn btn-secondary" onclick="prevStep()" id="prevBtn" disabled>
            <span class="btn-icon">‚óÄ</span>
            ‰∏ä‰∏ÄÊ≠•
            <span class="keyboard-hint">‚Üê</span>
        </button>
        <button class="btn btn-secondary" onclick="nextStep()" id="nextBtn">
            <span class="btn-icon">‚ñ∂</span>
            ‰∏ã‰∏ÄÊ≠•
            <span class="keyboard-hint">‚Üí</span>
        </button>
        <button class="btn btn-secondary" onclick="resetAnimation()">
            <span class="btn-icon">‚Ü∫</span>
            ÈáçÁΩÆ
            <span class="keyboard-hint">R</span>
        </button>
        <button class="btn btn-secondary" onclick="toggleSpeed()">
            <span class="btn-icon">‚ö°</span>
            ÈÄüÂ∫¶: <span id="speedText">Ê≠£Â∏∏</span>
        </button>
    </div>

    <!-- ===== ‰∏ªÂÜÖÂÆπÂå∫ ===== -->
    <div class="stage-content">
        <!-- Èò∂ÊÆµÈõ∂ÔºöÂâçÁΩÆÁü•ËØÜ -->
        <div class="stage-panel" id="stage0">
            <div class="intro-stage" id="introContent"></div>
        </div>

        <!-- Èò∂ÊÆµ‰∏ÄÔºöÁºñËØëÊúü -->
        <div class="stage-panel" id="stage1">
            <div class="compile-stage">
                <div class="panel">
                    <div class="panel-header compile">
                        <div class="panel-icon compile">üìù</div>
                        <div class="panel-title">Java Ê∫ê‰ª£Á†Å</div>
                    </div>
                    <div class="code-display" id="sourceCode">
                        <div class="code-line"><span class="comment">// ========== Áà∂Á±ªÂÆö‰πâ ==========</span></div>
                        <div class="code-line"><span class="keyword">class</span> <span class="type">Father</span> {</div>
                        <div class="code-line">    <span class="comment">// ÊñπÊ≥ï‰∏ÄÔºöÊó†ÂèÇÁâàÊú¨</span></div>
                        <div class="code-line">    <span class="keyword">public void</span> <span class="method">method</span>() {</div>
                        <div class="code-line">        System.out.println(<span class="string">"Father.method()"</span>);</div>
                        <div class="code-line">    }</div>
                        <div class="code-line"></div>
                        <div class="code-line">    <span class="comment">// ÊñπÊ≥ï‰∫åÔºöÂ∏¶intÂèÇÊï∞ÁâàÊú¨</span></div>
                        <div class="code-line">    <span class="keyword">public void</span> <span class="method">method</span>(<span class="type">int</span> i) {</div>
                        <div class="code-line">        System.out.println(<span class="string">"Father.method(int): "</span> + i);</div>
                        <div class="code-line">    }</div>
                        <div class="code-line">}</div>
                        <div class="code-line"></div>
                        <div class="code-line"><span class="comment">// ========== Â≠êÁ±ªÂÆö‰πâ ==========</span></div>
                        <div class="code-line"><span class="keyword">class</span> <span class="type">Son</span> <span class="keyword">extends</span> <span class="type">Father</span> {</div>
                        <div class="code-line">    <span class="annotation">@Override</span>  <span class="comment">// Âè™ÈáçÂÜô‰∫ÜÊó†ÂèÇÁâàÊú¨ÔºÅ</span></div>
                        <div class="code-line">    <span class="keyword">public void</span> <span class="method">method</span>() {</div>
                        <div class="code-line">        System.out.println(<span class="string">"Son.method()"</span>);</div>
                        <div class="code-line">    }</div>
                        <div class="code-line">    <span class="comment">// Ê≥®ÊÑèÔºöÊ≤°ÊúâÈáçÂÜô method(int) ÔºÅ</span></div>
                        <div class="code-line">}</div>
                        <div class="code-line"></div>
                        <div class="code-line"><span class="comment">// ========== Ë∞ÉÁî®‰ª£Á†Å ==========</span></div>
                        <div class="code-line" id="codeLine1"><span class="type">Father</span> f = <span class="keyword">new</span> <span class="type">Son</span>();</div>
                        <div class="code-line" id="codeLine2">f.<span class="method">method</span>(<span class="number">10</span>);  <span class="comment">// ‚Üê ÈáçÁÇπÂàÜÊûêËøôË°åÔºÅ</span></div>
                    </div>
                </div>

                <div class="panel">
                    <div class="panel-header compile">
                        <div class="panel-icon compile">‚öôÔ∏è</div>
                        <div class="panel-title">ÁºñËØëÊúüÂàÜÊûêËøáÁ®ã</div>
                    </div>
                    <div class="analysis-section" id="compileAnalysis"></div>
                </div>
            </div>
        </div>

        <!-- Èò∂ÊÆµ‰∫åÔºöÁ±ªÂä†ËΩΩÊúü -->
        <div class="stage-panel" id="stage2">
            <div class="classload-stage">
                <div class="class-box">
                    <div class="class-header father">
                        <span>üì¶</span> Father Á±ªÂä†ËΩΩ
                    </div>
                    <div class="class-content" id="fatherClassContent"></div>
                </div>

                <div class="class-box">
                    <div class="class-header son">
                        <span>üì¶</span> Son Á±ªÂä†ËΩΩ
                    </div>
                    <div class="class-content" id="sonClassContent"></div>
                </div>
            </div>
        </div>

        <!-- Èò∂ÊÆµ‰∏âÔºöËøêË°åÊúü -->
        <div class="stage-panel" id="stage3">
            <div class="runtime-stage">
                <div class="memory-panel">
                    <div class="memory-header stack">
                        <span>üìö</span> JVM Ê†à
                    </div>
                    <div class="memory-content" id="stackContent"></div>
                </div>

                <div class="memory-panel">
                    <div class="memory-header heap">
                        <span>üéØ</span> Â†ÜÂÜÖÂ≠ò
                    </div>
                    <div class="memory-content" id="heapContent"></div>
                </div>

                <div class="memory-panel">
                    <div class="memory-header method">
                        <span>üìñ</span> ÊñπÊ≥ïÂå∫
                    </div>
                    <div class="memory-content" id="methodContent"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- ===== ËØ¥ÊòéÈù¢Êùø ===== -->
    <div class="explanation-panel">
        <div class="explanation-header">
            <div class="explanation-icon">üí°</div>
            <div class="explanation-title" id="explanationTitle">Ê¨¢ËøéÂºÄÂßãÂ≠¶‰π†</div>
        </div>
        <div class="explanation-content" id="explanationContent">
            <p>ÁÇπÂáª<strong>"ÂºÄÂßãÂÆåÊï¥ÊºîÁ§∫"</strong>Êàñ<strong>"‰∏ã‰∏ÄÊ≠•"</strong>ÊåâÈíÆÂºÄÂßãÂ≠¶‰π†„ÄÇ</p>
            <p style="margin-top: 12px;">Êàë‰ª¨Â∞ÜÊåâÁÖß <strong class="text-compile">ÁºñËØëÊúü</strong> ‚Üí <strong class="text-classload">Á±ªÂä†ËΩΩÊúü</strong> ‚Üí <strong class="text-runtime">ËøêË°åÊúü</strong> ÁöÑÈ°∫Â∫èÔºåÂÆåÊï¥Â±ïÁ§∫JVMÊñπÊ≥ïË∞ÉÁî®ÁöÑÂÖ®ËøáÁ®ã„ÄÇ</p>
            <div class="tip-box" style="margin-top: 16px;">
                <h4>‚å®Ô∏è Âø´Êç∑ÈîÆÊèêÁ§∫</h4>
                <p>
                    <code>‚Üí</code> ‰∏ã‰∏ÄÊ≠• &nbsp;|&nbsp;
                    <code>‚Üê</code> ‰∏ä‰∏ÄÊ≠• &nbsp;|&nbsp;
                    <code>Space</code> ÂºÄÂßã/ÊöÇÂÅú &nbsp;|&nbsp;
                    <code>R</code> ÈáçÁΩÆ
                </p>
            </div>
        </div>
    </div>
</div>

<script>
    // ===== ÂÖ®Â±ÄÁä∂ÊÄÅ =====
    let currentStep = 0;
    let currentStage = -1;
    let isPlaying = false;
    let playTimer = null;
    let speed = 1;
    const delays = { 1: 3000, 2: 2000, 3: 1200 };

    // ===== ÊâÄÊúâÊ≠•È™§ÂÆö‰πâ =====
    const steps = [
        // ========== Èò∂ÊÆµÈõ∂ÔºöÂâçÁΩÆÁü•ËØÜ ==========
        {
            stage: 0,
            title: "ÂâçÁΩÆÁü•ËØÜ - ‰∏∫‰ªÄ‰πàË¶ÅÂ≠¶Ëøô‰∏™Ôºü",
            action: () => {
                document.getElementById('introContent').innerHTML = `
                    <div class="concept-card">
                        <h3>ü§î ‰∏Ä‰∏™ËÆ©ÂæàÂ§ö‰∫∫Âõ∞ÊÉëÁöÑÈóÆÈ¢ò</h3>
                        <div class="concept-content">
                            <p>Áúã‰∏ãÈù¢ËøôÊÆµ‰ª£Á†ÅÔºö</p>
                            <div class="code-display" style="margin: 16px 0;">
                                <div class="code-line"><span class="type">Father</span> f = <span class="keyword">new</span> <span class="type">Son</span>();</div>
                                <div class="code-line">f.<span class="method">method</span>(<span class="number">10</span>);  <span class="comment">// ËæìÂá∫‰ªÄ‰πàÔºü</span></div>
                            </div>
                            <p style="margin-top: 16px;"><strong>ÈóÆÈ¢òÔºö</strong>ËøôË°å‰ª£Á†Å‰ºöË∞ÉÁî® Father ËøòÊòØ Son ÁöÑÊñπÊ≥ïÔºü</p>
                            <div class="analogy-box">
                                <h4>üí≠ ‰Ω†ÂèØËÉΩ‰ºöÊÉ≥...</h4>
                                <p>"f ÂÆûÈôÖÊåáÂêëÁöÑÊòØ Son ÂØπË±°ÔºåÊâÄ‰ª•Â∫îËØ•Ë∞ÉÁî® Son ÁöÑÊñπÊ≥ïÂêßÔºü"</p>
                                <p style="margin-top: 8px;"><strong>‰ΩÜÁ≠îÊ°àÂèØËÉΩÂá∫‰πé‰Ω†ÁöÑÊÑèÊñôÔºÅ</strong></p>
                            </div>
                        </div>
                    </div>
                `;
            },
            explanation: `
                <p>ÂæàÂ§öJavaÂàùÂ≠¶ËÄÖÂØπËøô‰∏™ÈóÆÈ¢òÊÑüÂà∞Âõ∞ÊÉë„ÄÇË¶ÅÁêÜËß£ÂÆÉÔºåÊàë‰ª¨ÈúÄË¶ÅÁü•ÈÅìÔºö</p>
                <ul style="margin: 12px 0; padding-left: 24px; line-height: 2;">
                    <li>JVMÊòØ<strong>ÂàÜÈò∂ÊÆµ</strong>Â§ÑÁêÜÊñπÊ≥ïË∞ÉÁî®ÁöÑ</li>
                    <li>ÊØè‰∏™Èò∂ÊÆµË¥üË¥£Ëß£ÂÜ≥<strong>‰∏çÂêåÁöÑÈóÆÈ¢ò</strong></li>
                    <li><strong>ÈáçËΩΩ</strong>Âíå<strong>ÈáçÂÜô</strong>ÂèëÁîüÂú®‰∏çÂêåÈò∂ÊÆµ</li>
                </ul>
                <p>Êé•‰∏ãÊù•ÔºåÊàë‰ª¨ÂÖà‰∫ÜËß£Âá†‰∏™ÈáçË¶ÅÊ¶ÇÂøµ„ÄÇ</p>
            `
        },
        {
            stage: 0,
            title: "ÂâçÁΩÆÁü•ËØÜ - ÈùôÊÄÅÁ±ªÂûã vs ÂÆûÈôÖÁ±ªÂûã",
            action: () => {
                document.getElementById('introContent').innerHTML = `
                    <div class="concept-card">
                        <h3>üìå Ê†∏ÂøÉÊ¶ÇÂøµÔºö‰∏§ÁßçÁ±ªÂûã</h3>
                        <div class="concept-content">
                            <div class="code-display" style="margin: 16px 0;">
                                <div class="code-line"><span class="type">Father</span> f = <span class="keyword">new</span> <span class="type">Son</span>();</div>
                                <div class="code-line"><span class="comment">//  ‚Üë              ‚Üë</span></div>
                                <div class="code-line"><span class="comment">//  ÈùôÊÄÅÁ±ªÂûã      ÂÆûÈôÖÁ±ªÂûã</span></div>
                            </div>

                            <div class="key-terms">
                                <div class="term-badge">
                                    <strong>ÈùôÊÄÅÁ±ªÂûã (Static Type)</strong>
                                    <span>ÂèòÈáèÂ£∞ÊòéÊó∂ÁöÑÁ±ªÂûãÔºåÁºñËØëÊó∂Á°ÆÂÆöÔºåËøôÈáåÊòØ Father</span>
                                </div>
                                <div class="term-badge">
                                    <strong>ÂÆûÈôÖÁ±ªÂûã (Actual Type)</strong>
                                    <span>ÂèòÈáèÂÆûÈôÖÊåáÂêëÁöÑÂØπË±°Á±ªÂûãÔºåËøêË°åÊó∂Á°ÆÂÆöÔºåËøôÈáåÊòØ Son</span>
                                </div>
                            </div>

                            <div class="analogy-box" style="margin-top: 20px;">
                                <h4>üé≠ ÁîüÊ¥ªÁ±ªÊØî</h4>
                                <p>Â∞±ÂÉè‰∏Ä‰∏™‰∫∫ÁöÑ<strong>ËÅå‰Ωç</strong>ÔºàÈùôÊÄÅÁ±ªÂûãÔºâÂíå<strong>ÁúüÂÆûË∫´‰ªΩ</strong>ÔºàÂÆûÈôÖÁ±ªÂûãÔºâÂèØËÉΩ‰∏çÂêå„ÄÇ</p>
                                <p>ÊØîÂ¶ÇÔºö‰∏Ä‰∏™"ÂëòÂ∑•"ÔºàËÅå‰ΩçÔºâÂÆûÈôÖ‰∏äÊòØ"CEOÁöÑÂÑøÂ≠ê"ÔºàÁúüÂÆûË∫´‰ªΩÔºâ„ÄÇ</p>
                                <p style="margin-top: 8px;">ÁºñËØëÂô®Âè™Áúã"ËÅå‰Ωç"ÔºåËøêË°åÊó∂ÊâçÁü•ÈÅì"ÁúüÂÆûË∫´‰ªΩ"ÔºÅ</p>
                            </div>
                        </div>
                    </div>
                `;
            },
            explanation: `
                <div class="key-point">
                    <h4>üîë ÂÖ≥ÈîÆÁêÜËß£</h4>
                    <p><strong>ÁºñËØëÂô®</strong>Âè™ËÉΩÁúãÂà∞ÈùôÊÄÅÁ±ªÂûãÔºàFatherÔºâÔºåÂÆÉÂú®ÁºñËØëÊó∂‰∏çÁü•ÈÅì f Â∞ÜÊù•‰ºöÊåáÂêë‰ªÄ‰πàÂØπË±°„ÄÇ</p>
                    <p style="margin-top: 8px;"><strong>JVM</strong>Âú®ËøêË°åÊó∂ÊâçÁü•ÈÅìÂØπË±°ÁöÑÂÆûÈôÖÁ±ªÂûãÔºàSonÔºâ„ÄÇ</p>
                </div>
                <p style="margin-top: 12px;">Ëøô‰∏™Âå∫Âà´Áõ¥Êé•ÂÜ≥ÂÆö‰∫ÜÔºö</p>
                <ul style="padding-left: 24px; line-height: 2;">
                    <li><strong>ÈáçËΩΩËß£Êûê</strong>ÔºàÈÄâÊã©Âì™‰∏™ÊñπÊ≥ïÁ≠æÂêçÔºâ‚Üí Áúã<strong>ÈùôÊÄÅÁ±ªÂûã</strong></li>
                    <li><strong>Âä®ÊÄÅÂàÜÊ¥æ</strong>ÔºàÊâßË°åÂì™‰∏™ÂÆûÁé∞Ôºâ‚Üí Áúã<strong>ÂÆûÈôÖÁ±ªÂûã</strong></li>
                </ul>
            `
        },
        {
            stage: 0,
            title: "ÂâçÁΩÆÁü•ËØÜ - ÈáçËΩΩ vs ÈáçÂÜô",
            action: () => {
                document.getElementById('introContent').innerHTML = `
                    <div class="concept-card">
                        <h3>‚öñÔ∏è ÈáçËΩΩ(Overload) vs ÈáçÂÜô(Override)</h3>
                        <div class="concept-content">
                            <table class="comparison-table">
                                <tr>
                                    <th style="width: 120px;">ÂØπÊØîÈ°π</th>
                                    <th>ÈáçËΩΩ (Overload)</th>
                                    <th>ÈáçÂÜô (Override)</th>
                                </tr>
                                <tr>
                                    <td><strong>ÂÆö‰πâ</strong></td>
                                    <td>Âêå‰∏Ä‰∏™Á±ª‰∏≠ÔºåÊñπÊ≥ïÂêçÁõ∏Âêå‰ΩÜ<strong>ÂèÇÊï∞‰∏çÂêå</strong></td>
                                    <td>Â≠êÁ±ªÈáçÊñ∞ÂÆûÁé∞Áà∂Á±ªÁöÑ<strong>ÂêåÁ≠æÂêç</strong>ÊñπÊ≥ï</td>
                                </tr>
                                <tr>
                                    <td><strong>ÂèëÁîüÊó∂Êú∫</strong></td>
                                    <td class="highlight-cell">ÁºñËØëÊúü</td>
                                    <td class="highlight-cell">ËøêË°åÊúü</td>
                                </tr>
                                <tr>
                                    <td><strong>‰æùÊçÆ</strong></td>
                                    <td>ÈùôÊÄÅÁ±ªÂûã + ÂèÇÊï∞Á±ªÂûã</td>
                                    <td>ÂØπË±°ÁöÑÂÆûÈôÖÁ±ªÂûã</td>
                                </tr>
                                <tr>
                                    <td><strong>‰æãÂ≠ê</strong></td>
                                    <td>method() Âíå method(int)</td>
                                    <td>Father.method() Âíå Son.method()</td>
                                </tr>
                            </table>

                            <div class="warning-box" style="margin-top: 20px;">
                                <h4>‚ö†Ô∏è Â∏∏ËßÅËØØÂå∫</h4>
                                <p>ÂæàÂ§ö‰∫∫‰ª•‰∏∫Âè™Ë¶ÅÊòØÂ≠êÁ±ªÂØπË±°ÔºåÂ∞±‰ºö‰ºòÂÖàË∞ÉÁî®Â≠êÁ±ªÊñπÊ≥ï‚Äî‚ÄîËøôÊòØ<strong>ÈîôËØØÁöÑ</strong>ÔºÅ</p>
                                <p style="margin-top: 8px;">ÁºñËØëÂô®È¶ñÂÖà‰ºöÊ†πÊçÆ<strong>ÈùôÊÄÅÁ±ªÂûã</strong>Âíå<strong>ÂèÇÊï∞</strong>ÂÜ≥ÂÆöË∞ÉÁî®Âì™‰∏™ÊñπÊ≥ïÔºàÈáçËΩΩËß£ÊûêÔºâÔºåÁÑ∂ÂêéËøêË°åÊó∂ÊâçÊ†πÊçÆ<strong>ÂÆûÈôÖÁ±ªÂûã</strong>ÂÜ≥ÂÆöÊâßË°åÂì™‰∏™ÂÆûÁé∞ÔºàÂ¶ÇÊûúÊúâÈáçÂÜôÁöÑËØùÔºâ„ÄÇ</p>
                            </div>
                        </div>
                    </div>
                `;
            },
            explanation: `
                <p>ËÆ©Êàë‰ª¨Áî®Êàë‰ª¨ÁöÑ‰æãÂ≠êÊù•ÁêÜËß£Ôºö</p>
                <div style="margin: 16px 0; padding: 16px; background: #f9fafb; border-radius: 10px;">
                    <p><code>f.method(10)</code> ÁöÑÂ§ÑÁêÜËøáÁ®ãÔºö</p>
                    <ol style="padding-left: 24px; line-height: 2; margin-top: 8px;">
                        <li><strong>ÁºñËØëÊúüÔºàÈáçËΩΩËß£ÊûêÔºâ</strong>Ôºöf ÁöÑÈùôÊÄÅÁ±ªÂûãÊòØ FatherÔºåÂèÇÊï∞ÊòØ int<br>‚Üí Á°ÆÂÆöË∞ÉÁî® <code>Father.method(int)</code></li>
                        <li><strong>ËøêË°åÊúüÔºàÂä®ÊÄÅÂàÜÊ¥æÔºâ</strong>ÔºöÊ£ÄÊü• Son ÊòØÂê¶ÈáçÂÜô‰∫Ü method(int)<br>‚Üí Ê≤°ÊúâÈáçÂÜôÔºåÊâÄ‰ª•ÊâßË°å Father ÁöÑÂÆûÁé∞</li>
                    </ol>
                </div>
                <p><strong>ËøôÂ∞±ÊòØ‰∏∫‰ªÄ‰πàËæìÂá∫ÊòØ Father.method(int) ËÄå‰∏çÊòØ Son ÁöÑÊñπÊ≥ïÔºÅ</strong></p>
            `
        },
        {
            stage: 0,
            title: "ÂâçÁΩÆÁü•ËØÜ - JVMÊñπÊ≥ïË∞ÉÁî®ÁöÑ‰∏â‰∏™Èò∂ÊÆµ",
            action: () => {
                document.getElementById('introContent').innerHTML = `
                    <div class="concept-card">
                        <h3>üîÑ JVMÊñπÊ≥ïË∞ÉÁî®ÁöÑ‰∏â‰∏™Èò∂ÊÆµ</h3>
                        <div class="concept-content">
                            <div style="display: flex; justify-content: center; align-items: center; flex-wrap: wrap; gap: 20px; margin: 24px 0;">
                                <div style="background: rgba(139, 92, 246, 0.1); border: 3px solid var(--compile); border-radius: 16px; padding: 20px; text-align: center; min-width: 200px;">
                                    <div style="font-size: 2em; margin-bottom: 10px;">‚öôÔ∏è</div>
                                    <div style="font-weight: 700; color: var(--compile); font-size: 1.1em;">ÁºñËØëÊúü</div>
                                    <div style="color: var(--text-secondary); margin-top: 8px; font-size: 0.9em;">
                                        .java ‚Üí .class<br>
                                        Á°ÆÂÆö<strong>ÊñπÊ≥ïÁ≠æÂêç</strong>
                                    </div>
                                </div>
                                <div style="font-size: 1.5em; color: #d1d5db;">‚Üí</div>
                                <div style="background: rgba(6, 182, 212, 0.1); border: 3px solid var(--classload); border-radius: 16px; padding: 20px; text-align: center; min-width: 200px;">
                                    <div style="font-size: 2em; margin-bottom: 10px;">üì¶</div>
                                    <div style="font-weight: 700; color: var(--classload); font-size: 1.1em;">Á±ªÂä†ËΩΩÊúü</div>
                                    <div style="color: var(--text-secondary); margin-top: 8px; font-size: 0.9em;">
                                        Âä†ËΩΩÁ±ªÂà∞ÂÜÖÂ≠ò<br>
                                        ÊûÑÂª∫<strong>ËôöÊñπÊ≥ïË°®</strong>
                                    </div>
                                </div>
                                <div style="font-size: 1.5em; color: #d1d5db;">‚Üí</div>
                                <div style="background: rgba(236, 72, 153, 0.1); border: 3px solid var(--runtime); border-radius: 16px; padding: 20px; text-align: center; min-width: 200px;">
                                    <div style="font-size: 2em; margin-bottom: 10px;">üöÄ</div>
                                    <div style="font-weight: 700; color: var(--runtime); font-size: 1.1em;">ËøêË°åÊúü</div>
                                    <div style="color: var(--text-secondary); margin-top: 8px; font-size: 0.9em;">
                                        ÂÆûÈôÖÊâßË°å<br>
                                        <strong>Âä®ÊÄÅÂàÜÊ¥æ</strong>
                                    </div>
                                </div>
                            </div>

                            <div class="tip-box">
                                <h4>üí° ËÆ∞ÂøÜÂè£ËØÄ</h4>
                                <p><strong>"ÁºñËØëÈÄâÁ≠æÂêçÔºåÂä†ËΩΩÂª∫Ë°®Ê†ºÔºåËøêË°åÁúãÁ±ªÂûã"</strong></p>
                                <p style="margin-top: 8px;">Êé•‰∏ãÊù•Êàë‰ª¨Â∞ÜËØ¶ÁªÜÊºîÁ§∫ÊØè‰∏™Èò∂ÊÆµÁöÑÂ∑•‰ΩúËøáÁ®ãÔºÅ</p>
                            </div>
                        </div>
                    </div>
                `;
            },
            explanation: `
                <p>Áé∞Âú®‰Ω†Â∑≤Áªè‰∫ÜËß£‰∫ÜÂü∫Êú¨Ê¶ÇÂøµÔºåËÆ©Êàë‰ª¨ÂºÄÂßãËØ¶ÁªÜÁöÑÊºîÁ§∫ÔºÅ</p>
                <div class="key-point">
                    <h4>üìã Êé•‰∏ãÊù•ÁöÑÊºîÁ§∫Â∞ÜÂ±ïÁ§∫</h4>
                    <p>
                        <strong>1. ÁºñËØëÊúü</strong>ÔºöÁºñËØëÂô®Â¶Ç‰ΩïÂÜ≥ÂÆöË∞ÉÁî® method(int) ËÄå‰∏çÊòØ method()<br>
                        <strong>2. Á±ªÂä†ËΩΩÊúü</strong>ÔºöJVM Â¶Ç‰ΩïÊûÑÂª∫ËôöÊñπÊ≥ïË°®(vtable)<br>
                        <strong>3. ËøêË°åÊúü</strong>ÔºöJVM Â¶Ç‰ΩïÊâæÂà∞Âπ∂ÊâßË°åÊ≠£Á°ÆÁöÑÊñπÊ≥ï
                    </p>
                </div>
                <p style="margin-top: 12px;">ÁÇπÂáª<strong>"‰∏ã‰∏ÄÊ≠•"</strong>ËøõÂÖ•ÁºñËØëÊúüÈò∂ÊÆµ ‚Üí</p>
            `
        },

        // ========== Èò∂ÊÆµ‰∏ÄÔºöÁºñËØëÊúü ==========
        {
            stage: 1,
            title: "ÁºñËØëÊúü - È´ò‰∫ÆÁõÆÊ†á‰ª£Á†Å",
            action: () => {
                document.getElementById('codeLine2').classList.add('focus');
                document.getElementById('compileAnalysis').innerHTML = `
                    <div class="step-box active">
                        <div class="step-header">
                            <div class="step-number" style="background: var(--compile);">?</div>
                            <div class="step-title">ÁºñËØëÂô®ÁúãÂà∞‰∫Ü‰ªÄ‰πàÔºü</div>
                        </div>
                        <div class="step-content">
                            <p>ÁºñËØëÂô®Ê≠£Âú®ÂàÜÊûêËøôË°å‰ª£Á†ÅÔºö<code>f.method(10)</code></p>
                            <div style="margin-top: 12px; padding: 16px; background: #f3f4f6; border-radius: 8px;">
                                <p><strong>ÁºñËØëÂô®ÊéåÊè°ÁöÑ‰ø°ÊÅØÔºö</strong></p>
                                <ul style="margin-top: 8px; padding-left: 20px;">
                                    <li>ÂèòÈáè <code>f</code> ÁöÑÂ£∞ÊòéÁ±ªÂûãÊòØ <strong>Father</strong></li>
                                    <li>Ë∞ÉÁî®ÁöÑÊñπÊ≥ïÂêçÊòØ <strong>method</strong></li>
                                    <li>‰º†ÂÖ•ÁöÑÂèÇÊï∞ÊòØ <strong>10</strong>ÔºàintÁ±ªÂûãÔºâ</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                `;
            },
            explanation: `
                <p>ÁºñËØëÂô®ÂºÄÂßãÂàÜÊûê <code>f.method(10)</code> ËøôË°å‰ª£Á†Å„ÄÇ</p>
                <div class="warning-box">
                    <h4>‚ö†Ô∏è ÈáçË¶ÅÔºöÁºñËØëÂô®ÁöÑ"ËßÜÈáéÈôêÂà∂"</h4>
                    <p>ÁºñËØëÂô®<strong>Âè™ËÉΩÁúãÂà∞ÈùôÊÄÅÁ±ªÂûã</strong>ÔºÅÂÆÉ‰∏çÁü•ÈÅì f Âú®ËøêË°åÊó∂‰ºöÊåáÂêë‰ªÄ‰πàÂØπË±°„ÄÇ</p>
                    <p style="margin-top: 8px;">ËôΩÁÑ∂Êàë‰ª¨ÂÜô‰∫Ü <code>Father f = new Son()</code>Ôºå‰ΩÜÁºñËØëÂô®Âè™ÂÖ≥ÂøÉÂ∑¶ËæπÁöÑ <code>Father</code>„ÄÇ</p>
                </div>
            `
        },
        {
            stage: 1,
            title: "ÁºñËØëÊúü - Á¨¨‰∏ÄÊ≠•ÔºöÁ°ÆÂÆöÊé•Êî∂ËÄÖÁ±ªÂûã",
            action: () => {
                document.getElementById('codeLine1').classList.add('highlight');
                document.getElementById('compileAnalysis').innerHTML = `
                    <div class="step-box active">
                        <div class="step-header">
                            <div class="step-number" style="background: var(--compile);">1</div>
                            <div class="step-title">Á°ÆÂÆöÊé•Êî∂ËÄÖÁöÑÈùôÊÄÅÁ±ªÂûã</div>
                        </div>
                        <div class="step-content">
                            <p>Êü•ÁúãÂèòÈáè <code>f</code> ÊòØÂ¶Ç‰ΩïÂ£∞ÊòéÁöÑÔºö</p>
                            <div class="code-display" style="margin: 12px 0;">
                                <div class="code-line"><span class="type">Father</span> f = <span class="keyword">new</span> <span class="type">Son</span>();</div>
                                <div class="code-line"><span class="comment">//  ‚Üë ÁºñËØëÂô®Âè™ÁúãËøôÈáåÔºÅ</span></div>
                            </div>
                            <div class="step-result">
                                <strong>‚úì Êé•Êî∂ËÄÖÈùôÊÄÅÁ±ªÂûãÔºöFather</strong>
                            </div>
                        </div>
                    </div>
                `;
            },
            explanation: `
                <p>ÁºñËØëÂô®È¶ñÂÖàÁ°ÆÂÆöÊñπÊ≥ïË∞ÉÁî®ÁöÑ<strong>Êé•Êî∂ËÄÖÁ±ªÂûã</strong>„ÄÇ</p>
                <div class="tip-box">
                    <h4>üí° ‰ªÄ‰πàÊòØÊé•Êî∂ËÄÖÔºü</h4>
                    <p>Âú® <code>f.method(10)</code> ‰∏≠Ôºå<code>f</code> Â∞±ÊòØÊé•Êî∂ËÄÖ‚Äî‚ÄîÂÆÉ"Êé•Êî∂"Ëøô‰∏™ÊñπÊ≥ïË∞ÉÁî®„ÄÇ</p>
                </div>
                <p style="margin-top: 12px;">ÁºñËØëÂô®‰ªéÂ£∞ÊòéËØ≠Âè• <code>Father f = ...</code> ÂæóÁü• f ÁöÑÈùôÊÄÅÁ±ªÂûãÊòØ <strong>Father</strong>„ÄÇ</p>
                <p>Êé•‰∏ãÊù•ÔºåÁºñËØëÂô®Â∞ÜÂú® Father Á±ª‰∏≠Êü•ÊâæÂèØËÉΩË¢´Ë∞ÉÁî®ÁöÑÊñπÊ≥ï„ÄÇ</p>
            `
        },
        {
            stage: 1,
            title: "ÁºñËØëÊúü - Á¨¨‰∫åÊ≠•ÔºöÊü•ÊâæÂÄôÈÄâÊñπÊ≥ï",
            action: () => {
                // È´ò‰∫Æ Father Á±ª‰∏≠ÁöÑ‰∏§‰∏™ÊñπÊ≥ï
                const codeLines = document.querySelectorAll('.code-line');
                codeLines[3].classList.add('highlight'); // method()
                codeLines[8].classList.add('highlight'); // method(int)

                document.getElementById('compileAnalysis').innerHTML += `
                    <div class="step-box active" style="transition-delay: 0.2s;">
                        <div class="step-header">
                            <div class="step-number" style="background: var(--compile);">2</div>
                            <div class="step-title">Âú® Father Á±ª‰∏≠Êü•ÊâæÂÄôÈÄâÊñπÊ≥ï</div>
                        </div>
                        <div class="step-content">
                            <p>Father Á±ª‰∏≠Âêç‰∏∫ <code>method</code> ÁöÑÊñπÊ≥ïÊúâÔºö</p>
                            <div style="display: grid; gap: 12px; margin-top: 12px;">
                                <div style="padding: 14px; background: #f3f4f6; border-radius: 8px; border-left: 4px solid #6366f1;">
                                    <strong style="color: var(--primary);">ÂÄôÈÄâ1Ôºö</strong>
                                    <code>void method()</code> ‚Äî Êó†ÂèÇÊï∞
                                </div>
                                <div style="padding: 14px; background: #f3f4f6; border-radius: 8px; border-left: 4px solid #6366f1;">
                                    <strong style="color: var(--primary);">ÂÄôÈÄâ2Ôºö</strong>
                                    <code>void method(int i)</code> ‚Äî ‰∏Ä‰∏™ int ÂèÇÊï∞
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            },
            explanation: `
                <p>ÁºñËØëÂô®Âú® Father Á±ª‰∏≠ÊâæÂà∞‰∫Ü‰∏§‰∏™ÂêåÂêçÊñπÊ≥ïÔºåËøôÂ∞±ÊòØ<strong>ÊñπÊ≥ïÈáçËΩΩ</strong>„ÄÇ</p>
                <div class="key-point">
                    <h4>üîç ÈáçËΩΩÊñπÊ≥ïÁöÑÁâπÁÇπ</h4>
                    <p>ÊñπÊ≥ïÂêçÁõ∏ÂêåÔºå‰ΩÜÂèÇÊï∞ÂàóË°®‰∏çÂêåÔºàÂèÇÊï∞Á±ªÂûã„ÄÅ‰∏™Êï∞„ÄÅÈ°∫Â∫èÔºâ„ÄÇ</p>
                    <p style="margin-top: 8px;">ÁºñËØëÂô®ÈúÄË¶ÅÊ†πÊçÆ<strong>ÂÆûÈôÖ‰º†ÂÖ•ÁöÑÂèÇÊï∞</strong>Êù•ÂÜ≥ÂÆöË∞ÉÁî®Âì™‰∏Ä‰∏™„ÄÇ</p>
                </div>
            `
        },
        {
            stage: 1,
            title: "ÁºñËØëÊúü - Á¨¨‰∏âÊ≠•ÔºöÂèÇÊï∞ÂåπÈÖç",
            action: () => {
                document.getElementById('compileAnalysis').innerHTML += `
                    <div class="step-box active highlight" style="transition-delay: 0.2s;">
                        <div class="step-header">
                            <div class="step-number" style="background: var(--accent);">3</div>
                            <div class="step-title">ÂèÇÊï∞ÂåπÈÖçÔºàÈáçËΩΩËß£ÊûêÔºâ</div>
                        </div>
                        <div class="step-content">
                            <p>Ë∞ÉÁî®‰º†ÂÖ•ÁöÑÂèÇÊï∞Ôºö<code>10</code>Ôºàint Á±ªÂûãÔºâ</p>
                            <div style="margin-top: 16px;">
                                <div style="display: flex; align-items: center; padding: 14px; background: #fee2e2; border-radius: 8px; margin-bottom: 10px;">
                                    <span style="font-size: 1.3em; margin-right: 12px;">‚ùå</span>
                                    <span><code>method()</code> ‚Äî ÈúÄË¶Å 0 ‰∏™ÂèÇÊï∞ÔºåÂÆûÈôÖ‰º†ÂÖ• 1 ‰∏™</span>
                                </div>
                                <div style="display: flex; align-items: center; padding: 14px; background: #d1fae5; border-radius: 8px;">
                                    <span style="font-size: 1.3em; margin-right: 12px;">‚úÖ</span>
                                    <span><code>method(int)</code> ‚Äî ÈúÄË¶Å 1 ‰∏™ int ÂèÇÊï∞ÔºåÂÆåÁæéÂåπÈÖçÔºÅ</span>
                                </div>
                            </div>
                            <div class="step-result">
                                <strong>‚úì ÈáçËΩΩËß£ÊûêÁªìÊûúÔºöFather.method(int)</strong>
                            </div>
                        </div>
                    </div>
                `;
            },
            explanation: `
                <p>ÁºñËØëÂô®ÈÄöËøá<strong>ÂèÇÊï∞ÂåπÈÖç</strong>Á°ÆÂÆö‰∫ÜÂÖ∑‰ΩìË∞ÉÁî®Âì™‰∏™ÊñπÊ≥ï„ÄÇ</p>
                <div class="tip-box">
                    <h4>üìù ÈáçËΩΩËß£ÊûêËßÑÂàôÔºàÁÆÄÂåñÁâàÔºâ</h4>
                    <p>1. ÂèÇÊï∞‰∏™Êï∞ÂøÖÈ°ªÂåπÈÖç</p>
                    <p>2. ÂèÇÊï∞Á±ªÂûãÂøÖÈ°ªÂÖºÂÆπÔºàÂèØ‰ª•ÊúâËá™Âä®Á±ªÂûãËΩ¨Êç¢Ôºâ</p>
                    <p>3. Â¶ÇÊûúÂ§ö‰∏™ÊñπÊ≥ïÈÉΩÂåπÈÖçÔºåÈÄâÊã©"ÊúÄÁ≤æÁ°Æ"ÁöÑÈÇ£‰∏™</p>
                </div>
                <p style="margin-top: 12px;">Âú®Êàë‰ª¨ÁöÑ‰æãÂ≠ê‰∏≠Ôºå‰º†ÂÖ• int Á±ªÂûãÁöÑ 10ÔºåÂè™Êúâ <code>method(int)</code> ÂåπÈÖç„ÄÇ</p>
            `
        },
        {
            stage: 1,
            title: "ÁºñËØëÊúü - ÁîüÊàêÂ≠óËäÇÁ†ÅÊåá‰ª§",
            action: () => {
                document.getElementById('compileAnalysis').innerHTML += `
                    <div style="margin-top: 24px;">
                        <div style="font-weight: 700; font-size: 1.1em; color: var(--compile); margin-bottom: 16px; display: flex; align-items: center; gap: 8px;">
                            <span>üìÑ</span> ÁîüÊàêÁöÑÂ≠óËäÇÁ†Å
                        </div>
                        <div class="bytecode-box">
                            <div class="bytecode-instruction active">
                                <span class="bytecode-op">aload_1</span>
                                <span class="bytecode-arg"></span>
                                <span class="bytecode-comment">// Â∞ÜÂèòÈáè f ÂéãÂÖ•Êìç‰ΩúÊï∞Ê†à</span>
                            </div>
                            <div class="bytecode-instruction active" style="transition-delay: 0.15s;">
                                <span class="bytecode-op">bipush</span>
                                <span class="bytecode-arg">10</span>
                                <span class="bytecode-comment">// Â∞ÜÂ∏∏Èáè 10 ÂéãÂÖ•Ê†à</span>
                            </div>
                            <div class="bytecode-instruction active highlight" style="transition-delay: 0.3s;">
                                <span class="bytecode-op">invokevirtual</span>
                                <span class="bytecode-arg">#4 &lt;Father.method:(I)V&gt;</span>
                                <span class="bytecode-comment">// Ë∞ÉÁî®ËôöÊñπÊ≥ï</span>
                            </div>
                        </div>
                        <div style="margin-top: 16px; padding: 16px; background: rgba(139, 92, 246, 0.1); border-radius: 10px; border: 2px solid var(--compile);">
                            <p><strong style="color: var(--compile);">ÂÖ≥ÈîÆ‰ø°ÊÅØËß£ËØªÔºö</strong></p>
                            <ul style="margin-top: 8px; padding-left: 20px; color: var(--text-secondary);">
                                <li><code>invokevirtual</code> ‚Äî Ë∞ÉÁî®ËôöÊñπÊ≥ïÔºàÊîØÊåÅÂ§öÊÄÅÔºâ</li>
                                <li><code>Father.method</code> ‚Äî ÊñπÊ≥ïÂ±û‰∫é Father Á±ª</li>
                                <li><code>(I)V</code> ‚Äî ÊñπÊ≥ïÊèèËø∞Á¨¶Ôºö‰∏Ä‰∏™ int ÂèÇÊï∞ÔºåÊó†ËøîÂõûÂÄº</li>
                            </ul>
                        </div>
                    </div>
                `;
            },
            explanation: `
                <p>ÁºñËØëÂô®ÁîüÊàê‰∫Ü <code>invokevirtual</code> Êåá‰ª§ÔºåËøôÊòØË∞ÉÁî®ËôöÊñπÊ≥ïÁöÑÂ≠óËäÇÁ†Å„ÄÇ</p>
                <div class="key-point">
                    <h4>üîë Á¨¶Âè∑ÂºïÁî® vs Áõ¥Êé•ÂºïÁî®</h4>
                    <p>Ê≠§Êó∂Â≠óËäÇÁ†Å‰∏≠Âè™Êúâ<strong>Á¨¶Âè∑ÂºïÁî®</strong>Ôºà<code>Father.method:(I)V</code>ÔºâÔºåËøôÂè™ÊòØ‰∏Ä‰∏™"ÂêçÂ≠ó"„ÄÇ</p>
                    <p style="margin-top: 8px;">ÁúüÊ≠£ÁöÑÂÜÖÂ≠òÂú∞ÂùÄÔºàÁõ¥Êé•ÂºïÁî®ÔºâË¶ÅÂà∞<strong>Á±ªÂä†ËΩΩÊúü</strong>Êâç‰ºöÁ°ÆÂÆöÔºÅ</p>
                </div>
                <div class="warning-box" style="margin-top: 16px;">
                    <h4>‚ö†Ô∏è ÁºñËØëÊúüÁöÑÂ±ÄÈôê</h4>
                    <p>ÁºñËØëÂô®Âè™Áü•ÈÅìË¶ÅË∞ÉÁî® <code>Father.method(int)</code>Ôºå‰ΩÜÂÆÉ<strong>‰∏çÁü•ÈÅì</strong>Ôºö</p>
                    <ul style="padding-left: 20px; margin-top: 8px;">
                        <li>ÊñπÊ≥ïÂú®ÂÜÖÂ≠ò‰∏≠ÁöÑÂÖ∑‰Ωì‰ΩçÁΩÆ</li>
                        <li>ËøêË°åÊó∂ÂØπË±°ÁöÑÁúüÂÆûÁ±ªÂûã</li>
                        <li>ÊúÄÁªà‰ºöÊâßË°åÂì™‰∏™Á±ªÁöÑÂÆûÁé∞</li>
                    </ul>
                </div>
            `
        },
        {
            stage: 1,
            title: "ÁºñËØëÊúü - Èò∂ÊÆµÂ∞èÁªì",
            action: () => {
                document.getElementById('compileAnalysis').innerHTML += `
                    <div class="summary-card" style="margin-top: 24px; background: linear-gradient(135deg, var(--compile), #7c3aed); padding: 24px; border-radius: 16px; color: white;">
                        <div style="font-size: 1.2em; font-weight: 700; margin-bottom: 16px; text-align: center;">
                            ‚úÖ ÁºñËØëÊúüÂ∑•‰ΩúÂÆåÊàê
                        </div>
                        <div style="background: rgba(255,255,255,0.15); padding: 16px; border-radius: 10px;">
                            <p><strong>Êú¨Èò∂ÊÆµÂÆåÊàê‰∫ÜÔºö</strong></p>
                            <ul style="margin-top: 8px; padding-left: 20px;">
                                <li>Ê†πÊçÆÈùôÊÄÅÁ±ªÂûã <code>Father</code> Êü•ÊâæÂÄôÈÄâÊñπÊ≥ï</li>
                                <li>Ê†πÊçÆÂèÇÊï∞ <code>int</code> ËøõË°åÈáçËΩΩËß£Êûê</li>
                                <li>Á°ÆÂÆöÊñπÊ≥ïÁ≠æÂêçÔºö<code>Father.method(int)</code></li>
                                <li>ÁîüÊàêÂ≠óËäÇÁ†ÅÊåá‰ª§Ôºö<code>invokevirtual</code></li>
                            </ul>
                        </div>
                        <div style="text-align: center; margin-top: 16px; color: rgba(255,255,255,0.9);">
                            ‰∏ã‰∏ÄÈò∂ÊÆµÔºöÁ±ªÂä†ËΩΩÊúü ‚Üí
                        </div>
                    </div>
                `;
            },
            explanation: `
                <div class="tip-box">
                    <h4>üìå ÁºñËØëÊúüÊÄªÁªì</h4>
                    <p><strong>Ëß£ÂÜ≥ÁöÑÈóÆÈ¢òÔºö</strong>Ë∞ÉÁî®Âì™‰∏™ÊñπÊ≥ïÁ≠æÂêçÔºü</p>
                    <p><strong>‰æùÊçÆÔºö</strong>ÈùôÊÄÅÁ±ªÂûã + ÂèÇÊï∞Á±ªÂûã</p>
                    <p><strong>ÁªìÊûúÔºö</strong>Á°ÆÂÆö‰∫Ü <code>Father.method(int)</code></p>
                </div>
                <p style="margin-top: 12px;">ËøôÂ∞±ÊòØ<strong>ÈùôÊÄÅÂàÜÊ¥æ</strong>Ôºà‰πüÂè´ÈáçËΩΩËß£ÊûêÔºâÁöÑËøáÁ®ã„ÄÇ</p>
                <p style="margin-top: 8px;">Êé•‰∏ãÊù•ËøõÂÖ•<strong>Á±ªÂä†ËΩΩÊúü</strong>ÔºåJVM Â∞ÜÊûÑÂª∫ËôöÊñπÊ≥ïË°®Ôºå‰∏∫ËøêË°åÊó∂ÁöÑÂä®ÊÄÅÂàÜÊ¥æÂÅöÂáÜÂ§á„ÄÇ</p>
            `
        },

        // ========== Èò∂ÊÆµ‰∫åÔºöÁ±ªÂä†ËΩΩÊúü ==========
        {
            stage: 2,
            title: "Á±ªÂä†ËΩΩÊúü - Âä†ËΩΩ Father Á±ª",
            action: () => {
                document.getElementById('fatherClassContent').innerHTML = `
                    <div class="class-info">
                        <div class="class-info-row">
                            <span class="class-info-label">Á±ªÂêç</span>
                            <span class="class-info-value">Father</span>
                        </div>
                        <div class="class-info-row">
                            <span class="class-info-label">Áà∂Á±ª</span>
                            <span class="class-info-value">java.lang.Object</span>
                        </div>
                        <div class="class-info-row">
                            <span class="class-info-label">ÊñπÊ≥ïÊï∞</span>
                            <span class="class-info-value">2 ‰∏™Ëá™ÂÆö‰πâÊñπÊ≥ï</span>
                        </div>
                    </div>
                `;
            },
            explanation: `
                <p>JVM ÂºÄÂßãÂä†ËΩΩ Father Á±ªÂà∞<strong>ÊñπÊ≥ïÂå∫</strong>Ôºà‰πüÂè´ÂÖÉÁ©∫Èó¥Ôºâ„ÄÇ</p>
                <div class="tip-box">
                    <h4>üì¶ Á±ªÂä†ËΩΩËøáÁ®ã</h4>
                    <p>JVM ËØªÂèñ Father.class Êñá‰ª∂ÔºåÂàõÂª∫Á±ªÁöÑÂÖÉÊï∞ÊçÆÁªìÊûÑÔºåÂåÖÊã¨Ôºö</p>
                    <ul style="padding-left: 20px; margin-top: 8px;">
                        <li>Á±ªÁöÑÂü∫Êú¨‰ø°ÊÅØÔºàÂêçÁß∞„ÄÅËÆøÈóÆÊùÉÈôêÁ≠âÔºâ</li>
                        <li>Â∏∏ÈáèÊ±†</li>
                        <li>Â≠óÊÆµÂíåÊñπÊ≥ï‰ø°ÊÅØ</li>
                        <li><strong>ËôöÊñπÊ≥ïË°® (vtable)</strong> ‚Üê ÈáçÁÇπÔºÅ</li>
                    </ul>
                </div>
            `
        },
        {
            stage: 2,
            title: "Á±ªÂä†ËΩΩÊúü - ÊûÑÂª∫ Father ÁöÑËôöÊñπÊ≥ïË°®",
            action: () => {
                document.getElementById('fatherClassContent').innerHTML += `
                    <div class="vtable-section active">
                        <div class="vtable-header">
                            üîó ËôöÊñπÊ≥ïË°® (Virtual Method Table)
                        </div>
                        <div class="vtable-body">
                            <div class="vtable-row active">
                                <div class="vtable-index" style="background: #9ca3af;">Á¥¢Âºï 0-4</div>
                                <div class="vtable-method">
                                    <div class="vtable-method-name">ÔºàÁªßÊâøËá™ Object ÁöÑÊñπÊ≥ïÔºâ</div>
                                    <div class="vtable-method-addr">toString(), equals(), hashCode()...</div>
                                </div>
                            </div>
                            <div class="vtable-row active" style="transition-delay: 0.15s;">
                                <div class="vtable-index" style="background: var(--classload);">Á¥¢Âºï 5</div>
                                <div class="vtable-method">
                                    <div class="vtable-method-name">method() ‚Üí Father.method()</div>
                                    <div class="vtable-method-addr">Âú∞ÂùÄ: 0x1234F001</div>
                                </div>
                            </div>
                            <div class="vtable-row active highlight" style="transition-delay: 0.3s;">
                                <div class="vtable-index" style="background: var(--runtime);">Á¥¢Âºï 6</div>
                                <div class="vtable-method">
                                    <div class="vtable-method-name">method(int) ‚Üí Father.method(int)</div>
                                    <div class="vtable-method-addr">Âú∞ÂùÄ: 0x1234F002</div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            },
            explanation: `
                <p>JVM ‰∏∫ Father Á±ªÊûÑÂª∫‰∫Ü<strong>ËôöÊñπÊ≥ïË°®</strong>„ÄÇ</p>
                <div class="key-point">
                    <h4>üîë ‰ªÄ‰πàÊòØËôöÊñπÊ≥ïË°®Ôºü</h4>
                    <p>ËôöÊñπÊ≥ïË°®ÊòØ‰∏Ä‰∏™Êï∞ÁªÑÔºåÊØè‰∏™ÂÖÉÁ¥†Â≠òÂÇ®‰∏Ä‰∏™ÊñπÊ≥ïÁöÑÂÆûÈôÖÂÜÖÂ≠òÂú∞ÂùÄ„ÄÇ</p>
                    <p style="margin-top: 8px;">ÊØè‰∏™ÂèØ‰ª•Ë¢´ÈáçÂÜôÁöÑÊñπÊ≥ïÔºàÈùû static„ÄÅÈùû finalÔºâÈÉΩÊúâ‰∏Ä‰∏™Âõ∫ÂÆöÁöÑÁ¥¢Âºï‰ΩçÁΩÆ„ÄÇ</p>
                </div>
                <div class="tip-box" style="margin-top: 16px;">
                    <h4>üí° Á¥¢ÂºïÁöÑÊÑè‰πâ</h4>
                    <p>ÁºñËØëÊúüÁ°ÆÂÆöÁöÑ <code>Father.method(int)</code> ÂØπÂ∫î<strong>Á¥¢Âºï 6</strong>„ÄÇ</p>
                    <p>Ëøô‰∏™Á¥¢ÂºïÂè∑‰ºöË¢´ÊâÄÊúâÂ≠êÁ±ªÁªßÊâøÔºåËøôÊòØÂÆûÁé∞Â§öÊÄÅÁöÑÂÖ≥ÈîÆÔºÅ</p>
                </div>
            `
        },
        {
            stage: 2,
            title: "Á±ªÂä†ËΩΩÊúü - Âä†ËΩΩ Son Á±ª",
            action: () => {
                document.getElementById('sonClassContent').innerHTML = `
                    <div class="class-info">
                        <div class="class-info-row">
                            <span class="class-info-label">Á±ªÂêç</span>
                            <span class="class-info-value">Son</span>
                        </div>
                        <div class="class-info-row">
                            <span class="class-info-label">Áà∂Á±ª</span>
                            <span class="class-info-value" style="color: var(--runtime); font-weight: 600;">Father</span>
                        </div>
                        <div class="class-info-row">
                            <span class="class-info-label">ÈáçÂÜôÊñπÊ≥ï</span>
                            <span class="class-info-value">1 ‰∏™ (method())</span>
                        </div>
                        <div class="class-info-row">
                            <span class="class-info-label">‚ö†Ô∏è Ê≥®ÊÑè</span>
                            <span class="class-info-value" style="color: var(--danger);">Ê≤°ÊúâÈáçÂÜô method(int)ÔºÅ</span>
                        </div>
                    </div>
                `;
            },
            explanation: `
                <p>Êé•‰∏ãÊù•Âä†ËΩΩ Son Á±ª„ÄÇ</p>
                <div class="warning-box">
                    <h4>‚ö†Ô∏è ÂÖ≥ÈîÆ‰ø°ÊÅØ</h4>
                    <p>Son Á±ªÂè™ÈáçÂÜô‰∫Ü <code>method()</code>ÔºàÊó†ÂèÇÁâàÊú¨Ôºâ„ÄÇ</p>
                    <p style="margin-top: 8px;"><strong>Ê≤°Êúâ</strong>ÈáçÂÜô <code>method(int)</code>ÔºàÂ∏¶ int ÂèÇÊï∞ÁöÑÁâàÊú¨ÔºâÔºÅ</p>
                </div>
                <p style="margin-top: 12px;">Ëøô‰∏™Â∑ÆÂºÇÂ∞ÜÂú®ËôöÊñπÊ≥ïË°®‰∏≠‰ΩìÁé∞Âá∫Êù•„ÄÇ</p>
            `
        },
        {
            stage: 2,
            title: "Á±ªÂä†ËΩΩÊúü - ÊûÑÂª∫ Son ÁöÑËôöÊñπÊ≥ïË°®ÔºàÂÖ≥ÈîÆÔºÅÔºâ",
            action: () => {
                document.getElementById('sonClassContent').innerHTML += `
                    <div style="background: linear-gradient(135deg, #fef3c7, #fde68a); padding: 16px; border-radius: 10px; margin: 16px 0; border: 2px solid var(--accent);">
                        <strong style="color: #92400e;">üîß vtable ÊûÑÂª∫ËßÑÂàôÔºö</strong>
                        <ol style="margin-top: 8px; padding-left: 24px; color: #78350f;">
                            <li>È¶ñÂÖà<strong>Â§çÂà∂</strong>Áà∂Á±ªÁöÑ vtable ÁªìÊûÑ</li>
                            <li>Â¶ÇÊûúÂ≠êÁ±ª<strong>ÈáçÂÜô</strong>‰∫ÜÊüêÊñπÊ≥ïÔºåÊõøÊç¢ÂØπÂ∫îÁ¥¢ÂºïÁöÑÂú∞ÂùÄ</li>
                            <li>Â¶ÇÊûúÂ≠êÁ±ª<strong>Ê≤°ÈáçÂÜô</strong>Ôºå‰øùÁïôÁà∂Á±ªÁöÑÂú∞ÂùÄ</li>
                        </ol>
                    </div>

                    <div class="vtable-section active">
                        <div class="vtable-header" style="background: linear-gradient(135deg, #fce7f3, #fbcfe8);">
                            üîó Son ÁöÑËôöÊñπÊ≥ïË°®
                        </div>
                        <div class="vtable-body">
                            <div class="vtable-row active">
                                <div class="vtable-index" style="background: #9ca3af;">Á¥¢Âºï 0-4</div>
                                <div class="vtable-method">
                                    <div class="vtable-method-name">ÔºàÁªßÊâøÁöÑ Object ÊñπÊ≥ïÔºâ</div>
                                </div>
                            </div>
                            <div class="vtable-row active" style="transition-delay: 0.15s;">
                                <div class="vtable-index" style="background: var(--runtime);">Á¥¢Âºï 5</div>
                                <div class="vtable-method">
                                    <div class="vtable-method-name">method() ‚Üí <strong style="color: var(--runtime);">Son.method()</strong></div>
                                    <div class="vtable-method-addr" style="color: var(--runtime);">Âú∞ÂùÄ: 0x5678S001 (Â∑≤ÊõøÊç¢!)</div>
                                </div>
                                <span class="vtable-badge override">‚úì ÈáçÂÜô</span>
                            </div>
                            <div class="vtable-row active highlight" style="transition-delay: 0.3s;">
                                <div class="vtable-index" style="background: #9ca3af;">Á¥¢Âºï 6</div>
                                <div class="vtable-method">
                                    <div class="vtable-method-name">method(int) ‚Üí <strong>Father.method(int)</strong></div>
                                    <div class="vtable-method-addr">Âú∞ÂùÄ: 0x1234F002 (‰øùÊåÅÁà∂Á±ª)</div>
                                </div>
                                <span class="vtable-badge inherit">ÁªßÊâø</span>
                            </div>
                        </div>
                    </div>
                `;
            },
            explanation: `
                <div class="key-point">
                    <h4>üî• ËøôÂ∞±ÊòØÊ†∏ÂøÉÊâÄÂú®ÔºÅ</h4>
                    <p>ÂØπÊØî Son ÁöÑ vtable ‰∏≠‰∏§‰∏™ÊñπÊ≥ïÁöÑ‰∏çÂêåÂ§ÑÁêÜÔºö</p>
                </div>
                <table class="comparison-table" style="margin-top: 16px;">
                    <tr>
                        <th>Á¥¢Âºï</th>
                        <th>ÊñπÊ≥ï</th>
                        <th>Â§ÑÁêÜ</th>
                        <th>ÊåáÂêë</th>
                    </tr>
                    <tr>
                        <td>5</td>
                        <td>method()</td>
                        <td class="highlight-cell">ÊõøÊç¢</td>
                        <td>Son.method()</td>
                    </tr>
                    <tr>
                        <td>6</td>
                        <td>method(int)</td>
                        <td>‰øùÁïô</td>
                        <td>Father.method(int)</td>
                    </tr>
                </table>
                <div class="warning-box" style="margin-top: 16px;">
                    <h4>üí° ËøôÊÑèÂë≥ÁùÄ‰ªÄ‰πàÔºü</h4>
                    <p>Âç≥‰ΩøÂàõÂª∫ÁöÑÊòØ Son ÂØπË±°ÔºåÂΩìË∞ÉÁî® <code>method(int)</code> Êó∂Ôºå</p>
                    <p>JVM Êü•Êâæ Son ÁöÑ vtable[6]ÔºåÂèëÁé∞ÊåáÂêëÁöÑÊòØ <strong>Father.method(int)</strong>ÔºÅ</p>
                </div>
            `
        },
        {
            stage: 2,
            title: "Á±ªÂä†ËΩΩÊúü - Èò∂ÊÆµÂ∞èÁªì",
            action: () => {
                document.getElementById('sonClassContent').innerHTML += `
                    <div class="vtable-note">
                        <h4>üéØ Ê†∏ÂøÉÁêÜËß£</h4>
                        <p>Son ÁöÑ vtable Á¥¢Âºï 6 ‰ªçÁÑ∂ÊåáÂêë Father.method(int)ÔºÅ</p>
                        <p style="margin-top: 8px;">ËøôÊòØÂõ†‰∏∫ Son Á±ª<strong>Ê≤°ÊúâÈáçÂÜô</strong> method(int) ÊñπÊ≥ï„ÄÇ</p>
                        <p style="margin-top: 8px;">ÊâÄ‰ª•Âç≥‰ΩøÂØπË±°ÊòØ Son Á±ªÂûãÔºåË∞ÉÁî® method(int) Êó∂‰πü‰ºöÊâßË°åÁà∂Á±ªÁöÑÂÆûÁé∞„ÄÇ</p>
                    </div>
                `;
            },
            explanation: `
                <div class="tip-box">
                    <h4>üìå Á±ªÂä†ËΩΩÊúüÊÄªÁªì</h4>
                    <p><strong>Ëß£ÂÜ≥ÁöÑÈóÆÈ¢òÔºö</strong>‰∏∫ÊØè‰∏™ÊñπÊ≥ïÂàÜÈÖç vtable Á¥¢ÂºïÔºåÁ°ÆÂÆöÊñπÊ≥ïÂú∞ÂùÄ</p>
                    <p><strong>ÂÖ≥ÈîÆÂèëÁé∞Ôºö</strong></p>
                    <ul style="padding-left: 20px; margin-top: 8px;">
                        <li>Son vtable[5] ‚Üí Son.method() ÔºàÈáçÂÜô‰∫ÜÔºâ</li>
                        <li>Son vtable[6] ‚Üí Father.method(int) ÔºàÊ≤°ÈáçÂÜôÔºâ</li>
                    </ul>
                </div>
                <p style="margin-top: 12px;">Áé∞Âú®ÊâÄÊúâÂáÜÂ§áÂ∑•‰ΩúÂÆåÊàêÔºåËøõÂÖ•<strong>ËøêË°åÊúü</strong>ÔºÅ</p>
            `
        },

        // ========== Èò∂ÊÆµ‰∏âÔºöËøêË°åÊúü ==========
        {
            stage: 3,
            title: "ËøêË°åÊúü - main ÊñπÊ≥ïÂêØÂä®",
            action: () => {
                document.getElementById('stackContent').innerHTML = `
                    <div class="stack-frame active">
                        <div class="frame-title">üìö main() Ê†àÂ∏ß</div>
                        <div class="frame-section">
                            <div class="frame-section-title">Â±ÄÈÉ®ÂèòÈáèË°®</div>
                            <div class="var-slot active">
                                <span><span class="var-name">args</span><span class="var-type">[String[]]</span></span>
                                <span class="var-value">0x...</span>
                            </div>
                        </div>
                        <div class="frame-section">
                            <div class="frame-section-title">Êìç‰ΩúÊï∞Ê†à</div>
                            <div style="color: #9ca3af; text-align: center; padding: 12px;">ÔºàÁ©∫Ôºâ</div>
                        </div>
                    </div>
                `;

                document.getElementById('methodContent').innerHTML = `
                    <div class="method-class-info active">
                        <div class="method-class-title">Son Á±ªÂÖÉÊï∞ÊçÆ</div>
                        <div style="font-size: 0.9em; color: var(--text-secondary); margin-bottom: 8px;">ËôöÊñπÊ≥ïË°® (vtable)</div>
                        <div style="background: white; border-radius: 8px; padding: 10px;">
                            <div style="display: flex; align-items: center; padding: 8px; border-bottom: 1px solid #e5e7eb;">
                                <span style="background: var(--primary); color: white; padding: 4px 10px; border-radius: 4px; font-size: 0.8em; margin-right: 10px;">Á¥¢Âºï 5</span>
                                <span style="font-family: 'JetBrains Mono', monospace; font-size: 0.85em;">method() ‚Üí Son</span>
                            </div>
                            <div style="display: flex; align-items: center; padding: 8px;">
                                <span style="background: #9ca3af; color: white; padding: 4px 10px; border-radius: 4px; font-size: 0.8em; margin-right: 10px;">Á¥¢Âºï 6</span>
                                <span style="font-family: 'JetBrains Mono', monospace; font-size: 0.85em;">method(int) ‚Üí Father</span>
                            </div>
                        </div>
                    </div>
                `;
            },
            explanation: `
                <p>Á®ãÂ∫èÂºÄÂßãËøêË°åÔºÅJVM Âú®Ê†à‰∏äÂàõÂª∫ main ÊñπÊ≥ïÁöÑÊ†àÂ∏ß„ÄÇ</p>
                <div class="tip-box">
                    <h4>üìö JVM ËøêË°åÊó∂ÂÜÖÂ≠òÂ∏ÉÂ±Ä</h4>
                    <p><strong>Ê†à</strong>ÔºöÂ≠òÂÇ®ÊñπÊ≥ïË∞ÉÁî®ÁöÑÊ†àÂ∏ßÔºåÂåÖÊã¨Â±ÄÈÉ®ÂèòÈáè„ÄÅÊìç‰ΩúÊï∞Ê†àÁ≠â</p>
                    <p><strong>Â†Ü</strong>ÔºöÂ≠òÂÇ®ÂØπË±°ÂÆû‰æã</p>
                    <p><strong>ÊñπÊ≥ïÂå∫</strong>ÔºöÂ≠òÂÇ®Á±ªÁöÑÂÖÉÊï∞ÊçÆÔºåÂåÖÊã¨ vtable</p>
                </div>
            `
        },
        {
            stage: 3,
            title: "ËøêË°åÊúü - ÂàõÂª∫ Son ÂØπË±°",
            action: () => {
                document.getElementById('heapContent').innerHTML = `
                    <div class="heap-object active">
                        <div class="object-title">Son ÂØπË±° @ 0x7A2B3C4D</div>
                        <div class="object-section">
                            <div class="object-section-header">
                                <span>üè∑Ô∏è</span> ÂØπË±°Â§¥ (Object Header)
                            </div>
                            <div class="object-field">
                                <span class="field-name">Mark Word</span>
                                <span class="field-value">ÂìàÂ∏åÁ†Å„ÄÅÈîÅÁä∂ÊÄÅ...</span>
                            </div>
                            <div class="object-field pointer">
                                <span class="field-name">Á±ªÂûãÊåáÈíà (Klass Pointer)</span>
                                <span class="field-value">‚Üí Son Á±ªÂÖÉÊï∞ÊçÆ</span>
                            </div>
                        </div>
                        <div class="object-section">
                            <div class="object-section-header">
                                <span>üì¶</span> ÂÆû‰æãÊï∞ÊçÆ
                            </div>
                            <div class="object-field">
                                <span class="field-name">ÔºàÊó†Â≠óÊÆµÔºâ</span>
                                <span class="field-value">-</span>
                            </div>
                        </div>
                    </div>
                `;

                // Êõ¥Êñ∞Ê†à‰∏≠ÁöÑÂèòÈáè
                setTimeout(() => {
                    const frameSection = document.querySelector('.frame-section');
                    const newSlot = document.createElement('div');
                    newSlot.className = 'var-slot';
                    newSlot.innerHTML = `
                        <span><span class="var-name">f</span><span class="var-type">[Father]</span></span>
                        <span class="var-value">‚Üí 0x7A2B3C4D</span>
                    `;
                    frameSection.appendChild(newSlot);
                    setTimeout(() => newSlot.classList.add('active'), 50);
                }, 400);
            },
            explanation: `
                <p>ÊâßË°å <code>Father f = new Son()</code>Ôºö</p>
                <ol style="padding-left: 24px; line-height: 2;">
                    <li><strong>Âú®Â†Ü‰∏≠ÂàõÂª∫ Son ÂØπË±°</strong>ÔºåÂàÜÈÖçÂú∞ÂùÄ 0x7A2B3C4D</li>
                    <li><strong>ÂàùÂßãÂåñÂØπË±°Â§¥</strong>ÔºåÁ±ªÂûãÊåáÈíàÊåáÂêë Son Á±ªÂÖÉÊï∞ÊçÆ</li>
                    <li><strong>Â∞ÜÂºïÁî®Â≠òÂÖ•ÂèòÈáè f</strong>ÔºàËôΩÁÑ∂Â£∞ÊòéÁ±ªÂûãÊòØ FatherÔºâ</li>
                </ol>
                <div class="key-point" style="margin-top: 16px;">
                    <h4>üîë Á±ªÂûãÊåáÈíàÁöÑ‰ΩúÁî®</h4>
                    <p>ÂØπË±°Â§¥‰∏≠ÁöÑ<strong>Á±ªÂûãÊåáÈíà</strong>ÊòØÂä®ÊÄÅÂàÜÊ¥æÁöÑÂÖ≥ÈîÆÔºÅ</p>
                    <p>ÂÆÉËÆ© JVM Âú®ËøêË°åÊó∂ËÉΩÊâæÂà∞ÂØπË±°ÁöÑÁúüÂÆûÁ±ªÂûãÂíåÂØπÂ∫îÁöÑ vtable„ÄÇ</p>
                </div>
            `
        },
        {
            stage: 3,
            title: "ËøêË°åÊúü - ÂºÄÂßãÊâßË°åÊñπÊ≥ïË∞ÉÁî®",
            action: () => {
                document.querySelector('.heap-object').classList.add('highlight');

                document.getElementById('heapContent').innerHTML += `
                    <div style="margin-top: 20px; background: var(--bg-dark); color: #f8f8f2; padding: 16px; border-radius: 10px; font-family: 'JetBrains Mono', monospace;">
                        <div style="color: #6272a4;">// ÂΩìÂâçÊâßË°åÁöÑ‰ª£Á†Å</div>
                        <div style="margin-top: 8px;">
                            <span style="color: #8be9fd;">Father</span> f = <span style="color: #ff79c6;">new</span> <span style="color: #8be9fd;">Son</span>();
                            <span style="color: #6272a4;">‚úì ÂÆåÊàê</span>
                        </div>
                        <div style="margin-top: 4px; background: var(--secondary); padding: 8px; border-radius: 6px;">
                            f.<span style="color: #50fa7b;">method</span>(<span style="color: #bd93f9;">10</span>);
                            <span style="color: #ffe;">‚Üê Ê≠£Âú®ÊâßË°å</span>
                        </div>
                    </div>
                `;
            },
            explanation: `
                <p>Áé∞Âú®ÊâßË°å <code>f.method(10)</code>ÔºåJVM ÂºÄÂßã<strong>Âä®ÊÄÅÂàÜÊ¥æ</strong>ËøáÁ®ã„ÄÇ</p>
                <div class="tip-box">
                    <h4>ü§î JVM ÈúÄË¶ÅËß£Á≠îÁöÑÈóÆÈ¢ò</h4>
                    <p>1. ‚úÖ Ë∞ÉÁî®Âì™‰∏™ÊñπÊ≥ïÁ≠æÂêçÔºü‚Üí ÁºñËØëÊúüÂ∑≤Á°ÆÂÆöÔºömethod(int)</p>
                    <p>2. ‚úÖ Âú® vtable ÁöÑÂì™‰∏™‰ΩçÁΩÆÔºü‚Üí Á±ªÂä†ËΩΩÊúüÂ∑≤Á°ÆÂÆöÔºöÁ¥¢Âºï 6</p>
                    <p>3. ‚ùì ÊâßË°åÂì™‰∏™Á±ªÁöÑÂÆûÁé∞Ôºü‚Üí <strong>Áé∞Âú®Ë¶ÅÁ°ÆÂÆöÔºÅ</strong></p>
                </div>
            `
        },
        {
            stage: 3,
            title: "ËøêË°åÊúü - Âä®ÊÄÅÂàÜÊ¥æÁ¨¨1Ê≠•ÔºöËé∑ÂèñÂØπË±°ÂºïÁî®",
            action: () => {
                document.querySelector('.var-slot:last-child').classList.add('highlight');

                document.getElementById('methodContent').innerHTML += `
                    <div class="data-flow" style="margin-top: 20px;">
                        <div class="flow-title">
                            <span>üîç</span> Âä®ÊÄÅÂàÜÊ¥æÊâßË°åÊµÅÁ®ã
                        </div>
                        <div class="flow-step active">
                            <div class="flow-num">1</div>
                            <span>‰ªéÊ†àÂ∏ßËé∑ÂèñÂèòÈáè <code>f</code> ÁöÑÂÄº</span>
                            <span class="flow-arrow">‚Üí</span>
                            <span style="color: var(--primary); font-weight: 600;">0x7A2B3C4D</span>
                        </div>
                    </div>
                `;
            },
            explanation: `
                <p><strong>Á¨¨1Ê≠•ÔºöËé∑ÂèñÂØπË±°ÂºïÁî®</strong></p>
                <p>JVM ‰ªéÂΩìÂâçÊ†àÂ∏ßÁöÑÂ±ÄÈÉ®ÂèòÈáèË°®‰∏≠ËØªÂèñÂèòÈáè <code>f</code> ÁöÑÂÄº„ÄÇ</p>
                <div style="margin: 16px 0; padding: 16px; background: #f9fafb; border-radius: 10px; font-family: 'JetBrains Mono', monospace; text-align: center;">
                    f = <span style="color: var(--primary); font-weight: 600;">0x7A2B3C4D</span>
                </div>
                <p>Ëøô‰∏™ÂÄºÊòØÂ†Ü‰∏≠ Son ÂØπË±°ÁöÑÂÜÖÂ≠òÂú∞ÂùÄ„ÄÇ</p>
            `
        },
        {
            stage: 3,
            title: "ËøêË°åÊúü - Âä®ÊÄÅÂàÜÊ¥æÁ¨¨2Ê≠•ÔºöÊâæÂà∞ÂØπË±°Â§¥",
            action: () => {
                const dataFlow = document.querySelector('.data-flow');
                dataFlow.innerHTML += `
                    <div class="flow-step active" style="transition-delay: 0.2s;">
                        <div class="flow-num">2</div>
                        <span>ÈÄöËøáÂú∞ÂùÄÊâæÂà∞Â†Ü‰∏≠ÁöÑÂØπË±°</span>
                        <span class="flow-arrow">‚Üí</span>
                        <span style="color: var(--secondary); font-weight: 600;">Son ÂØπË±°</span>
                    </div>
                `;
            },
            explanation: `
                <p><strong>Á¨¨2Ê≠•ÔºöÂÆö‰ΩçÂØπË±°</strong></p>
                <p>JVM ÈÄöËøáÂú∞ÂùÄ 0x7A2B3C4D ÊâæÂà∞Â†Ü‰∏≠ÁöÑÂØπË±°„ÄÇ</p>
                <div class="tip-box">
                    <h4>üí° Ê≥®ÊÑè</h4>
                    <p>ËôΩÁÑ∂ÂèòÈáè f ÁöÑÂ£∞ÊòéÁ±ªÂûãÊòØ FatherÔºå‰ΩÜÂÆÉÊåáÂêëÁöÑ<strong>ÂÆûÈôÖÂØπË±°</strong>ÊòØ Son„ÄÇ</p>
                    <p>JVM Ê≠§Êó∂Â∑≤Áªè"ÁúãÂà∞"‰∫ÜÂØπË±°ÁöÑÁúüÂÆûÈù¢ÁõÆÔºÅ</p>
                </div>
            `
        },
        {
            stage: 3,
            title: "ËøêË°åÊúü - Âä®ÊÄÅÂàÜÊ¥æÁ¨¨3Ê≠•ÔºöËØªÂèñÁ±ªÂûãÊåáÈíà",
            action: () => {
                document.querySelector('.object-field.pointer').classList.add('highlight');

                const dataFlow = document.querySelector('.data-flow');
                dataFlow.innerHTML += `
                    <div class="flow-step active current" style="transition-delay: 0.2s;">
                        <div class="flow-num">3</div>
                        <span>ËØªÂèñÂØπË±°Â§¥ÁöÑ<strong>Á±ªÂûãÊåáÈíà</strong></span>
                        <span class="flow-arrow">‚Üí</span>
                        <span style="color: var(--danger); font-weight: 600;">Son Á±ªÂÖÉÊï∞ÊçÆ</span>
                    </div>
                `;
            },
            explanation: `
                <p><strong>Á¨¨3Ê≠•ÔºöËé∑ÂèñÁúüÂÆûÁ±ªÂûã</strong></p>
                <p>ÂØπË±°Â§¥‰∏≠ÁöÑ<strong>Á±ªÂûãÊåáÈíàÔºàKlass PointerÔºâ</strong>ÊåáÂêëÊñπÊ≥ïÂå∫‰∏≠ÁöÑ Son Á±ªÂÖÉÊï∞ÊçÆ„ÄÇ</p>
                <div class="key-point">
                    <h4>üîë ËøôÊòØÂ§öÊÄÅÁöÑÂÖ≥ÈîÆÔºÅ</h4>
                    <p>Ê≠£ÊòØÈÄöËøáÁ±ªÂûãÊåáÈíàÔºåJVM Âú®ËøêË°åÊó∂ÊâçÁü•ÈÅìÂØπË±°ÁöÑ<strong>ÁúüÂÆûÁ±ªÂûã</strong>ÊòØ Son„ÄÇ</p>
                    <p style="margin-top: 8px;">Êé•‰∏ãÊù•ÔºåJVM Â∞ÜÂú® <strong>Son ÁöÑ vtable</strong> ‰∏≠Êü•ÊâæÊñπÊ≥ï„ÄÇ</p>
                </div>
            `
        },
        {
            stage: 3,
            title: "ËøêË°åÊúü - Âä®ÊÄÅÂàÜÊ¥æÁ¨¨4Ê≠•ÔºöÊü•ËØ¢ vtable",
            action: () => {
                document.querySelector('.method-class-info').classList.add('highlight');

                const dataFlow = document.querySelector('.data-flow');
                dataFlow.innerHTML += `
                    <div class="flow-step active" style="transition-delay: 0.2s;">
                        <div class="flow-num">4</div>
                        <span>Âú® Son ÁöÑ vtable Êü•Êâæ<strong>Á¥¢Âºï 6</strong></span>
                        <span class="flow-arrow">‚Üí</span>
                        <span style="color: var(--compile); font-weight: 600;">Father.method(int)</span>
                    </div>
                `;

                // È´ò‰∫Æ vtable ‰∏≠ÁöÑÁ¥¢Âºï 6
                const vtableRows = document.querySelectorAll('.method-class-info div > div:last-child > div');
                if (vtableRows.length > 1) {
                    vtableRows[1].style.background = '#fef3c7';
                    vtableRows[1].style.borderRadius = '6px';
                }
            },
            explanation: `
                <p><strong>Á¨¨4Ê≠•ÔºöÊü•Ë°®Á°ÆÂÆöÊñπÊ≥ïÂú∞ÂùÄ</strong></p>
                <p>ÁºñËØëÊúüÁ°ÆÂÆöÁöÑÊñπÊ≥ïÁ≠æÂêç <code>Father.method(int)</code> ÂØπÂ∫î <strong>vtable Á¥¢Âºï 6</strong>„ÄÇ</p>
                <div style="margin: 16px 0; padding: 20px; background: #f9fafb; border-radius: 10px; text-align: center;">
                    <p style="font-family: 'JetBrains Mono', monospace;">
                        Son.vtable[<span style="color: var(--primary);">6</span>] =
                        <span style="color: var(--danger); font-weight: 600;">Father.method(int)</span> @ 0x1234F002
                    </p>
                </div>
                <div class="warning-box">
                    <h4>üí° ‰∏∫‰ªÄ‰πàÊòØ Father ÁöÑÂÆûÁé∞Ôºü</h4>
                    <p>Âõ†‰∏∫ Son Á±ª<strong>Ê≤°ÊúâÈáçÂÜô</strong> method(int)ÔºÅ</p>
                    <p>Âú®Á±ªÂä†ËΩΩÊúüÔºåSon ÁöÑ vtable[6] ‰øùÁïô‰∫ÜÁà∂Á±ªÁöÑÊñπÊ≥ïÂú∞ÂùÄ„ÄÇ</p>
                </div>
            `
        },
        {
            stage: 3,
            title: "ËøêË°åÊúü - ÊâßË°åÊñπÊ≥ï",
            action: () => {
                const runtimeStage = document.querySelector('.runtime-stage');
                const resultBox = document.createElement('div');
                resultBox.style.cssText = 'grid-column: 1 / -1; margin-top: 20px;';
                resultBox.innerHTML = `
                    <div style="background: linear-gradient(135deg, var(--secondary), #059669); color: white; padding: 28px; border-radius: 16px; text-align: center; box-shadow: 0 10px 30px rgba(16, 185, 129, 0.4);">
                        <div style="font-size: 2em; margin-bottom: 12px;">‚úÖ ÊñπÊ≥ïÊâßË°åÂÆåÊàê</div>
                        <div style="background: rgba(255,255,255,0.2); padding: 16px 24px; border-radius: 10px; font-family: 'JetBrains Mono', monospace; font-size: 1.2em; display: inline-block;">
                            ËæìÂá∫: Father.method(int): 10
                        </div>
                    </div>
                `;
                runtimeStage.appendChild(resultBox);
            },
            explanation: `
                <p>JVM Ë∑≥ËΩ¨Âà∞Âú∞ÂùÄ <code>0x1234F002</code>ÔºåÊâßË°å <strong>Father.method(int)</strong> ÁöÑ‰ª£Á†ÅÔºÅ</p>
                <div class="key-point">
                    <h4>üéâ ÂÆåÊï¥ÊµÅÁ®ãÂõûÈ°æ</h4>
                    <table class="comparison-table">
                        <tr>
                            <th>Èò∂ÊÆµ</th>
                            <th>Ëß£ÂÜ≥ÁöÑÈóÆÈ¢ò</th>
                            <th>ÁªìÊûú</th>
                        </tr>
                        <tr>
                            <td class="text-compile"><strong>ÁºñËØëÊúü</strong></td>
                            <td>ÈÄâÊã©Âì™‰∏™ÊñπÊ≥ïÁ≠æÂêçÔºü</td>
                            <td>Father.method(int)ÔºåÁ¥¢Âºï 6</td>
                        </tr>
                        <tr>
                            <td class="text-classload"><strong>Á±ªÂä†ËΩΩÊúü</strong></td>
                            <td>ÊûÑÂª∫ vtable</td>
                            <td>Son.vtable[6] ‚Üí Father ÂÆûÁé∞</td>
                        </tr>
                        <tr>
                            <td class="text-runtime"><strong>ËøêË°åÊúü</strong></td>
                            <td>Âä®ÊÄÅÂàÜÊ¥æÊü•Ë°®</td>
                            <td>ÊâßË°å Father.method(int)</td>
                        </tr>
                    </table>
                </div>
            `
        },
        {
            stage: 3,
            title: "ÂØπÊØîÊÄùËÄÉÔºöÂ¶ÇÊûúË∞ÉÁî® f.method() Âë¢Ôºü",
            action: () => {
                const stageContent = document.querySelector('.stage-content');
                const comparisonSection = document.createElement('div');
                comparisonSection.innerHTML = `
                    <div style="margin-top: 30px; background: white; border-radius: 16px; padding: 28px; box-shadow: var(--shadow);">
                        <h3 style="text-align: center; color: var(--text-primary); margin-bottom: 24px; font-size: 1.4em;">
                            üîÑ ÂØπÊØîÂàÜÊûêÔºö‰∏§ÁßçË∞ÉÁî®ÁöÑ‰∏çÂêåÁªìÊûú
                        </h3>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 24px;">
                            <div style="background: linear-gradient(135deg, #fef2f2, #fee2e2); border: 3px solid var(--danger); border-radius: 14px; padding: 20px;">
                                <div style="font-size: 1.2em; font-weight: 700; color: var(--danger); margin-bottom: 16px; text-align: center;">
                                    ÂÆûÈôÖ‰ª£Á†ÅÔºöf.method(10)
                                </div>
                                <div style="line-height: 2;">
                                    <p><strong>ÁºñËØëÊúüÔºö</strong>method(int) ‚Üí Á¥¢Âºï 6</p>
                                    <p><strong>Son vtable[6]Ôºö</strong>Father.method(int)</p>
                                    <p><strong>ÊâßË°åÁªìÊûúÔºö</strong><span style="color: var(--danger); font-weight: 700;">Father ÁöÑÂÆûÁé∞</span></p>
                                    <p><strong>ÂéüÂõ†Ôºö</strong>Son Ê≤°ÊúâÈáçÂÜô method(int)</p>
                                </div>
                            </div>
                            <div style="background: linear-gradient(135deg, #ecfdf5, #d1fae5); border: 3px solid var(--secondary); border-radius: 14px; padding: 20px;">
                                <div style="font-size: 1.2em; font-weight: 700; color: var(--secondary); margin-bottom: 16px; text-align: center;">
                                    ÂÅáÂ¶ÇË∞ÉÁî®Ôºöf.method()
                                </div>
                                <div style="line-height: 2;">
                                    <p><strong>ÁºñËØëÊúüÔºö</strong>method() ‚Üí Á¥¢Âºï 5</p>
                                    <p><strong>Son vtable[5]Ôºö</strong>Son.method()</p>
                                    <p><strong>ÊâßË°åÁªìÊûúÔºö</strong><span style="color: var(--secondary); font-weight: 700;">Son ÁöÑÂÆûÁé∞</span></p>
                                    <p><strong>ÂéüÂõ†Ôºö</strong>Son ÈáçÂÜô‰∫Ü method()</p>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
                stageContent.appendChild(comparisonSection);
            },
            explanation: `
                <div class="key-point">
                    <h4>üéì Ê†∏ÂøÉÁêÜËß£</h4>
                    <p><strong>ÈáçËΩΩÔºàOverloadÔºâ</strong>ÔºöÁºñËØëÊúüÊ†πÊçÆ<strong>ÂèÇÊï∞Á±ªÂûã</strong>ÂÜ≥ÂÆöË∞ÉÁî®Âì™‰∏™Á≠æÂêç</p>
                    <p><strong>ÈáçÂÜôÔºàOverrideÔºâ</strong>ÔºöËøêË°åÊúüÊ†πÊçÆ<strong>ÂÆûÈôÖÁ±ªÂûã</strong>ÂÜ≥ÂÆöÊâßË°åÂì™‰∏™ÂÆûÁé∞</p>
                </div>
                <p style="margin-top: 12px;">Ëøô‰∏§ËÄÖÁªìÂêàÔºåÂÆûÁé∞‰∫Ü Java ÁöÑ<strong>Â§öÊÄÅÊú∫Âà∂</strong>ÔºÅ</p>
                <div class="tip-box" style="margin-top: 16px;">
                    <h4>üìù ÊúÄÁªàÁ≠îÊ°à</h4>
                    <p><code>f.method(10)</code> Ë∞ÉÁî®ÁöÑÊòØ <strong>Father.method(int)</strong></p>
                    <p>Âõ†‰∏∫ÔºöÁºñËØëÊúüÈÄâÊã©‰∫Ü method(int)ÔºàÁ¥¢Âºï 6ÔºâÔºåËÄå Son Ê≤°ÊúâÈáçÂÜôËøô‰∏™ÊñπÊ≥ï„ÄÇ</p>
                </div>
            `
        },
        {
            stage: 3,
            title: "ÂÖ®ÊµÅÁ®ãÊÄªÁªì",
            action: () => {
                const stageContent = document.querySelector('.stage-content');
                const summarySection = document.createElement('div');
                summarySection.innerHTML = `
                    <div class="summary-card" style="margin-top: 30px;">
                        <div class="summary-title">
                            <span>üéØ</span> JVM ÊñπÊ≥ïË∞ÉÁî®ÂÖ®ÊµÅÁ®ãÊÄªÁªì
                        </div>
                        <div class="summary-flow">
                            <div class="summary-stage compile">
                                <div class="summary-stage-icon">‚öôÔ∏è</div>
                                <div class="summary-stage-title">ÁºñËØëÊúü</div>
                                <div class="summary-stage-desc">
                                    ÈùôÊÄÅÁ±ªÂûã + ÂèÇÊï∞<br>
                                    ‚Üí Á°ÆÂÆöÊñπÊ≥ïÁ≠æÂêç<br>
                                    <strong>Father.method(int)</strong>
                                </div>
                            </div>
                            <div class="summary-arrow">‚Üí</div>
                            <div class="summary-stage classload">
                                <div class="summary-stage-icon">üì¶</div>
                                <div class="summary-stage-title">Á±ªÂä†ËΩΩÊúü</div>
                                <div class="summary-stage-desc">
                                    ÊûÑÂª∫ vtable<br>
                                    ÂàÜÈÖçÁ¥¢Âºï 6<br>
                                    <strong>‰øùÁïô Father Âú∞ÂùÄ</strong>
                                </div>
                            </div>
                            <div class="summary-arrow">‚Üí</div>
                            <div class="summary-stage runtime">
                                <div class="summary-stage-icon">üöÄ</div>
                                <div class="summary-stage-title">ËøêË°åÊúü</div>
                                <div class="summary-stage-desc">
                                    Á±ªÂûãÊåáÈíà ‚Üí vtable<br>
                                    Êü•ÊâæÁ¥¢Âºï 6<br>
                                    <strong>ÊâßË°å Father ÊñπÊ≥ï</strong>
                                </div>
                            </div>
                        </div>
                        <div class="summary-conclusion">
                            <h4>üîë ËÆ∞‰ΩèËøô‰∏™Âè£ËØÄ</h4>
                            <p><strong>"ÁºñËØëÈÄâÁ≠æÂêçÔºåÂä†ËΩΩÂª∫Ë°®Ê†ºÔºåËøêË°åÁúãÁ±ªÂûã"</strong></p>
                            <p style="margin-top: 12px;">ÈáçËΩΩÂú®ÁºñËØëÊúüÂÜ≥ÂÆöÔºåÈáçÂÜôÂú®ËøêË°åÊúüÁîüÊïàÔºÅ</p>
                        </div>
                    </div>
                `;
                stageContent.appendChild(summarySection);
            },
            explanation: `
                <p>ÊÅ≠Âñú‰Ω†ÂÆåÊàê‰∫ÜÊï¥‰∏™ÊºîÁ§∫ÔºÅüéâ</p>
                <div class="key-point">
                    <h4>üìö ‰Ω†Â≠¶Âà∞‰∫Ü‰ªÄ‰πàÔºü</h4>
                    <ul style="padding-left: 20px; line-height: 2;">
                        <li>ÈùôÊÄÅÁ±ªÂûã‰∏éÂÆûÈôÖÁ±ªÂûãÁöÑÂå∫Âà´</li>
                        <li>ÈáçËΩΩËß£ÊûêÂèëÁîüÂú®ÁºñËØëÊúü</li>
                        <li>ËôöÊñπÊ≥ïË°®ÁöÑÁªìÊûÑÂíå‰ΩúÁî®</li>
                        <li>Âä®ÊÄÅÂàÜÊ¥æÁöÑÂÆåÊï¥ËøáÁ®ã</li>
                        <li>‰∏∫‰ªÄ‰πà <code>f.method(10)</code> Ë∞ÉÁî®‰∫ÜÁà∂Á±ªÊñπÊ≥ï</li>
                    </ul>
                </div>
                <p style="margin-top: 16px;">Â¶ÇÊûúÊÉ≥Â∑©Âõ∫Â≠¶‰π†ÔºåÂèØ‰ª•ÁÇπÂáª<strong>"ÈáçÁΩÆ"</strong>ÊåâÈíÆÈáçÊñ∞ËßÇÁúãÔºÅ</p>
            `
        }
    ];

    // ===== Êõ¥Êñ∞Êó∂Èó¥Á∫ø =====
    function updateTimeline() {
        const items = document.querySelectorAll('.timeline-item');
        const progress = document.getElementById('timelineProgress');

        items.forEach((item, index) => {
            const dot = item.querySelector('.timeline-dot');
            const stage = parseInt(item.dataset.stage);

            if (stage < currentStage) {
                dot.classList.add('completed');
                dot.classList.remove('active');
                item.classList.remove('active');
            } else if (stage === currentStage) {
                dot.classList.add('active');
                dot.classList.remove('completed');
                item.classList.add('active');
            } else {
                dot.classList.remove('active', 'completed');
                item.classList.remove('active');
            }
        });

        const progressPercent = currentStage < 0 ? 0 : (currentStage / 3) * 100;
        progress.style.width = progressPercent + '%';
    }

    // ===== Êõ¥Êñ∞ËøõÂ∫¶ÊåáÁ§∫Âô® =====
    function updateProgress() {
        document.getElementById('currentStep').textContent = currentStep;
        document.getElementById('totalSteps').textContent = steps.length;

        const percent = steps.length > 0 ? (currentStep / steps.length) * 100 : 0;
        document.getElementById('progressFill').style.width = percent + '%';
    }

    // ===== Êõ¥Êñ∞Èò∂ÊÆµÊòæÁ§∫ =====
    function updateStage(stage) {
        currentStage = stage;

        document.querySelectorAll('.stage-panel').forEach(panel => {
            panel.classList.remove('active');
        });

        const targetPanel = document.getElementById('stage' + stage);
        if (targetPanel) {
            targetPanel.classList.add('active');
        }

        updateTimeline();
    }

    // ===== ‰∏ã‰∏ÄÊ≠• =====
    function nextStep() {
        if (currentStep >= steps.length) return;

        const step = steps[currentStep];

        if (step.stage !== currentStage) {
            updateStage(step.stage);
        }

        step.action();

        document.getElementById('explanationTitle').textContent = step.title;
        document.getElementById('explanationContent').innerHTML = step.explanation;

        currentStep++;
        updateProgress();

        // currentStep <= 1 Ë°®Á§∫Âè™ÊâßË°å‰∫ÜÁ¨¨0Ê≠•ÊàñËøòÊ≤°ÊâßË°åÔºå‰∏çËÉΩÂõûÈÄÄ
        document.getElementById('prevBtn').disabled = currentStep <= 1;
        document.getElementById('nextBtn').disabled = currentStep >= steps.length;
    }

    // ===== ‰∏ä‰∏ÄÊ≠• =====
    function prevStep() {
        // currentStep Ë°®Á§∫"‰∏ã‰∏ÄÊ≠•Â∞ÜÊâßË°åÁöÑÊ≠•È™§Á¥¢Âºï"
        // ÊâÄ‰ª•ÂΩìÂâçÊòæÁ§∫ÁöÑÊòØ steps[currentStep - 1]
        // Ë¶ÅÂõûÈÄÄ‰∏ÄÊ≠•ÔºåÈúÄË¶ÅÊòæÁ§∫ steps[currentStep - 2]
        if (currentStep <= 1) return; // Ëá≥Â∞ëÊâßË°åËøá1Ê≠•ÊâçËÉΩÂõûÈÄÄ

        const targetStep = currentStep - 2; // Ë¶ÅÂõûÂà∞ÁöÑÊ≠•È™§Á¥¢Âºï
        resetToStep(targetStep);
    }

    // ===== ÈáçÁΩÆÂà∞ÊåáÂÆöÊ≠•È™§ =====
    function resetToStep(targetStep) {
        // ÊöÇÂÅúÊí≠Êîæ
        pauseAnimation();

        // Ê∏ÖÁ©∫ÊâÄÊúâÂÜÖÂÆπÔºà‰∏çË∞ÉÁî®resetAnimationÔºåÊâãÂä®Ê∏ÖÁêÜÔºâ
        clearAllContent();

        // ÈáçÁΩÆÈò∂ÊÆµÁä∂ÊÄÅ
        currentStage = -1;

        // ÈáçÊñ∞ÊâßË°å‰ªé0Âà∞targetStepÁöÑÊâÄÊúâÊ≠•È™§
        for (let i = 0; i <= targetStep; i++) {
            const step = steps[i];
            if (step.stage !== currentStage) {
                updateStage(step.stage);
            }
            step.action();

            // ÊúÄÂêé‰∏ÄÊ≠•Êõ¥Êñ∞ËØ¥ÊòéÈù¢Êùø
            if (i === targetStep) {
                document.getElementById('explanationTitle').textContent = step.title;
                document.getElementById('explanationContent').innerHTML = step.explanation;
            }
        }

        // Êõ¥Êñ∞currentStep‰∏∫‰∏ã‰∏ÄÊ≠•ÁöÑÁ¥¢Âºï
        currentStep = targetStep + 1;
        updateProgress();

        // Êõ¥Êñ∞ÊåâÈíÆÁä∂ÊÄÅ
        document.getElementById('prevBtn').disabled = currentStep <= 1;
        document.getElementById('nextBtn').disabled = currentStep >= steps.length;
        document.getElementById('startBtn').disabled = false;
        document.getElementById('startBtn').innerHTML = '<span class="btn-icon">‚ñ∂</span> ÁªßÁª≠ <span class="keyboard-hint">Space</span>';
    }

    // ===== Ê∏ÖÁ©∫ÊâÄÊúâÂÜÖÂÆπÔºà‰∏çÈáçÁΩÆcurrentStepÔºâ =====
    function clearAllContent() {
        // Ê∏ÖÁ©∫ÂêÑÂå∫ÂüüÂÜÖÂÆπ
        document.getElementById('introContent').innerHTML = '';
        document.getElementById('compileAnalysis').innerHTML = '';
        document.getElementById('fatherClassContent').innerHTML = '';
        document.getElementById('sonClassContent').innerHTML = '';
        document.getElementById('stackContent').innerHTML = '';
        document.getElementById('heapContent').innerHTML = '';
        document.getElementById('methodContent').innerHTML = '';

        // ÁßªÈô§ÊâÄÊúâÈ´ò‰∫Æ
        document.querySelectorAll('.code-line').forEach(line => {
            line.classList.remove('highlight', 'focus');
        });

        // ÈöêËóèÊâÄÊúâÈò∂ÊÆµÈù¢Êùø
        document.querySelectorAll('.stage-panel').forEach(panel => {
            panel.classList.remove('active');
        });

        // ÁßªÈô§Âä®ÊÄÅÊ∑ªÂä†ÁöÑÂÖÉÁ¥†
        document.querySelectorAll('.runtime-stage > div:not(.memory-panel)').forEach(el => el.remove());
        document.querySelectorAll('.stage-content > div:not(.stage-panel)').forEach(el => el.remove());
    }

    // ===== ÂºÄÂßãËá™Âä®Êí≠Êîæ =====
    function startAnimation() {
        if (isPlaying) {
            pauseAnimation();
            return;
        }

        isPlaying = true;
        document.getElementById('startBtn').innerHTML = '<span class="btn-icon">‚è∏</span> ÊöÇÂÅú <span class="keyboard-hint">Space</span>';

        if (currentStep >= steps.length) {
            resetAnimation();
        }

        playNextStep();
    }

    function playNextStep() {
        if (!isPlaying || currentStep >= steps.length) {
            if (currentStep >= steps.length) {
                pauseAnimation();
            }
            return;
        }

        nextStep();
        playTimer = setTimeout(playNextStep, delays[speed]);
    }

    function pauseAnimation() {
        isPlaying = false;
        if (playTimer) {
            clearTimeout(playTimer);
            playTimer = null;
        }
        document.getElementById('startBtn').innerHTML = '<span class="btn-icon">‚ñ∂</span> ÁªßÁª≠ <span class="keyboard-hint">Space</span>';
    }

    // ===== ÈáçÁΩÆ =====
    function resetAnimation() {
        pauseAnimation();
        currentStep = 0;
        currentStage = -1;

        // ‰ΩøÁî®Ê∏ÖÁ©∫ÂÜÖÂÆπÂáΩÊï∞
        clearAllContent();

        // ÈáçÁΩÆËØ¥ÊòéÈù¢Êùø
        document.getElementById('explanationTitle').textContent = 'Ê¨¢ËøéÂºÄÂßãÂ≠¶‰π†';
        document.getElementById('explanationContent').innerHTML = `
            <p>ÁÇπÂáª<strong>"ÂºÄÂßãÂÆåÊï¥ÊºîÁ§∫"</strong>Êàñ<strong>"‰∏ã‰∏ÄÊ≠•"</strong>ÊåâÈíÆÂºÄÂßãÂ≠¶‰π†„ÄÇ</p>
            <p style="margin-top: 12px;">Êàë‰ª¨Â∞ÜÊåâÁÖß <strong class="text-compile">ÁºñËØëÊúü</strong> ‚Üí <strong class="text-classload">Á±ªÂä†ËΩΩÊúü</strong> ‚Üí <strong class="text-runtime">ËøêË°åÊúü</strong> ÁöÑÈ°∫Â∫èÔºåÂÆåÊï¥Â±ïÁ§∫JVMÊñπÊ≥ïË∞ÉÁî®ÁöÑÂÖ®ËøáÁ®ã„ÄÇ</p>
        `;

        updateTimeline();
        updateProgress();

        document.getElementById('startBtn').innerHTML = '<span class="btn-icon">‚ñ∂</span> ÂºÄÂßãÂÆåÊï¥ÊºîÁ§∫ <span class="keyboard-hint">Space</span>';
        document.getElementById('startBtn').disabled = false;
        document.getElementById('nextBtn').disabled = false;
        document.getElementById('prevBtn').disabled = true;
    }

    // ===== ÂàáÊç¢ÈÄüÂ∫¶ =====
    function toggleSpeed() {
        speed = speed >= 3 ? 1 : speed + 1;
        const speedTexts = { 1: 'Ê≠£Â∏∏', 2: 'Âø´ÈÄü', 3: 'ÊûÅÂø´' };
        document.getElementById('speedText').textContent = speedTexts[speed];
    }

    // ===== ÈîÆÁõòÂø´Êç∑ÈîÆ =====
    document.addEventListener('keydown', (e) => {
        if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') return;

        switch(e.key) {
            case 'ArrowRight':
                e.preventDefault();
                if (!isPlaying) nextStep();
                break;
            case 'ArrowLeft':
                e.preventDefault();
                if (!isPlaying) prevStep();
                break;
            case ' ':
                e.preventDefault();
                startAnimation();
                break;
            case 'r':
            case 'R':
                e.preventDefault();
                resetAnimation();
                break;
        }
    });

    // ===== Êó∂Èó¥Á∫øÁÇπÂáª‰∫ã‰ª∂ =====
    document.querySelectorAll('.timeline-item').forEach(item => {
        item.addEventListener('click', () => {
            const targetStage = parseInt(item.dataset.stage);

            // ÊâæÂà∞ÁõÆÊ†áÈò∂ÊÆµÁöÑÁ¨¨‰∏Ä‰∏™Ê≠•È™§
            for (let i = 0; i < steps.length; i++) {
                if (steps[i].stage === targetStage) {
                    resetToStep(i);
                    break;
                }
            }
        });
    });

    // ===== ÂàùÂßãÂåñ =====
    document.addEventListener('DOMContentLoaded', () => {
        updateProgress();
        document.getElementById('prevBtn').disabled = true;
    });
</script>
</body>
</html>