æ”¶åˆ°ï¼è¿™ä¹Ÿæ˜¯ä¸€ä¸ªéå¸¸æ˜æ™ºçš„é€‰æ‹©ã€‚

`this` æ˜¯ Java ä¸­æœ€å¸¸ç”¨çš„å…³é”®å­—ä¹‹ä¸€ï¼Œä½†å®ƒä¹Ÿæ˜¯æœ€â€œ**ç†Ÿæ‚‰çš„é™Œç”Ÿäºº**â€ã€‚å¾ˆå¤šåŒå­¦åªçŸ¥é“ `this.name = name`ï¼Œå´ä¸çŸ¥é“å®ƒèƒŒåçš„å†…å­˜æŒ‡å‘ã€‚

**ğŸ“ å½“å‰åæ ‡**
`ç¬¬ 4 å‘¨ > é¢å‘å¯¹è±¡æ ¸å¿ƒ > å…³é”®è¯è¯¦è§£ > this`

---

### ğŸ’¡ 1. ç¬¬ä¸€æ€§åŸç†ï¼š`this` åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ

ç”¨ä¸€å¥è¯æ¦‚æ‹¬ï¼š**`this` æ˜¯å½“å‰å¯¹è±¡çš„â€œè™šæ‹Ÿèº«ä»½è¯â€**ã€‚

åœ¨ JVM çš„åº•å±‚å®ç°ä¸­ï¼Œ`this` å¹¶ä¸æ˜¯ä»€ä¹ˆé­”æ³•ï¼Œå®ƒåªæ˜¯ä¸€ä¸ª**å¼•ç”¨ï¼ˆReferenceï¼‰**ï¼ŒæŒ‡å‘**å½“å‰æ­£åœ¨æ‰§è¡Œè¿™ä¸ªæ–¹æ³•çš„é‚£ä¸ªå¯¹è±¡**ã€‚

> **ç”Ÿæ´»ç¥æ¯”å–»**ï¼š
> å‡è®¾ä½ åªè¦å–Šä¸€å£°â€œ**æˆ‘çš„**â€ï¼Œå°±æ˜¯åœ¨ä½¿ç”¨ `this`ã€‚
> * å½“**å¼ ä¸‰**å–Šâ€œ**æˆ‘çš„**é’±åŒ…â€æ—¶ï¼Œ`this` æŒ‡å‘å¼ ä¸‰ã€‚
> * å½“**æå››**å–Šâ€œ**æˆ‘çš„**é’±åŒ…â€æ—¶ï¼Œ`this` æŒ‡å‘æå››ã€‚
>
>
> å³ä½¿ä»–ä»¬å–Šçš„è¯ï¼ˆä»£ç ï¼‰ä¸€æ¨¡ä¸€æ ·ï¼Œä½†å› ä¸ºè¯´è¯çš„äººï¼ˆå¯¹è±¡ï¼‰ä¸åŒï¼ŒæŒ‡ä»£çš„ä¸œè¥¿å°±ä¸åŒã€‚

---

### ğŸ§± 2. ä¸‰å¤§æ ¸å¿ƒç”¨æ³•è§£å‰–

#### ğŸŸ¢ ç”¨æ³•ä¸€ï¼šè§£å†³â€œæ’åâ€å±æœº (Variable Shadowing)

è¿™æ˜¯æœ€å¸¸è§çš„æƒ…å†µã€‚å½“**å±€éƒ¨å˜é‡**ï¼ˆæ–¹æ³•çš„å‚æ•°ï¼‰å’Œ**æˆå‘˜å˜é‡**ï¼ˆç±»çš„å±æ€§ï¼‰åŒåæ—¶ï¼ŒJava ä¼šè§¦å‘ **â€œå°±è¿‘åŸåˆ™â€**ã€‚

**åœºæ™¯**ï¼š

```java
public class Person {
    String name; // æˆå‘˜å˜é‡ (å †å†…å­˜)

    public void setName(String name) { // å‚æ•°å˜é‡ (æ ˆå†…å­˜)
        // âŒ é”™è¯¯å†™æ³•ï¼š
        // name = name; 
        // è§£é‡Šï¼šæ ¹æ®å°±è¿‘åŸåˆ™ï¼Œä¸¤ä¸ª name éƒ½æ˜¯æŒ‡å‚æ•°é‡Œçš„ nameã€‚
        // ç»“æœï¼šä½ æŠŠå‚æ•°çš„å€¼èµ‹ç»™äº†å‚æ•°è‡ªå·±ï¼Œæˆå‘˜å˜é‡æ ¹æœ¬æ²¡å˜ï¼

        // âœ… æ­£ç¡®å†™æ³•ï¼š
        this.name = name; 
        // è§£é‡Šï¼šthis.name æŒ‡å®šäº†æ˜¯â€œå½“å‰å¯¹è±¡çš„æˆå‘˜å˜é‡â€ã€‚
    }
}

```

**ğŸ”¬ å¾®åˆ›æ‰‹æœ¯ï¼š**

* `name` (å…‰ç§ƒç§ƒçš„) ğŸ‘‰ ä¼˜å…ˆæ‰¾æœ€è¿‘çš„ï¼ˆå±€éƒ¨å˜é‡/å‚æ•°ï¼‰ã€‚
* `this.name` (å¸¦å‰ç¼€çš„) ğŸ‘‰ å¼ºåˆ¶æ‰¾å¯¹è±¡çš„å±æ€§ï¼ˆæˆå‘˜å˜é‡ï¼‰ã€‚

#### ğŸŸ¢ ç”¨æ³•äºŒï¼šæ„é€ å™¨äº’è°ƒ (Constructor Chaining)

æˆ‘ä»¬åœ¨åˆšæ‰è®¨è®ºâ€œæ„é€ å™¨é‡è½½â€æ—¶å·²ç»è§è¿‡äº†ã€‚

* **è¯­æ³•**ï¼š`this(å‚æ•°...)`
* **è§„åˆ™**ï¼š
1. å¿…é¡»æ”¾åœ¨æ„é€ å™¨çš„**ç¬¬ä¸€è¡Œ**ã€‚
2. åªèƒ½åœ¨æ„é€ å™¨é‡Œè°ƒï¼Œä¸èƒ½åœ¨æ™®é€šæ–¹æ³•é‡Œè°ƒã€‚
3. **ç›®çš„**ï¼šå¤ç”¨ä»£ç ï¼Œå‡å°‘é‡å¤ã€‚



```java
public Person() {
    // è°ƒç”¨ä¸‹é¢é‚£ä¸ªæœ‰å‚æ„é€ å™¨
    this("æ— åæ°", 0); 
}

```

#### ğŸŸ¢ ç”¨æ³•ä¸‰ï¼šè¿”å›å¯¹è±¡æœ¬èº« (Chain Calling / Fluent API)

è¿™æ˜¯å¤§å‚ä»£ç ï¼ˆå¦‚ Spring, Builder æ¨¡å¼ï¼‰ä¸­éå¸¸é«˜çº§ä¸”ä¼˜é›…çš„ç”¨æ³•ã€‚
å®ƒå…è®¸ä½ åƒ**é“¾æ¡**ä¸€æ ·ä¸€ç›´ç‚¹ä¸‹å»ï¼š`p.setName().setAge().save();`

```java
public class Person {
    private String name;
    private int age;

    public Person setName(String name) {
        this.name = name;
        // ğŸ’¡ å…³é”®ç‚¹ï¼šæˆ‘ä¿®æ”¹å®Œå±æ€§åï¼ŒæŠŠè‡ªå·±(this)äº¤è¿˜ç»™ä½ 
        return this; 
    }

    public Person setAge(int age) {
        this.age = age;
        return this;
    }
}

// ğŸ’» è°ƒç”¨ç¤ºä¾‹ï¼š
// å¦‚æœæ²¡æœ‰ return thisï¼Œä½ å¾—å†™ä¸¤è¡Œã€‚æœ‰äº†å®ƒï¼Œä¸€è¡Œæå®šï¼
Person p = new Person();
p.setName("Gem").setAge(18); 

```

---

### ğŸ“Š 3. å†…å­˜å›¾è§£ï¼šJVM æ˜¯æ€ä¹ˆçŸ¥é“ `this` æ˜¯è°çš„ï¼Ÿ

è¿™æ˜¯ä¸€ä¸ª**æ·±åº¦çŸ¥è¯†ç‚¹**ã€‚
ä½ æœ‰æ²¡æœ‰æƒ³è¿‡ï¼Œ`setName` æ–¹æ³•çš„ä»£ç åœ¨å†…å­˜é‡Œåªæœ‰ä¸€ä»½ï¼ˆæ”¾åœ¨æ–¹æ³•åŒºï¼‰ï¼Œæˆåƒä¸Šä¸‡ä¸ªå¯¹è±¡å…±ç”¨è¿™ä¸€ä»½ä»£ç ã€‚
**JVM æ€ä¹ˆçŸ¥é“å½“å‰è¿™è¡Œ `this.name` æ”¹çš„æ˜¯å¼ ä¸‰çš„ name è¿˜æ˜¯æå››çš„ nameï¼Ÿ**

**ç§˜å¯†åœ¨äºï¼šéšå¼å‚æ•°ä¼ é€’**ã€‚

å½“ä½ è°ƒç”¨ `p1.setName("Gem")` æ—¶ï¼Œç¼–è¯‘å™¨æ‚„æ‚„åœ°æŠŠå®ƒå˜æˆäº†è¿™æ ·ï¼š

```java
// ä¼ªä»£ç ï¼šJVM å®é™…æ‰§è¡Œçš„é€»è¾‘
Person.setName(p1, "Gem"); 
//             ^
//             |__ ç¬¬ 0 å·å‚æ•°ï¼Œå°±æ˜¯ thisï¼

```

**ASCII å†…å­˜äº¤äº’ï¼š**

```text
æ ˆå†…å­˜ (Stack)                      å †å†…å­˜ (Heap)
+------------------+              +-------------------+
| main æ ˆå¸§         |              | p1 å¯¹è±¡ (0x11)    |
| p1 ------------- |----------->  | name: "Gem"       |
+------------------+              +-------------------+
        |                                 ^
        | è°ƒç”¨ p1.setName()               |
        v                                 |
+------------------+                      |
| setName æ ˆå¸§      |                      |
| å‚æ•° name = "Gem"|                      |
| éšå¼å‚æ•° this ----|----------------------+
+------------------+
// å½“ä»£ç æ‰§è¡Œ this.name = name æ—¶
// å®é™…ä¸Šæ˜¯é€šè¿‡ this è¿™ä¸ªå¼•ç”¨ï¼Œæ‰¾åˆ°äº†å †é‡Œçš„ 0x11 å¯¹è±¡

```

---

### â›”ï¸ 4. çº¢è‰²è­¦æˆ’åŒºï¼šStatic é‡Œé¢æ²¡æœ‰ `this`

è¿™æ˜¯æ–°æ‰‹åœ¨å†™ `main` æ–¹æ³•æ—¶æœ€å®¹æ˜“é‡åˆ°çš„æŠ¥é”™ï¼š
`java: non-static variable this cannot be referenced from a static context`

**åŸç†**ï¼š

* **Static (ç±»å±‚é¢)**ï¼šä»£è¡¨â€œè“å›¾â€ã€â€œå›¾çº¸â€ã€‚
* **This (å¯¹è±¡å±‚é¢)**ï¼šä»£è¡¨â€œæˆ¿å­â€ã€â€œå®ä¾‹â€ã€‚

**åœºæ™¯**ï¼š
ä½ åœ¨çœ‹**æˆ¿å±‹å›¾çº¸**ï¼ˆStatic æ–¹æ³•ï¼‰ï¼Œçªç„¶å¤§å–Šä¸€å£°â€œæŠŠ**æˆ‘çš„**æ²™å‘æ¬è¿‡æ¥â€ï¼ˆ`this.sofa`ï¼‰ã€‚
æ­¤æ—¶æˆ¿å­è¿˜æ²¡ç›–å‘¢ï¼Œå“ªæ¥çš„â€œæˆ‘çš„â€ï¼Ÿå“ªæ¥çš„â€œæ²™å‘â€ï¼Ÿ

```java
public class Test {
    int x = 10; // æˆå‘˜å˜é‡ï¼Œå±äºå¯¹è±¡

    public static void main(String[] args) {
        // âŒ é”™è¯¯ï¼main æ˜¯é™æ€æ–¹æ³•ï¼Œæ­¤æ—¶å¹¶æ²¡æœ‰ä»»ä½•å¯¹è±¡å®ä¾‹
        // System.out.println(this.x); 
        
        // âœ… æ­£ç¡®åšæ³•ï¼šå¿…é¡»å…ˆ new ä¸€ä¸ªå¯¹è±¡
        Test t = new Test();
        System.out.println(t.x);
    }
}

```

---
