在 Java 中，进行键盘输入最常用和推荐的方式是使用 **`java.util.Scanner`** 类。

以下是使用 `Scanner` 实现键盘输入语句的完整步骤和常用方法：

---

### 1\. 导入 Scanner 类

`Scanner` 类不在 Java 的核心包中，所以必须先导入它：

```java
import java.util.Scanner;
```

**`import java.util.Scanner;` 的原理：类的加载与命名空间**

- **不在核心包中：** Java 为了节省资源，默认只自动加载核心包 `java.lang`（里面有 `String`, `System`, `Math` 等）。而 `Scanner` 位于 `java.util` 工具包中。
- **告诉编译器：** 这句话就像是在对编译器说：“待会儿如果我用到 `Scanner` 这个词，请去 `java.util` 这个文件夹下找它的定义。”
- **如果不写：** 编译器不知道 `Scanner` 是什么，会报错。除非你每次都写全名 `java.util.Scanner s = ...`。

### 2\. 创建 Scanner 对象

要使用 `Scanner`，需要创建一个它的实例，并将其与标准输入流 `System.in` 关联起来。

```java
Scanner scanner = new Scanner(System.in);
```

**原理：流的包装 (Wrapping) 与 字节转字符**

这一行代码是最关键的，它实际上结合了两个层面的东西：

- **源头：`System.in` (字节流)**
  - `System.in` 是 Java 获取操作系统 **标准输入（Standard Input）** 的接口。
  - **它很“笨”：** 它只认识**字节 (byte)**，也就是二进制数据。即使你输入数字 `1`，它也只认为是 ASCII 码对应的字节值。它不认识什么是“整数”，什么是“单词”。
- **加工者：`Scanner` (文本扫描器)**
  - `Scanner` 是一个高级的**包装器**，`scanner` 是创建的 `Scanner` 实例名，用于调用后续的输入方法。
  - 它的构造函数接受一个字节流 (`System.in`)，内部会将这些字节流通过字符集（默认通常是 UTF-8）解码成字符流，然后提供各种逻辑来分析这些字符。

---

### 3\. 读取不同类型的数据

`Scanner` 类提供了一系列 `next...()` 方法来读取不同类型的数据。

#### 常用输入方法表：

| 方法                | 返回类型  | 基本功能描述                     | 结束读取的条件                                                        | 细节说明                                                                                     |
| :------------------ | :-------- | :------------------------------- | :-------------------------------------------------------------------- | :------------------------------------------------------------------------------------------- |
| **`nextInt()`**     | `int`     | 读取下一个整数。                 | 遇到**任意分隔符**（空格、Tab、换行符）或**非数字字符**时结束。       | 在读取前会跳过所有前导分隔符。                                                               |
| **`nextDouble()`**  | `double`  | 读取下一个双精度浮点数。         | 遇到**任意分隔符**（空格、Tab、换行符）或**非浮点数字符**时结束。     | 在读取前会跳过所有前导分隔符。                                                               |
| **`nextByte()`**    | `byte`    | 读取下一个字节。                 | 遇到**任意分隔符**或**非数字字符**时结束。                            | 在读取前会跳过所有前导分隔符。                                                               |
| **`nextBoolean()`** | `boolean` | 读取下一个布尔值。               | 读取到 `true` 或 `false` 对应的字符序列后，遇到**任意分隔符**时结束。 | 必须是 `true` 或 `false`（不区分大小写），否则抛出 `InputMismatchException`。                |
| **`next()`**        | `String`  | 读取下一个单词或 Token。         | 遇到**任意分隔符**（空格、Tab、换行符）时停止。                       | 在读取前会跳过所有前导分隔符。                                                               |
| **`nextLine()`**    | `String`  | 读取光标位置直到行尾的所有字符。 | 遇到**换行符** (`\n`) 时停止。                                        | **不会**将空格视为分隔符，而是将其作为字符串内容的一部分。读取完毕后，会**消耗掉**该换行符。 |

**`int i = sc.nextInt();` 的原理：缓冲区 (Buffer)、阻塞与游标**

当程序运行到这一行时，发生了复杂的交互：

1.  **阻塞 (Blocking)：** 程序会**暂停**在这里。为什么？因为 `Scanner` 在等待操作系统的输入缓冲区中有数据。如果缓冲区是空的，程序就挂起，直到用户按下键盘。
2.  **缓冲区 (Buffer)：** 当你在键盘上敲击 `1` `2` `3` 时，这些数据**并没有**立刻进入程序，而是暂存在操作系统的**缓冲区**里。
3.  **触发点 (Enter 键)：** 只有当你按下 **回车 (Enter)** 键，操作系统才会把这一行数据（包括回车符）发送给 `Scanner`。
4.  **解析与分隔符：**
    - `Scanner` 拿到数据后，开始扫描。
    - `nextInt()` 的规则是：跳过空白（空格、Tab、换行），找到数字字符，直到遇到下一个空白符停止。
    - 它将找到的字符 `'1'`, `'2'`, `'3'` 截取下来，转换成 `int` 类型的数值 `123` 并赋值给变量。
5.  **游标 (Cursor) 残留：**
    - 这是最容易出 Bug 的地方。`nextInt()` 只拿走了数字 `123`，但用户敲入的**回车符 (`\n`) 还在缓冲区里**！
    - 如果你紧接着调用 `nextLine()`，它会发现缓冲区里第一个字符就是 `\n`（换行），于是认为读到了空行，立刻结束。这就是所谓的“吞行”现象。

---

### 4\. 关闭 Scanner 对象（重要！）

**当您使用完 `Scanner` 对象后，一定要调用 `close()` 方法。**

```java
scanner.close();
```

**原理：资源释放 (Resource Management)**

- **IO 流的代价：** `System.in` 连接的是底层的操作系统资源（文件句柄或硬件端口）。这些资源是有限的。
- **断开连接：** `close()` 告诉 JVM 和操作系统：“我不读了，切断连接，把内存清理掉。”
- **特殊注意事项 (坑)：**
  - `Scanner` 的 `close()` 方法会**连带关闭**它所包装的输入流。
  - 也就是说，`sc.close()` 会把 `System.in` 给关掉。
  - **后果：** 在同一个程序的后续运行中，一旦 `System.in` 被关闭，你就**再也无法**通过键盘读取数据了，即使你重新 `new Scanner(System.in)` 也不行，因为底层的“水管”已经被焊死了。
  - **最佳实践：** 对于键盘输入（标准输入），通常不需要显式关闭，或者只在程序彻底结束前关闭。

### 5\. 示例

```java
import java.util.Scanner;

public class InputDemo {
    public static void main(String[] args) {
        // 步骤 2: 创建 Scanner 对象
        Scanner scanner = new Scanner(System.in);

        // 1. 读取整数 (int)
        System.out.print("请输入一个整数: ");
        int number = scanner.nextInt();
        System.out.println("您输入的整数是: " + number);

        // 2. 读取字符串 (String) - 读取到空格或换行符结束
        System.out.print("请输入一个单词或短语 (无空格): ");
        String word = scanner.next();
        System.out.println("您输入的单词是: " + word);

        // 注意： 在 next() 或 nextInt() 之后读取 nextLine() 时，
        // 可能会读取到前面留下的换行符。需要额外处理或直接使用 nextLine()。
        // 为了演示，我们暂时跳过这个问题，或者确保在 nextLine() 之前没有 next()。

        // 3. 读取一行字符串 (String) - 读取到换行符结束
        System.out.print("请输入一整行文本: ");
        // 这一行用于清除前一个 nextInt/next 遗留的换行符
        scanner.nextLine();
        String line = scanner.nextLine();
        System.out.println("您输入的整行文本是: " + line);

        // 4. 读取浮点数 (double)
        System.out.print("请输入一个浮点数: ");
        double decimal = scanner.nextDouble();
        System.out.println("您输入的浮点数是: " + decimal);

        // 5. 读取布尔值 (boolean)
        System.out.print("请输入布尔值 (true/false): ");
        boolean boolVal = scanner.nextBoolean();
        System.out.println("您输入的布尔值是: " + boolVal);

        // 步骤 4: 关闭 Scanner 对象
        scanner.close();
    }
}
```
