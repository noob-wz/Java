在 Java 中，我们主要使用 **`java.util.Scanner`** 这个工具类来接收键盘输入。它就像一个精通多种翻译的“传达室大爷”，把键盘敲入的字节流翻译成我们需要的整数、小数或字符串。

---

### 💡 核心概念

**【角色定位】**
`Scanner` 是一个**文本扫描器**。
它连接了 **`System.in`**（标准输入流，通常指键盘）和你的程序。

**【生活化比喻】**

* **System.in**：像一根水管，你的键盘敲击产生的水流（字节）不断流进来。
* **Scanner**：像安装在水管上的**过滤器**。
* 你想喝水（`next()`），它就给你过滤出字符串。
* 你想吃冰块（`nextInt()`），它就给你过滤出整数。



---

### 🔬 语法解剖：三步走

要使用它，必须严格遵守“**导包 -> 创建 -> 使用**”的流程。

#### 1. 导包 (Import)

这就好比你要用锤子，得先去工具房把它拿出来。

```java
import java.util.Scanner; // 必须写在代码文件的第一行

```

#### 2. 创建对象 (Instantiate)

创建一个监听器对象。

```java
//     类型    变量名          动作          参数(来源)
Scanner  sc   =   new Scanner(System.in);

```

* `System.in`: 指代“标准输入设备”（键盘）。

#### 3. 读取数据 (Read)

根据你要的数据类型，调用不同的方法。

| 方法名 | 作用 | 读取规则 (重点) |
| --- | --- | --- |
| **`next()`** | 读字符串 | 遇到空格、回车、Tab 就停止 (读不到带空格的句子) |
| **`nextLine()`** | 读一行 | **遇到回车才停止** (可以读带空格的句子) |
| **`nextInt()`** | 读整数 | 只读数字，不读回车 |
| **`nextDouble()`** | 读小数 | 只读数字，不读回车 |

---

### 💻 全流程代码演示

这是一个简单的“用户注册”模拟程序。

```java
import java.util.Scanner; // 1. 导包

public class InputDemo {
    public static void main(String[] args) {
        // 2. 创建扫描器对象
        Scanner sc = new Scanner(System.in);

        // 3. 开始交互
        System.out.println("=== 欢迎注册 ===");
        
        System.out.print("请输入昵称: ");
        String name = sc.next(); // 接收字符串
        
        System.out.print("请输入年龄: ");
        int age = sc.nextInt();  // 接收整数
        
        System.out.print("请输入身高(米): ");
        double height = sc.nextDouble(); // 接收小数

        // 4. 展示结果
        System.out.println("\n--- 注册成功 ---");
        System.out.println("用户: " + name);
        System.out.println("年龄: " + age);
        System.out.println("身高: " + height);
        
        // 5. 释放资源 (大厂规范)
        sc.close(); 
    }
}

```

---

### ⚠️ 必坑指南：回车键幽灵 (The Newline Trap)

这是 99% 的初学者都会踩的坑，请务必注意！

**现象：**
如果你**先用 `nextInt()`**，紧接着**再用 `nextLine()`**，你会发现程序**直接跳过了**第二次输入，没让你填就结束了。

**原因图解：**

1. 输入 `18` 然后按了回车 `[Enter]`。
2. 输入缓冲区里其实是：`18` + `\n` (换行符)。
3. `nextInt()` 只拿走了 `18`，**把 `\n` 留在了管子里**。
4. 紧接着 `nextLine()` 一看管子里有个 `\n`，它以为输入结束了，直接读取了一个空字符串。

**✅ 解决方案：**
在读取数字后，手动加一句 `nextLine()` 把那个残留的回车“吃掉”。

```java
int age = sc.nextInt();
// 【关键】手动吃掉残留的回车符
sc.nextLine(); 

System.out.println("请输入自我介绍(长句):");
String intro = sc.nextLine(); // 现在可以正常输入了

```

---

### 💼 大厂编码规范

1. **资源关闭 (Resource Leak)**
   * **规范**：`Scanner` 使用了 I/O 流，用完必须调用 `sc.close()`。
   * **理由**：虽然在简单的 `main` 方法里不关也没大事（程序结束会自动释放），但在服务器端长期运行的程序中，不关闭会导致内存泄漏。

2. **非法输入处理**
   * **规范**：用户永远是不可信的。让他输数字，他可能输 "abc"。
   * **做法**：使用 `sc.hasNextInt()` 先判断，或者用 `try-catch` 捕获异常，防止程序崩溃。


```java
System.out.print("请输入年龄: ");
if (sc.hasNextInt()) {
    int age = sc.nextInt();
} else {
    System.out.println("输入错误！请输入纯数字！");
}

```



---

