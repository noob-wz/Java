## 🔁 `continue` 语句用法说明

`continue` 语句是 Java 语言中用于控制循环流程的另一个重要关键字。与 `break` 语句用于**终止**循环不同，`continue` 用于**跳过**循环体的**剩余部分**，并立即开始下一次迭代。

---

## 🔁 `continue` 语句用法说明

`continue` 语句只能用于三种循环结构中：`for` 循环、`while` 循环和 `do-while` 循环（以及增强型 `for` 循环）。

### 1\. 核心作用

`continue` 的作用是：

1.  **跳过：** 立即停止执行当前这次循环迭代中 `continue` 语句之后的所有代码。
2.  **继续：** 转移控制权到循环的**下一次迭代**。

### 2\. 在不同循环中的行为差异

虽然核心作用一致，但在不同循环中，`continue` 语句跳转到的位置略有不同：

|         循环类型         |                        `continue` 后的跳转目标                        |
| :----------------------: | :-------------------------------------------------------------------: |
|      **`for` 循环**      | 跳转到 **更新表达式**（例如 `i++`）进行求值，然后进入下一次条件判断。 |
| **`while` / `do-while`** |                  跳转到 **条件判断** 表达式的开头。                   |

#### 🌰 示例一：`for` 循环 (跳过负数)

假设我们要计算数组中所有**非负数**的和：

```java
public class ContinueExample1 {
    public static void main(String[] args) {
        int[] nums = {5, -2, 10, -5, 8};
        int sum = 0;

        for (int i = 0; i < nums.length; i++) {
            // 如果遇到负数，就跳过这次循环
            if (nums[i] < 0) {
                continue; // 立即跳转到 i++ (更新表达式)
            }

            sum += nums[i]; // 只有非负数才会执行到这里
        }

        System.out.printf("非负数的总和是: %d\n", sum); // 输出: 5 + 10 + 8 = 23
    }
}
```

**执行流程分析：** (与 C 语言流程相同)

1.  `i=0`, `nums[i]=5`：不满足 `if`，`sum` 变为 5。
2.  `i=1`, `nums[i]=-2`：满足 `if`，执行 `continue`。程序立即跳到 `i++`。
3.  `i=2`, `nums[i]=10`：不满足 `if`，`sum` 变为 15。
4.  `i=3`, `nums[i]=-5`：满足 `if`，执行 `continue`。程序立即跳到 `i++`。
5.  `i=4`, `nums[i]=8`：不满足 `if`，`sum` 变为 23。

#### 🌰 示例二：`while` 循环 (避免除以零)

假设我们想打印 $1$ 到 $5$ 之间所有数的倒数，但避免某个数：

```java
public class ContinueExample2 {
    public static void main(String[] args) {
        int i = 0;

        while (i < 5) {
            i++; // ⚠️ 重要：先递增，避免无限循环

            if (i == 3) {
                System.out.println("跳过 3 的倒数。");
                continue; // 立即跳转到 while (i < 5) 的条件判断
            }

            System.out.printf("1/%d = %.2f\n", i, 1.0 / i);
        }
    }
}
```

**⚠️ 避免无限循环：**

在使用 `continue` 语句的 `while` 或 `do-while` 循环中，必须确保用于控制循环的变量（如上例中的 `i`）在 `continue` **之前**被更新。如果 `i++` 被放在 `continue` 之后，当满足 `if (i == 3)` 时，程序将跳过 `i++`，`i` 的值将永远保持 $3$，导致 **无限循环**。

### 3\. 嵌套循环中的行为

与 `break` 类似，`continue` 语句也只作用于**包含它的最内层循环**，不过是最内存层循环的当前迭代。它只会跳过当前内层循环的剩余部分，而不会影响外层循环的迭代。

```java
for (int i = 0; i < 2; i++) {
    for (int j = 0; j < 3; j++) {
        if (j == 1) {
            continue; // 只跳过内层 j 循环的 j=1 这次迭代
        }
        System.out.printf("(%d, %d) ", i, j);
    }
}
// 输出: (0, 0) (0, 2) (1, 0) (1, 2)
```

另外，`continue` 语句也可 **搭配标签** 使用，**可以指定跳出内层或者外层的当前循环迭代**

```java
public class LabelContinueExample {
    public static void main(String[] args) {

        System.out.println("--- 开始执行 ---");

        // 1. 定义标签（Label）：命名为 'OUTER_LOOP'
        OUTER_LOOP:
        for (int i = 1; i <= 3; i++) {
            System.out.println("  > 外层循环 (i): " + i);

            for (int j = 1; j <= 3; j++) {
                System.out.println("    - 内层循环 (j): " + j);

                // 假设我们设定条件：当 i=2, j=2 时，我们要跳过 i=2 的剩余所有操作
                // 并且直接进入 i=3 的迭代。
                if (i == 2 && j == 2) {

                    // 2. 使用 continue 搭配标签：
                    //    程序将立即跳出当前内层循环的剩余部分，
                    //    并跳转到标签 OUTER_LOOP 所标识循环的【更新表达式】处（i++），
                    //    然后开始下一次迭代 (i=3)。
                    System.out.println("      【触发 continue OUTER_LOOP】");
                    continue OUTER_LOOP;
                }
            }

            // 只有当内层循环正常执行完毕（或者只使用了普通的 continue）时，
            // 才会执行到这里。注意 i=2 时这里会被跳过。
            System.out.println("  < 外层循环 i=" + i + " 正常收尾。");
        }

        System.out.println("--- 执行完毕 ---");
    }
}

// 输出结果：
//   --- 开始执行 ---
//   > 外层循环 (i): 1
//     - 内层循环 (j): 1
//     - 内层循环 (j): 2
//     - 内层循环 (j): 3
//   < 外层循环 i=1 正常收尾。
//   > 外层循环 (i): 2
//     - 内层循环 (j): 1
//     - 内层循环 (j): 2
//       【触发 continue OUTER_LOOP】
//   > 外层循环 (i): 3
//     - 内层循环 (j): 1
//     - 内层循环 (j): 2
//     - 内层循环 (j): 3
//   < 外层循环 i=3 正常收尾。
// --- 执行完毕 ---
//         sc.close();
```

### 总结

- **`continue`**：**跳过包含它的内存循环的当前迭代**，进入下一次循环。
- **`break`**：**终止包含它的最内存整个循环**，跳到循环体外。

### ⚠️ 注意事项

1.  **只能用于循环：** `continue` **不能** 用于 `if` 语句或 `switch` 语句。
2.  **避免无限循环：** 在使用 `while` 或 `do-while` 循环时，如果 `continue` 语句跳过了更新循环变量的代码，可能会导致条件永远为真，从而造成**无限循环**。
