## ç¬¬1éƒ¨åˆ†ï¼šå»ºç«‹è®¤çŸ¥ï¼ˆWhat & Whyï¼‰

### ğŸ“¦ 1.1 æ ¸å¿ƒè¯­æ³•è§£å‰– *ğŸ’¡ æ ¸å¿ƒå¿…å­¦*

æˆ‘ä»¬æ¯å¤©éƒ½å†™ `psvm`ï¼Œä½†ä½ æ˜¯å¦æ€è€ƒè¿‡ä¸ºä»€ä¹ˆå®ƒå¿…é¡»é•¿è¿™æ ·ï¼Ÿ

```java
// æ ‡å‡†ç­¾å (Java 17 LTS æ ‡å‡†)
public static void main(String[] args) {
    // å¯åŠ¨é€»è¾‘
}

```

**é€è¯æ˜¾å¾®é•œåˆ†æ**ï¼š

1. **`public`**ï¼š
   * **å«ä¹‰**ï¼šå…¬å¼€çš„ã€‚
   * **åŸå› **ï¼šJVM æ˜¯ä¸€ä¸ªå¤–éƒ¨ç¨‹åºï¼Œå®ƒéœ€è¦è°ƒç”¨ä½ çš„ç±»ã€‚å¦‚æœä¸æ˜¯ `public` ï¼ŒJVM è¿›ä¸æ¥ã€‚

2. **`static`**ï¼ˆå…³é”®ï¼ï¼‰ï¼š
   * **å«ä¹‰**ï¼šé™æ€çš„ï¼Œå±äºç±»çš„ã€‚
   * **åŸå› **ï¼š**è¿™æ˜¯å…ˆæœ‰é¸¡è¿˜æ˜¯å…ˆæœ‰è›‹çš„é—®é¢˜**ã€‚
   * ç¨‹åºè¿˜æ²¡è·‘èµ·æ¥ï¼Œå†…å­˜é‡Œæ²¡æœ‰ä»»ä½•å¯¹è±¡ï¼ˆInstanceï¼‰ã€‚JVM æƒ³è¿è¡Œä»£ç ï¼Œåªèƒ½æ‰¾â€œä¸éœ€è¦å¯¹è±¡å°±èƒ½è°ƒç”¨çš„æ–¹æ³•â€ï¼Œé‚£å°±æ˜¯ `static` æ–¹æ³•ã€‚

3. **`void`**ï¼š
   * **å«ä¹‰**ï¼šæ— è¿”å›å€¼ã€‚
   * **åŸå› **ï¼šä¸»çº¿ç¨‹ç»“æŸå°±ç»“æŸäº†ï¼Œä¸éœ€è¦æŠŠç»“æœâ€œè¿”å›â€ç»™ JVM ä»£ç ä¸­ã€‚å¦‚æœéœ€è¦å‘Šè¯‰æ“ä½œç³»ç»Ÿç¨‹åºçš„æ‰§è¡ŒçŠ¶æ€ï¼ˆæˆåŠŸ/å¤±è´¥ï¼‰ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨ `System.exit(int status)`ã€‚

4. **`main`**ï¼š
   * **å«ä¹‰**ï¼šçº¦å®šä¿—æˆçš„åå­—ã€‚
   * **åŸå› **ï¼šJVM çš„æºä»£ç é‡Œå†™æ­»äº†ï¼Œå®ƒå°±æ‰¾å« `main` çš„æ–¹æ³•ã€‚

5. **`String[] args`**ï¼š
   * **å«ä¹‰**ï¼šå­—ç¬¦ä¸²æ•°ç»„å‚æ•°ã€‚
   * **åŸå› **ï¼šç”¨æ¥æ¥æ”¶å‘½ä»¤è¡Œä¼ è¿›æ¥çš„å‚æ•°ï¼ˆæ¯”å¦‚ `java MyApp --config=prod`ï¼‰ã€‚

---

### âš™ï¸ 1.2 å¯åŠ¨æµç¨‹ï¼šJVM åˆ°åº•åšäº†ä»€ä¹ˆï¼Ÿ *â­ è¿›é˜¶é€‰å­¦*

å½“ä½ è¾“å…¥ `java MyApp` å›è½¦æ—¶ï¼Œæ“ä½œç³»ç»Ÿå’Œ JVM å‘ç”Ÿäº†ä¸€æ¬¡ç²¾å¯†çš„æ¥åŠ›ã€‚

**ASCII å¯åŠ¨å›¾**ï¼š

```
[ç”¨æˆ·ç»ˆç«¯] è¾“å…¥ java MyApp
     |
     v
[æ“ä½œç³»ç»Ÿ OS]
     | 1. å¯åŠ¨ JVM è¿›ç¨‹
     v
[JVM è™šæ‹Ÿæœº]
     | 2. åŠ è½½ MyApp.class åˆ°å…ƒç©ºé—´ (Metaspace)
     | 3. æ£€æŸ¥: æœ‰æ²¡æœ‰ public static void main?
     |
     +--- YES --> [ä¸»çº¿ç¨‹ Main Thread]
                    |
                    |-- 4. å‹å…¥ main() æ ˆå¸§
                    |-- 5. æ‰§è¡Œä»£ç ...

```

**å…³é”®ç‚¹**ï¼š
`main` æ–¹æ³•å¹¶ä¸ç‰¹æ®Šï¼Œå®ƒåªæ˜¯ä¸€ä¸ªè¢« JVM ç¡¬ç¼–ç è°ƒç”¨çš„**æ™®é€šé™æ€æ–¹æ³•**ã€‚ä½ å®Œå…¨å¯ä»¥åœ¨ä»£ç çš„å…¶ä»–åœ°æ–¹æ‰‹åŠ¨è°ƒç”¨ `main(null)`ï¼Œè™½ç„¶æ²¡äººè¿™ä¹ˆå¹²ã€‚

---

## ç¬¬2éƒ¨åˆ†ï¼šå·¥ç¨‹å®è·µï¼ˆHow to Do Rightï¼‰

### ğŸŒ 2.1 çœŸå®çš„ä¸šåŠ¡èŒè´£ *ğŸ’¡ æ ¸å¿ƒå¿…å­¦*

**âŒ é”™è¯¯åšæ³•ï¼šä¸Šå¸æ–¹æ³• (God Method)**
åˆå­¦è€…æœ€å®¹æ˜“æŠŠæ‰€æœ‰ä¸šåŠ¡é€»è¾‘éƒ½å†™åœ¨ `main` é‡Œã€‚

```java
public class App {
    public static void main(String[] args) {
        // âŒ é”™è¯¯ï¼šä¸šåŠ¡é€»è¾‘å †ç§¯
        System.out.println("è¿æ¥æ•°æ®åº“...");
        System.out.println("æŸ¥è¯¢ç”¨æˆ·...");
        System.out.println("è®¡ç®—æŠ¥è¡¨...");
        // ç”šè‡³è¿˜åœ¨ main é‡Œå®šä¹‰ç±»...
    }
}

```

**âœ… æ­£ç¡®åšæ³•ï¼šå¯åŠ¨å™¨ (Bootstrapper)**
`main` æ–¹æ³•åªæœ‰ä¸€ä¸ªèŒè´£ï¼š**å¯åŠ¨ç¨‹åºï¼Œç„¶åå°½å¿«ç¦»åœº**ã€‚å®ƒåº”è¯¥åƒé…’åº—çš„è¿å®¾å‘˜ï¼ŒæŠŠå®¢äººé¢†è¿›å»åï¼Œåç»­æœåŠ¡äº¤ç»™å…¶ä»–å‘˜å·¥ã€‚

```java
public class App {
   public static void main(String[] args) {
      // 1. è§£æé…ç½® (è¯»å– args)
      Config config = ConfigLoader.load(args);

      // 2. åˆå§‹åŒ–æ ¸å¿ƒæœåŠ¡ (ä¾èµ–æ³¨å…¥)
      CodeBlockExercise01 service = new CodeBlockExercise01(config);

      // 3. å¯åŠ¨åº”ç”¨
      // ä¹‹åæ‰€æœ‰çš„é€»è¾‘éƒ½ç”±å¯¹è±¡çš„å®ä¾‹æ–¹æ³•å»å¤„ç†
      service.start();
   }
}

```

---

### ğŸ” 2.2 å¤„ç†å‘½ä»¤è¡Œå‚æ•°

**åœºæ™¯**ï¼šä½ éœ€è¦æ ¹æ®è¾“å…¥å†³å®šè¿è¡Œç¯å¢ƒã€‚
`java App prod`

```java
public static void main(String[] args) {
    // å¿…é¡»åˆ¤ç©ºï¼Œé˜²æ­¢æ•°ç»„è¶Šç•Œ
    if (args.length > 0 && args[0].equals("prod")) {
        System.out.println("ç”Ÿäº§ç¯å¢ƒå¯åŠ¨...");
    } else {
        System.out.println("é»˜è®¤å¼€å‘ç¯å¢ƒå¯åŠ¨...");
    }
}

```

**å·¥ç¨‹è§„èŒƒ**ï¼šä¸è¦æ‰‹åŠ¨è§£æå¤æ‚çš„å‚æ•°ï¼ˆæ¯”å¦‚ `-p 8080 --host localhost`ï¼‰ã€‚
**æ¨èä½¿ç”¨åº“**ï¼šå¦‚ **JCommander** æˆ– **Picocli**ã€‚å®ƒä»¬èƒ½æŠŠ `String[] args` è‡ªåŠ¨æ˜ å°„æˆ Java å¯¹è±¡ï¼Œæ—¢ä¼˜é›…åˆå¥å£®ã€‚

---

## ç¬¬3éƒ¨åˆ†ï¼šç‰ˆæœ¬æ¼”è¿›ï¼ˆThe Futureï¼‰

è™½ç„¶æˆ‘ä»¬è¦å†™ç¬¦åˆ Java 17 LTS è§„èŒƒçš„ä»£ç ï¼Œä½†ä½ å¿…é¡»çŸ¥é“ Java 21 å¸¦æ¥çš„å·¨å˜ã€‚

### ğŸ”„ 3.1 æç®€ä¸»ä¹‰ (Java 21+)

åˆå­¦è€…æœ€å¤§çš„ç—›ç‚¹æ˜¯ï¼š*â€œæˆ‘åªæƒ³æ‰“å°ä¸ª Hello Worldï¼Œä¸ºä»€ä¹ˆè¦å†™ classï¼Œå†™ public static void mainï¼Œè¿˜è¦æ‡‚ String[] argsï¼Ÿâ€*

ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒJava 21 (JEP 463) å¼•å…¥äº† **â€œæœªå‘½åç±»â€** å’Œ **â€œå®ä¾‹ Main æ–¹æ³•â€**ã€‚

**ä¼ ç»Ÿå†™æ³• (Java 1.0 - Java 20)**ï¼š

```java
public class HelloWorld { 
    public static void main(String[] args) { 
        System.out.println("Hello, World!"); 
    }
}

```

**ç°ä»£å†™æ³• (Java 21 Preview / Java 22+)**ï¼š
ä½ æ²¡çœ‹é”™ï¼Œç±»åä¸è¦äº†ï¼Œpublic static ä¹Ÿä¸è¦äº†ï¼Œargs ä¹Ÿä¸è¦äº†ã€‚

```java
void main() {
    System.out.println("Hello, Modern Java!");
}

```

**èƒŒåçš„åŸç†**ï¼š
JVM ä¾ç„¶ä¼šè‡ªåŠ¨ç»™ä½ å¥—ä¸Šä¸€ä¸ªç±»ï¼Œä¾ç„¶ä¼šæŠŠå®ƒè§†ä½œå…¥å£ã€‚è¿™æ˜¯ä¸ºäº†è®©æ–°æ‰‹æ›´å¿«ä¸Šæ‰‹ï¼Œä½†åœ¨**å¤§å‹å·¥ç¨‹**ä¸­ï¼Œæˆ‘ä»¬ä¾ç„¶ä¸¥æ ¼éµå®ˆ `public static void main` çš„æ ‡å‡†å†™æ³•ã€‚

---

### ğŸ“ å®æˆ˜æŒ‘æˆ˜

**åœºæ™¯**ï¼š
ä½ éœ€è¦å†™ä¸€ä¸ªç¨‹åºï¼Œæ¨¡æ‹Ÿâ€œç™»å½•ç³»ç»Ÿâ€çš„å…¥å£ã€‚

**è¦æ±‚**ï¼š

1. å¦‚æœç”¨æˆ·æ²¡æœ‰ä¼ é€’ä»»ä½•å‚æ•°ï¼Œæ‰“å°â€œè¯·è¾“å…¥ç”¨æˆ·åâ€ã€‚
2. å¦‚æœç”¨æˆ·ä¼ é€’äº†å‚æ•°ï¼Œå–ç¬¬ä¸€ä¸ªå‚æ•°ä½œä¸ºç”¨æˆ·åï¼Œå¹¶è°ƒç”¨ä¸€ä¸ªéé™æ€çš„ `login()` æ–¹æ³•ã€‚
3. **æ ¸å¿ƒè€ƒå¯Ÿ**ï¼šå¦‚ä½•åœ¨é™æ€çš„ `main` ä¸­è°ƒç”¨éé™æ€çš„ `login`ï¼Ÿ

**ä»£ç æ¡†æ¶**ï¼š

```java
public class LoginApp {

    public void login(String user) {
        System.out.println(user + " æ­£åœ¨ç™»å½•ç³»ç»Ÿ...");
    }

    public static void main(String[] args) {
        // TODO: è¯·å®ç°é€»è¾‘
        // 1. æ£€æŸ¥å‚æ•°
        // 2. è°ƒç”¨ login æ–¹æ³• (æ³¨æ„è¿™é‡Œæ˜¯é™æ€ç¯å¢ƒï¼)
    }
}

```

ğŸ“ **è¯·æäº¤ä½ çš„ä»£ç ã€‚**

```java
public class LoginApp {
    public void login(String user) {
        System.out.println(user + " æ­£åœ¨ç™»å½•ç³»ç»Ÿ...");
    }

    public static void main(String[] args) {
        // TODO: è¯·å®ç°é€»è¾‘
        // 1. æ£€æŸ¥å‚æ•°
        if (args.length == 0) {
            System.out.println("è¯·è¾“å…¥ç”¨æˆ·åï¼");
            return;
        } 
        
        // 2. è°ƒç”¨ login æ–¹æ³• (æ³¨æ„è¿™é‡Œæ˜¯é™æ€ç¯å¢ƒï¼)
        new LoginApp().login(args[0]);
    }
}```