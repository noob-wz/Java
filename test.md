è¿™éå¸¸æœ‰å‹‡æ°”ï¼æ£€éªŒâ€œæ‡‚æ²¡æ‡‚â€çš„æœ€å¥½æ–¹å¼å°±æ˜¯åšé¢˜ï¼Œå°¤å…¶æ˜¯é‚£äº›ä¸“é—¨è®¾è®¡æ¥â€œåç›´è§‰â€çš„é™·é˜±é¢˜ã€‚

æˆ‘ä¸ºä½ å‡†å¤‡äº† **5 é“** ç»å…¸çš„â€œæ¶æ„å¸ˆçº§â€é¢è¯•é¢˜ï¼Œéš¾åº¦é€æ¸é€’å¢ã€‚å®ƒä»¬æ¶µç›–äº† **å±æ€§é®è”½ã€é™æ€æ–¹æ³•éšè—ã€é‡è½½å†³è®®ã€ç§æœ‰æ–¹æ³•ç»‘å®š** ä»¥åŠ **å¤šæ€çš„å†…éƒ¨è°ƒç”¨**ã€‚

è¯·æ‹¿å‡ºçº¸ç¬”ï¼ˆæˆ–è€…åœ¨è„‘æµ·é‡Œæ¨¡æ‹Ÿï¼‰ï¼Œå†™ä¸‹ä½ çš„ç­”æ¡ˆï¼Œç„¶åçœ‹ä¸‹é¢çš„è§£æã€‚

---

### âš”ï¸ ç¬¬ä¸€é¢˜ï¼šå±æ€§ä¸æ–¹æ³•çš„â€œäººæ ¼åˆ†è£‚â€

> **è€ƒå¯Ÿç‚¹**ï¼šå±æ€§çœ‹é™æ€ï¼ˆå·¦è¾¹ï¼‰ï¼Œæ–¹æ³•çœ‹åŠ¨æ€ï¼ˆå³è¾¹ï¼‰ã€‚

```java
class Father {
    int price = 100;
    void show() { System.out.println("Father: " + price); }
}

class Son extends Father {
    int price = 200; // å±æ€§é®è”½
    @Override
    void show() { System.out.println("Son: " + price); }
}

public class Test1 {
    public static void main(String[] args) {
        Father f = new Son();
        System.out.println("Property: " + f.price);
        f.show();
    }
}

```

**ğŸ‘‡ ä½ çš„é¢„æµ‹è¾“å‡ºæ˜¯ï¼Ÿ**

<details>
<summary><b>ğŸ–±ï¸ ç‚¹å‡»æŸ¥çœ‹ç­”æ¡ˆä¸è§£æ</b></summary>

**ç­”æ¡ˆï¼š**

```text
Property: 100
Son: 200

```

**è§£æï¼š**

1. **`f.price`**ï¼š
* è¿™æ˜¯**å±æ€§è®¿é—®**ã€‚ç¼–è¯‘å™¨çœ‹åˆ° `f` çš„ç±»å‹æ˜¯ `Father`ï¼Œç›´æ¥é”æ­»åç§»é‡ï¼ˆFather çš„ `price` åç§»é‡ï¼‰ã€‚
* **è®°ä½ï¼šå±æ€§æ²¡æœ‰å¤šæ€ã€‚** è¯»åˆ°çš„æ˜¯çˆ¶ç±»çš„ 100ã€‚


2. **`f.show()`**ï¼š
* è¿™æ˜¯**æ–¹æ³•è°ƒç”¨**ã€‚ç¼–è¯‘å™¨ç”Ÿæˆ `invokevirtual`ã€‚
* è¿è¡Œæ—¶ JVM æŸ¥ vtableï¼Œå‘ç°å¯¹è±¡æ˜¯ `Son`ï¼Œä¸” `Son` é‡å†™äº† `show()`ã€‚
* æ‰§è¡Œ `Son.show()`ã€‚åœ¨ `Son` çš„æ–¹æ³•é‡Œï¼Œ`price` æŒ‡çš„æ˜¯ `Son` è‡ªå·±å®šä¹‰çš„ 200ã€‚



</details>

---

### âš”ï¸ ç¬¬äºŒé¢˜ï¼šé™æ€æ–¹æ³•çš„â€œä¼ªå¤šæ€â€

> **è€ƒå¯Ÿç‚¹**ï¼šStatic æ–¹æ³•ä¸è¿› vtableï¼Œæ— æ³•é‡å†™ï¼ˆåªèƒ½éšè—ï¼‰ã€‚

```java
class A {
    static void run() { System.out.println("A run"); }
    void walk() { System.out.println("A walk"); }
}

class B extends A {
    static void run() { System.out.println("B run"); } // è¿™æ˜¯ä¸€ä¸ªæ–°æ–¹æ³•ï¼Œä¸æ˜¯é‡å†™
    @Override
    void walk() { System.out.println("B walk"); }
}

public class Test2 {
    public static void main(String[] args) {
        A ref = new B();
        ref.run();
        ref.walk();
    }
}

```

**ğŸ‘‡ ä½ çš„é¢„æµ‹è¾“å‡ºæ˜¯ï¼Ÿ**

<details>
<summary><b>ğŸ–±ï¸ ç‚¹å‡»æŸ¥çœ‹ç­”æ¡ˆä¸è§£æ</b></summary>

**ç­”æ¡ˆï¼š**

```text
A run
B walk

```

**è§£æï¼š**

1. **`ref.run()`**ï¼š
* `run` æ˜¯é™æ€æ–¹æ³•ã€‚ç¼–è¯‘å™¨çœ‹åˆ° `ref` ç±»å‹æ˜¯ `A`ï¼Œç›´æ¥ç”Ÿæˆ `invokestatic #A.run`ã€‚
* **é™æ€ç»‘å®š**ï¼šå®Œå…¨ä¸çœ‹å¯¹è±¡æ˜¯è°ï¼Œç›´æ¥è°ƒç±» A çš„æ–¹æ³•ã€‚


2. **`ref.walk()`**ï¼š
* `walk` æ˜¯æ™®é€šå®ä¾‹æ–¹æ³•ã€‚èµ°**åŠ¨æ€ç»‘å®š**æµç¨‹ã€‚
* å¯¹è±¡æ˜¯ `B`ï¼ŒæŸ¥è¡¨æ‰§è¡Œ `B` çš„é€»è¾‘ã€‚



</details>

---

### âš”ï¸ ç¬¬ä¸‰é¢˜ï¼šé‡è½½çš„â€œé™æ€é”æ­»â€

> **è€ƒå¯Ÿç‚¹**ï¼šé‡è½½ï¼ˆOverloadingï¼‰çœ‹å‚æ•°çš„é™æ€ç±»å‹ï¼Œä¸çœ‹å®é™…ç±»å‹ã€‚

```java
class Human {}
class Man extends Human {}

class Viewer {
    void view(Human h) { System.out.println("Seeing Human"); }
    void view(Man m)   { System.out.println("Seeing Man"); }
}

public class Test3 {
    public static void main(String[] args) {
        Human h = new Man(); // åªæœ‰è¿™ä¸€è¡Œæ˜¯å¤šæ€
        Viewer v = new Viewer();
        
        // å…³é”®åœ¨è¿™ä¸€è¡Œï¼šç¼–è¯‘å™¨é€‰å“ªä¸ªé‡è½½ç‰ˆæœ¬ï¼Ÿ
        v.view(h);
    }
}

```

**ğŸ‘‡ ä½ çš„é¢„æµ‹è¾“å‡ºæ˜¯ï¼Ÿ**

<details>
<summary><b>ğŸ–±ï¸ ç‚¹å‡»æŸ¥çœ‹ç­”æ¡ˆä¸è§£æ</b></summary>

**ç­”æ¡ˆï¼š**

```text
Seeing Human

```

**è§£æï¼š**

1. **ç¼–è¯‘æœŸå†³ç­–**ï¼šç¼–è¯‘å™¨çœ‹åˆ° `v.view(h)`ã€‚
2. **çœ‹å‚æ•°**ï¼šå˜é‡ `h` çš„**å£°æ˜ç±»å‹ï¼ˆé™æ€ç±»å‹ï¼‰** æ˜¯ `Human`ã€‚
3. **é”æ­»**ï¼šç¼–è¯‘å™¨æ ¹æœ¬ä¸åœ¨ä¹ `h` é‡Œé¢è£…çš„æ˜¯ `Man`ã€‚å®ƒåœ¨ç¼–è¯‘æœŸå°±é€‰å®šäº† `view(Human)` è¿™ä¸ªé‡è½½ç‰ˆæœ¬ã€‚
4. **è¿è¡ŒæœŸ**ï¼šç›´æ¥æ‰§è¡Œé€‰å®šçš„æ–¹æ³•ã€‚

</details>

---

### âš”ï¸ ç¬¬å››é¢˜ï¼šç§æœ‰æ–¹æ³•çš„â€œéšå½¢è¾¹ç•Œâ€

> **è€ƒå¯Ÿç‚¹**ï¼šPrivate æ–¹æ³•æ— æ³•è¢«é‡å†™ï¼Œå› æ­¤ä¸å­˜åœ¨å¤šæ€ã€‚

```java
class Parent {
    private void secret() { System.out.println("Parent secret"); }
    
    public void tryDo() {
        // è¿™é‡Œçš„ this å¯èƒ½æ˜¯ Son å¯¹è±¡
        // ä½†æ˜¯ secret() æ˜¯ private çš„
        this.secret(); 
    }
}

class Son extends Parent {
    // è¿™ä¸æ˜¯é‡å†™ï¼è¿™åªæ˜¯ Son è‡ªå·±å®šä¹‰çš„ä¸€ä¸ªæ–°æ–¹æ³•
    // å› ä¸º Son æ ¹æœ¬çœ‹ä¸è§ Parent çš„ private æ–¹æ³•
    public void secret() { System.out.println("Son secret"); }
}

public class Test4 {
    public static void main(String[] args) {
        Parent p = new Son();
        p.tryDo();
    }
}

```

**ğŸ‘‡ ä½ çš„é¢„æµ‹è¾“å‡ºæ˜¯ï¼Ÿ**

<details>
<summary><b>ğŸ–±ï¸ ç‚¹å‡»æŸ¥çœ‹ç­”æ¡ˆä¸è§£æ</b></summary>

**ç­”æ¡ˆï¼š**

```text
Parent secret

```

**è§£æï¼š**

1. `p.tryDo()`ï¼š`Parent` çš„ `tryDo` æ˜¯ public çš„ï¼Œè¢«ç»§æ‰¿äº†ã€‚å®é™…æ‰§è¡Œçš„æ˜¯ `Parent` ç±»é‡Œçš„ä»£ç ï¼ˆå› ä¸º Son æ²¡é‡å†™ tryDoï¼‰ã€‚
2. **å…³é”®ç‚¹**ï¼šåœ¨ `Parent.tryDo()` å†…éƒ¨æ‰§è¡Œ `this.secret()`ã€‚
3. è™½ç„¶ `this` æŒ‡å‘çš„æ˜¯ `Son` å¯¹è±¡ï¼Œä½†æ˜¯ç¼–è¯‘å™¨åœ¨ç¼–è¯‘ `Parent.java` æ—¶ï¼Œå‘ç° `secret()` æ˜¯ **private** çš„ã€‚
4. **é™æ€ç»‘å®š**ï¼šPrivate æ–¹æ³•é€šè¿‡ `invokespecial` æŒ‡ä»¤è°ƒç”¨ï¼Œ**ç¼–è¯‘æœŸç›´æ¥é”æ­»**è°ƒç”¨ `Parent` è‡ªå·±çš„ `secret()`ã€‚å®ƒæ ¹æœ¬ä¸å»æŸ¥ vtableã€‚

</details>

---

### âš”ï¸ ç¬¬äº”é¢˜ï¼šç»ˆæé™·é˜±ï¼ˆå¤šæ€ä¸­çš„å¤šæ€ï¼‰

> **è€ƒå¯Ÿç‚¹**ï¼š`this` åœ¨ç»§æ‰¿ä½“ç³»ä¸­çš„ä¼ é€’ + åŠ¨æ€ç»‘å®šã€‚

```java
class Base {
    int i = 10;
    public Base() {
        // âš ï¸ æ„é€ å™¨é‡Œè°ƒäº†å¤šæ€æ–¹æ³•
        print(); 
        i = 20;
    }
    public void print() {
        System.out.println("Base: " + i);
    }
}

class Sub extends Base {
    int i = 30;
    public Sub() {
        print();
        i = 40;
    }
    @Override
    public void print() {
        // æ³¨æ„ï¼šæ­¤æ—¶ Sub çš„ i åˆå§‹åŒ–äº†å—ï¼Ÿ
        System.out.println("Sub: " + i);
    }
}

public class Test5 {
    public static void main(String[] args) {
        new Sub();
    }
}

```

**ğŸ‘‡ ä½ çš„é¢„æµ‹è¾“å‡ºæ˜¯ï¼Ÿï¼ˆè¿™é¢˜éå¸¸éš¾ï¼Œæƒ³æ¸…æ¥šåˆå§‹åŒ–é¡ºåºï¼‰**

<details>
<summary><b>ğŸ–±ï¸ ç‚¹å‡»æŸ¥çœ‹ç­”æ¡ˆä¸è§£æ</b></summary>

**ç­”æ¡ˆï¼š**

```text
Sub: 0
Sub: 30

```

**è§£æï¼š**
è¿™æ˜¯ Java é¢è¯•ä¸­çš„åœ°ç‹±çº§é¢˜ç›®ï¼Œè€ƒå¯Ÿäº†**å¯¹è±¡åˆå§‹åŒ–é¡ºåº**å’Œ**å¤šæ€**çš„ç»“åˆã€‚

**ç¬¬ä¸€æ­¥ï¼šnew Sub() å¼€å§‹**

1. **è¿› Sub æ„é€ å™¨** -> éšå¼è°ƒç”¨ `super()` (Base æ„é€ å™¨)ã€‚
2. **è¿› Base æ„é€ å™¨**ï¼š
* æ‰§è¡Œ `print()`ã€‚
* **å…³é”®ç‚¹**ï¼š`print()` è¢« `Sub` é‡å†™äº†ï¼è™½ç„¶ç°åœ¨è¿˜åœ¨ `Base` çš„æ„é€ å™¨é‡Œï¼Œä½†å¯¹è±¡æ˜¯ `Sub`ï¼Œæ‰€ä»¥**åŠ¨æ€ç»‘å®š**åˆ°äº† `Sub.print()`ã€‚
* **é™·é˜±**ï¼šæ­¤æ—¶ `Sub` å¯¹è±¡çš„æˆå‘˜å˜é‡ `i` **è¿˜æ²¡æœ‰è¢«åˆå§‹åŒ–**ï¼ˆé‚£æ˜¯ Sub æ„é€ å™¨ä¹‹åçš„äº‹ï¼‰ã€‚å†…å­˜é‡Œä»…ä»…å…¨æ˜¯ 0ã€‚
* **è¾“å‡º 1**ï¼š`Sub: 0`ã€‚
* Base æ„é€ å™¨ç»§ç»­ï¼ŒæŠŠ `Base.i` è®¾ä¸º 20ï¼ˆæ³¨æ„è¿™æ˜¯çˆ¶ç±»çš„ iï¼Œè·Ÿå­ç±» i æ— å…³ï¼‰ã€‚


3. **å› Sub æ„é€ å™¨**ï¼š
* ç°åœ¨å¼€å§‹åˆå§‹åŒ– Sub çš„æˆå‘˜å˜é‡ã€‚`Sub.i` è¢«èµ‹å€¼ä¸º 30ã€‚
* æ‰§è¡Œ `print()`ã€‚å†æ¬¡è°ƒç”¨ `Sub.print()`ã€‚
* **è¾“å‡º 2**ï¼š`Sub: 30`ã€‚
* æœ€åæŠŠ `Sub.i` è®¾ä¸º 40ã€‚



**æ€»ç»“**ï¼šåœ¨çˆ¶ç±»æ„é€ å™¨ä¸­è°ƒç”¨ä¼šè¢«å­ç±»é‡å†™çš„æ–¹æ³•æ˜¯éå¸¸å±é™©çš„ï¼Œå› ä¸ºæ­¤æ—¶å­ç±»è¿˜æ²¡åˆå§‹åŒ–å®Œï¼

</details>

---

### ğŸ“Š ä½ çš„æˆ˜ç»©å¦‚ä½•ï¼Ÿ

* **å…¨å¯¹**ï¼šæ­å–œï¼ä½ å·²ç»æ˜¯ JVM çº§åˆ«çš„å¤§å¸ˆäº†ï¼Œè¿™å—çŸ¥è¯†ç‚¹å·²ç»å®Œå…¨å†…åŒ–ã€‚
* **é”™ 1 é¢˜**ï¼šä¼˜ç§€ï¼Œå¯èƒ½åœ¨æŸäº›è¾¹ç¼˜ Caseï¼ˆå¦‚æ„é€ å™¨æˆ– Privateï¼‰ä¸Šè¿˜è¦å¾®è°ƒã€‚
* **é”™ 2-3 é¢˜**ï¼šæ­£å¸¸ï¼Œè¯´æ˜æ ¸å¿ƒæ¦‚å¿µæ‡‚äº†ï¼Œä½†â€œé™æ€ç»‘å®šâ€å’Œâ€œåˆå§‹åŒ–é¡ºåºâ€çš„ç»†èŠ‚è¿˜éœ€è¦å¤ä¹ ã€‚
* **é”™ 4 é¢˜ä»¥ä¸Š**ï¼šå»ºè®®æŠŠæˆ‘ä»¬ä¹‹å‰çš„ç¬”è®°å†è¿‡ä¸€éï¼Œé‡ç‚¹å…³æ³¨â€œç¼–è¯‘æœŸå†³å®šâ€vsâ€œè¿è¡ŒæœŸå†³å®šâ€çš„åŒºåˆ«ã€‚

å“ªä¸€é“é¢˜è®©ä½ æ„Ÿåˆ°æ„å¤–ï¼Ÿæˆ‘ä»¬å¯ä»¥è¯¦ç»†æ‹†è§£å®ƒã€‚